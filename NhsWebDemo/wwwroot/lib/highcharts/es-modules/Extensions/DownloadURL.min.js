"use strict";import Highcharts from"../Core/Globals.js";var isSafari=Highcharts.isSafari,win=Highcharts.win,doc=win.document,domurl=win.URL||win.webkitURL||win,dataURLtoBlob=Highcharts.dataURLtoBlob=function(o){var a=o.replace(/filename=.*;/,"").match(/data:([^;]*)(;base64)?,([0-9A-Za-z+/]+)/);if(a&&3<a.length&&win.atob&&win.ArrayBuffer&&win.Uint8Array&&win.Blob&&domurl.createObjectURL){for(var t=win.atob(a[3]),o=new win.ArrayBuffer(t.length),e=new win.Uint8Array(o),n=0;n<e.length;++n)e[n]=t.charCodeAt(n);a=new win.Blob([e],{type:a[1]});return domurl.createObjectURL(a)}},downloadURL=Highcharts.downloadURL=function(a,o){var t=win.navigator,e=doc.createElement("a");if("string"==typeof a||a instanceof String||!t.msSaveOrOpenBlob){a=""+a;var n=/Edge\/\d+/.test(t.userAgent),r=isSafari&&"string"==typeof a&&0===a.indexOf("data:application/pdf");if((r||n||2e6<a.length)&&!(a=dataURLtoBlob(a)||""))throw new Error("Failed to convert to blob");if(void 0!==e.download)e.href=a,e.download=o,doc.body.appendChild(e),e.click(),doc.body.removeChild(e);else try{var i=win.open(a,"chart");if(null==i)throw new Error("Failed to open window")}catch(o){win.location.href=a}}else t.msSaveOrOpenBlob(a,o)},DownloadURL={dataURLtoBlob:dataURLtoBlob,downloadURL:downloadURL};export default DownloadURL;