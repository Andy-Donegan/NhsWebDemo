"use strict";import Series from"../Core/Series/Series.js";import U from"../Core/Utilities.js";var addEvent=U.addEvent,isArray=U.isArray,merge=U.merge;addEvent(Series,"afterRender",function(){var s,r,o,e,i,a,t,c,l,n,h,d,y=this,b=y.options,P=b.pointRange,p=b.lastVisiblePrice,x=b.lastPrice;(p||x)&&"highcharts-navigator-series"!==b.id&&(s=y.xAxis,o=(r=y.yAxis).crosshair,e=r.cross,i=r.crossLabel,a=y.points,d=y.yData.length,t=a.length,c=y.xData[y.xData.length-1],l=y.yData[d-1],d=h=n=void 0,x&&x.enabled&&(r.crosshair=r.options.crosshair=b.lastPrice,!y.chart.styledMode&&r.crosshair&&r.options.crosshair&&b.lastPrice&&(r.crosshair.color=r.options.crosshair.color=b.lastPrice.color||y.color),r.cross=y.lastPrice,h=isArray(l)?l[3]:l,r.drawCrosshair(null,{x:c,y:h,plotX:s.toPixels(c,!0),plotY:r.toPixels(h,!0)}),y.yAxis.cross&&(y.lastPrice=y.yAxis.cross,y.lastPrice.addClass("highcharts-color-"+y.colorIndex),y.lastPrice.y=h)),p&&p.enabled&&0<t&&(d=a[t-1].x===c||null===P?1:2,r.crosshair=r.options.crosshair=merge({color:"transparent"},b.lastVisiblePrice),r.cross=y.lastVisiblePrice,n=a[t-d],y.crossLabel&&y.crossLabel.destroy(),delete r.crossLabel,r.drawCrosshair(null,n),r.cross&&(y.lastVisiblePrice=r.cross,"number"==typeof n.y&&(y.lastVisiblePrice.y=n.y)),y.crossLabel=r.crossLabel),r.crosshair=r.options.crosshair=o,r.cross=e,r.crossLabel=i)});