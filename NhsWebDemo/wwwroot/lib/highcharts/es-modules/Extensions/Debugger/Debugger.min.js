"use strict";import Chart from"../../Core/Chart/Chart.js";import ErrorMessages from"./ErrorMessages.js";import H from"../../Core/Globals.js";var charts=H.charts;import D from"../../Core/DefaultOptions.js";var setOptions=D.setOptions;import U from"../../Core/Utilities.js";var addEvent=U.addEvent,find=U.find,isNumber=U.isNumber;setOptions({chart:{displayErrors:!0}}),addEvent(H,"displayError",function(r){var e,t,s,o=r.chart||find(charts.slice().reverse(),function(r){return!!r});o&&(s=r.code,t=o.options.chart,e=o.renderer,o.errorElements&&o.errorElements.forEach(function(r){r&&r.destroy()}),t&&t.displayErrors&&e&&(o.errorElements=[],r=isNumber(s)?"Highcharts error #"+s+": "+ErrorMessages[s].text:s,t=o.chartWidth,s=o.chartHeight,r=r.replace(/<h1>(.*)<\/h1>/g,'<br><span style="font-size: 24px">$1</span><br>').replace(/<p>/g,"").replace(/<\/p>/g,"<br>"),o.errorElements[0]=e.rect(2,2,t-4,s-4).attr({"stroke-width":4,stroke:"#ff0000",zIndex:3}).add(),o.errorElements[1]=e.label(r,0,0,"rect",void 0,void 0,void 0,void 0,"debugger").css({color:"#ffffff",width:t-16+"px",padding:0}).attr({fill:"rgba(255, 0, 0, 0.9)",width:t,padding:8,zIndex:10}).add(),o.errorElements[1].attr({y:s-o.errorElements[1].getBBox().height})))}),addEvent(Chart,"beforeRedraw",function(){var r=this.errorElements;r&&r.length&&r.forEach(function(r){r.destroy()}),delete this.errorElements});