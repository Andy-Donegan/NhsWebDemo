"use strict";import U from"../Utilities.js";var DateTimeAxis,addEvent=U.addEvent,getMagnitude=U.getMagnitude,normalizeTickInterval=U.normalizeTickInterval,timeUnits=U.timeUnits;!function(t){var e=[];function i(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function n(t){var e=this;"datetime"===t.userOptions.type?e.dateTime||(e.dateTime=new a(e)):e.dateTime=void 0}t.compose=function(t){return-1===e.indexOf(t)&&(e.push(t),t.keepProps.push("dateTime"),t.prototype.getTimeTicks=i,addEvent(t,"init",n)),t};var a=(r.prototype.normalizeTimeTickInterval=function(t,e){for(var i=e||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],n=i[i.length-1],a=timeUnits[n[0]],r=n[1],o=0;o<i.length;o++){n=i[o],a=timeUnits[n[0]],r=n[1];if(i[o+1])if(t<=(a*r[r.length-1]+timeUnits[i[o+1][0]])/2)break}return a===timeUnits.year&&t<5*a&&(r=[1,2,5]),{unitRange:a,count:normalizeTickInterval(t/a,r,"year"===n[0]?Math.max(getMagnitude(t/a),1):1),unitName:n[0]}},r.prototype.getXDateFormat=function(t,e){var i=this.axis;return i.closestPointRange?i.chart.time.getDateFormat(i.closestPointRange,t,i.options.startOfWeek,e)||e.year:e.day},r);function r(t){this.axis=t}t.Additions=a}(DateTimeAxis=DateTimeAxis||{});export default DateTimeAxis;