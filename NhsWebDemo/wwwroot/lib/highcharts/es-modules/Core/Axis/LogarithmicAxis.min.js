"use strict";import U from"../Utilities.js";var LogarithmicAxis,addEvent=U.addEvent,getMagnitude=U.getMagnitude,normalizeTickInterval=U.normalizeTickInterval,pick=U.pick;!function(i){var t=[];function o(i){var t=this,o=i.userOptions,i=t.logarithmic;"logarithmic"!==o.type?t.logarithmic=void 0:i||(t.logarithmic=new r(t))}function n(){var i=this,t=i.logarithmic;t&&(i.lin2val=function(i){return t.lin2log(i)},i.val2lin=function(i){return t.log2lin(i)})}i.compose=function(i){return-1===t.indexOf(i)&&(t.push(i),i.keepProps.push("logarithmic"),addEvent(i,"init",o),addEvent(i,"afterInit",n)),i};var r=(e.prototype.getLogTickPositions=function(i,t,o,n){var r=this,e=r.axis,a=e.len,l=e.options,c=[];if(n||(r.minorAutoInterval=void 0),.5<=i)i=Math.round(i),c=e.getLinearTickPositions(i,t,o);else if(.08<=i)for(var g,s,v=void 0,u=void 0,d=void 0,h=void 0,p=void 0,v=.3<i?[1,2,4]:.15<i?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],u=Math.floor(t);u<o+1&&!p;u++)for(g=v.length,d=0;d<g&&!p;d++)t<(s=r.log2lin(r.lin2log(u)*v[d]))&&(!n||h<=o)&&void 0!==h&&c.push(h),o<h&&(p=!0),h=s;else{var m=r.lin2log(t),f=r.lin2log(o),k=n?e.getMinorTickInterval():l.tickInterval,l=l.tickPixelInterval/(n?5:1),a=n?a/e.tickPositions.length:a;i=pick("auto"===k?null:k,r.minorAutoInterval,(f-m)*l/(a||1)),i=normalizeTickInterval(i,void 0,getMagnitude(i)),c=e.getLinearTickPositions(i,m,f).map(r.log2lin),n||(r.minorAutoInterval=i/5)}return n||(e.tickInterval=i),c},e.prototype.lin2log=function(i){return Math.pow(10,i)},e.prototype.log2lin=function(i){return Math.log(i)/Math.LN10},e);function e(i){this.axis=i}i.Additions=r}(LogarithmicAxis=LogarithmicAxis||{});export default LogarithmicAxis;