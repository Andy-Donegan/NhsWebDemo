"use strict";import U from"../../Utilities.js";var PlotLineOrBandAxis,erase=U.erase,extend=U.extend,isNumber=U.isNumber;!function(t){var r,o=[];t.compose=function(t,n){return r=r||t,-1===o.indexOf(n)&&(o.push(n),extend(n.prototype,e.prototype)),n};var e=(n.prototype.getPlotBandPath=function(t,n,o){void 0===o&&(o=this.options);var e,i,s=this.getPlotLinePath({value:n,force:!0,acrossPanes:o.acrossPanes}),r=[],a=this.horiz,n=!isNumber(this.min)||!isNumber(this.max)||t<this.min&&n<this.min||t>this.max&&n>this.max,d=this.getPlotLinePath({value:t,force:!0,acrossPanes:o.acrossPanes}),l=1;if(d&&s)for(n&&(i=d.toString()===s.toString(),l=0),e=0;e<d.length;e+=2){var p=d[e],h=d[e+1],u=s[e],L=s[e+1];"M"!==p[0]&&"L"!==p[0]||"M"!==h[0]&&"L"!==h[0]||"M"!==u[0]&&"L"!==u[0]||"M"!==L[0]&&"L"!==L[0]||(a&&u[1]===p[1]?(u[1]+=l,L[1]+=l):a||u[2]!==p[2]||(u[2]+=l,L[2]+=l),r.push(["M",p[1],p[2]],["L",h[1],h[2]],["L",L[1],L[2]],["L",u[1],u[2]],["Z"])),r.isFlat=i}else d=null;return r},n.prototype.addPlotBand=function(t){return this.addPlotBandOrLine(t,"plotBands")},n.prototype.addPlotLine=function(t){return this.addPlotBandOrLine(t,"plotLines")},n.prototype.addPlotBandOrLine=function(t,n){var o,e=this,i=this.userOptions,s=new r(this,t);return(s=this.visible?s.render():s)&&(this._addedPlotLB||(this._addedPlotLB=!0,(i.plotLines||[]).concat(i.plotBands||[]).forEach(function(t){e.addPlotBandOrLine(t)})),n&&((o=i[n]||[]).push(t),i[n]=o),this.plotLinesAndBands.push(s)),s},n.prototype.removePlotBandOrLine=function(n){var t=this.plotLinesAndBands,o=this.options,e=this.userOptions;if(t){for(var i=t.length;i--;)t[i].id===n&&t[i].destroy();[o.plotLines||[],e.plotLines||[],o.plotBands||[],e.plotBands||[]].forEach(function(t){for(i=t.length;i--;)(t[i]||{}).id===n&&erase(t,t[i])})}},n.prototype.removePlotBand=function(t){this.removePlotBandOrLine(t)},n.prototype.removePlotLine=function(t){this.removePlotBandOrLine(t)},n);function n(){}}(PlotLineOrBandAxis=PlotLineOrBandAxis||{});export default PlotLineOrBandAxis;