"use strict";var __extends=this&&this.__extends||function(){var s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};return function(t,e){function i(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();import Math3D from"../../Extensions/Math3D.js";var perspective=Math3D.perspective;import Series from"../Series/Series.js";import U from"../Utilities.js";var addEvent=U.addEvent,extend=U.extend,merge=U.merge,pick=U.pick,isNumber=U.isNumber,Series3D=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.translate=function(){t.prototype.translate.apply(this,arguments),this.chart.is3d()&&this.translate3dPoints()},e.prototype.translate3dPoints=function(){var t,e,i,s,r,n=this,o=n.options,a=n.chart,p=pick(n.zAxis,a.options.zAxis[0]),l=[],d=[],c=o.stacking?isNumber(o.stack)?o.stack:0:n.index||0;for(n.zPadding=c*(o.depth||0+(o.groupZPadding||1)),r=0;r<n.data.length;r++)t=n.data[r],p&&p.translate?(s=p.logarithmic&&p.val2lin?p.val2lin(t.z):t.z,t.plotZ=p.translate(s),t.isInside=!!t.isInside&&(s>=p.min&&s<=p.max)):t.plotZ=n.zPadding,t.axisXpos=t.plotX,t.axisYpos=t.plotY,t.axisZpos=t.plotZ,l.push({x:t.plotX,y:t.plotY,z:t.plotZ}),d.push(t.plotX||0);for(n.rawPointsX=d,e=perspective(l,a,!0),r=0;r<n.data.length;r++)t=n.data[r],i=e[r],t.plotX=i.x,t.plotY=i.y,t.plotZ=i.z},e.defaultOptions=merge(Series.defaultOptions),e}(Series);addEvent(Series,"afterTranslate",function(){this.chart.is3d()&&this.translate3dPoints()}),extend(Series.prototype,{translate3dPoints:Series3D.prototype.translate3dPoints});export default Series3D;