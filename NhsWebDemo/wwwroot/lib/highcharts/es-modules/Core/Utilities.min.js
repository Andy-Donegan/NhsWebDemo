"use strict";import H from"./Globals.js";var charts=H.charts,doc=H.doc,win=H.win;function error(e,t,r,n){var i,o=t?"Highcharts error":"Highcharts warning",a=isNumber(e=32===e?o+": Deprecated member":e),c=a?o+" #"+e+": www.highcharts.com/errors/"+e+"/":e.toString();void 0!==n&&(i="",a&&(c+="?"),objectEach(n,function(e,t){i+="\n - "+t+": "+e,a&&(c+=encodeURI(t)+"="+encodeURI(e))}),c+=i),fireEvent(H,"displayError",{chart:r,code:e,message:c,params:n},function(){if(t)throw new Error(c);win.console&&-1===error.messages.indexOf(c)&&console.warn(c)}),error.messages.push(c)}function merge(){function i(r,n){return"object"!=typeof r&&(r={}),objectEach(n,function(e,t){"__proto__"!==t&&"constructor"!==t&&(!isObject(e,!0)||isClass(e)||isDOMElement(e)?r[t]=n[t]:r[t]=i(r[t]||{},e))}),r}var e=arguments,t={};!0===e[0]&&(t=e[1],e=Array.prototype.slice.call(e,2));for(var r=e.length,n=0;n<r;n++)t=i(t,e[n]);return t}function clamp(e,t,r){return t<e?e<r?e:r:t}function cleanRecursively(n,i){var o={};return objectEach(n,function(e,t){var r;isObject(n[t],!0)&&!n.nodeType&&i[t]?(r=cleanRecursively(n[t],i[t]),Object.keys(r).length&&(o[t]=r)):!isObject(n[t])&&n[t]===i[t]||(o[t]=n[t])}),o}function pInt(e,t){return parseInt(e,t||10)}function isString(e){return"string"==typeof e}function isArray(e){e=Object.prototype.toString.call(e);return"[object Array]"===e||"[object Array Iterator]"===e}function isObject(e,t){return!(!e||"object"!=typeof e||t&&isArray(e))}function isDOMElement(e){return isObject(e)&&"number"==typeof e.nodeType}function isClass(e){var t=e&&e.constructor;return!(!isObject(e,!0)||isDOMElement(e)||!t||!t.name||"Object"===t.name)}function isNumber(e){return"number"==typeof e&&!isNaN(e)&&e<1/0&&-1/0<e}function erase(e,t){for(var r=e.length;r--;)if(e[r]===t){e.splice(r,1);break}}function defined(e){return null!=e}function attr(r,e,t){var n;return isString(e)?defined(t)?r.setAttribute(e,t):r&&r.getAttribute&&((n=r.getAttribute(e))||"class"!==e||(n=r.getAttribute(e+"Name"))):objectEach(e,function(e,t){defined(e)?r.setAttribute(t,e):r.removeAttribute(t)}),n}function splat(e){return isArray(e)?e:[e]}function syncTimeout(e,t,r){return 0<t?setTimeout(e,t,r):(e.call(0,r),-1)}function internalClearTimeout(e){defined(e)&&clearTimeout(e)}function extend(e,t){for(var r in e=e||{},t)e[r]=t[r];return e}function pick(){for(var e=arguments,t=e.length,r=0;r<t;r++){var n=e[r];if(null!=n)return n}}function css(e,t){H.isMS&&!H.svg&&t&&void 0!==t.opacity&&(t.filter="alpha(opacity="+100*t.opacity+")"),extend(e.style,t)}function createElement(e,t,r,n,i){e=doc.createElement(e);return t&&extend(e,t),i&&css(e,{padding:"0",border:"none",margin:"0"}),r&&css(e,r),n&&n.appendChild(e),e}function extendClass(e,t){function r(){}return extend(r.prototype=new e,t),r}function pad(e,t,r){return new Array((t||2)+1-String(e).replace("-","").length).join(r||"0")+e}function relativeLength(e,t,r){return/%$/.test(e)?t*parseFloat(e)/100+(r||0):parseFloat(e)}function wrap(e,t,n){var i=e[t];e[t]=function(){var e=Array.prototype.slice.call(arguments),t=arguments,r=this;r.proceed=function(){i.apply(r,arguments.length?arguments:t)},e.unshift(i);e=n.apply(this,e);return r.proceed=null,e}}function getMagnitude(e){return Math.pow(10,Math.floor(Math.log(e)/Math.LN10))}function normalizeTickInterval(e,t,r,n,i){var o,a=e,c=e/(r=pick(r,1));for(t||(t=i?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===n&&(1===r?t=t.filter(function(e){return e%1==0}):r<=.1&&(t=[1/r]))),o=0;o<t.length&&(a=t[o],!(i&&e<=a*r||!i&&c<=(t[o]+(t[o+1]||t[o]))/2));o++);return a=correctFloat(a*r,-Math.round(Math.log(.001)/Math.LN10))}function stableSort(e,r){for(var n,t=e.length,i=0;i<t;i++)e[i].safeI=i;for(e.sort(function(e,t){return 0===(n=r(e,t))?e.safeI-t.safeI:n}),i=0;i<t;i++)delete e[i].safeI}function arrayMin(e){for(var t=e.length,r=e[0];t--;)e[t]<r&&(r=e[t]);return r}function arrayMax(e){for(var t=e.length,r=e[0];t--;)e[t]>r&&(r=e[t]);return r}function destroyObjectProperties(r,n){objectEach(r,function(e,t){e&&e!==n&&e.destroy&&e.destroy(),delete r[t]})}function discardElement(e){e&&e.parentElement&&e.parentElement.removeChild(e)}function correctFloat(e,t){return 1e14<e?e:parseFloat(e.toPrecision(t||14))}(error=error||{}).messages=[];var timeUnits={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5};function getNestedProperty(e,t){for(var r=e.split(".");r.length&&defined(t);){var n=r.shift();if(void 0===n||"__proto__"===n)return;n=t[n];if(!defined(n)||"function"==typeof n||"number"==typeof n.nodeType||n===win)return;t=n}return t}function getStyle(e,t,r){var n,i=H.getStyle||getStyle;if("width"===t){var o=Math.min(e.offsetWidth,e.scrollWidth),a=e.getBoundingClientRect&&e.getBoundingClientRect().width;return a<o&&o-1<=a&&(o=Math.floor(a)),Math.max(0,o-(i(e,"padding-left",!0)||0)-(i(e,"padding-right",!0)||0))}if("height"===t)return Math.max(0,Math.min(e.offsetHeight,e.scrollHeight)-(i(e,"padding-top",!0)||0)-(i(e,"padding-bottom",!0)||0));win.getComputedStyle||error(27,!0);e=win.getComputedStyle(e,void 0);return e&&(n=e.getPropertyValue(t),pick(r,"opacity"!==t)&&(n=pInt(n))),n}function inArray(e,t,r){return error(32,!1,void 0,{"Highcharts.inArray":"use Array.indexOf"}),t.indexOf(e,r)}Math.easeInOutSine=function(e){return-.5*(Math.cos(Math.PI*e)-1)};var serialMode,find=Array.prototype.find?function(e,t){return e.find(t)}:function(e,t){for(var r=e.length,n=0;n<r;n++)if(t(e[n],n))return e[n]};function keys(e){return error(32,!1,void 0,{"Highcharts.keys":"use Object.keys"}),Object.keys(e)}function offset(e){var t=doc.documentElement,e=e.parentElement||e.parentNode?e.getBoundingClientRect():{top:0,left:0,width:0,height:0};return{top:e.top+(win.pageYOffset||t.scrollTop)-(t.clientTop||0),left:e.left+(win.pageXOffset||t.scrollLeft)-(t.clientLeft||0),width:e.width,height:e.height}}function objectEach(e,t,r){for(var n in e)Object.hasOwnProperty.call(e,n)&&t.call(r||e[n],e[n],n,e)}function addEvent(e,t,r,n){void 0===n&&(n={});var i="function"==typeof e&&e.prototype||e;Object.hasOwnProperty.call(i,"hcEvents")||(i.hcEvents={});var o=i.hcEvents;H.Point&&e instanceof H.Point&&e.series&&e.series.chart&&(e.series.chart.runTrackerClick=!0);i=e.addEventListener||H.addEventListenerPolyfill;i&&i.call(e,t,r,!!H.supportsPassiveEvents&&{passive:void 0===n.passive?-1!==t.indexOf("touch"):n.passive,capture:!1}),o[t]||(o[t]=[]);n={fn:r,order:"number"==typeof n.order?n.order:1/0};return o[t].push(n),o[t].sort(function(e,t){return e.order-t.order}),function(){removeEvent(e,t,r)}}function removeEvent(i,t,r){function o(e,t){var r=i.removeEventListener||H.removeEventListenerPolyfill;r&&r.call(i,e,t,!1)}function e(r){var e,n;i.nodeName&&(t?(e={})[t]=!0:e=r,objectEach(e,function(e,t){if(r[t])for(n=r[t].length;n--;)o(t,r[t][n].fn)}))}var n,a,c="function"==typeof i&&i.prototype||i;Object.hasOwnProperty.call(c,"hcEvents")&&(n=c.hcEvents,t?(a=n[t]||[],r?(n[t]=a.filter(function(e){return r!==e.fn}),o(t,r)):(e(n),n[t]=[])):(e(n),delete c.hcEvents))}function fireEvent(t,e,r,n){var i;if(r=r||{},doc.createEvent&&(t.dispatchEvent||t.fireEvent&&t!==H))(i=doc.createEvent("Events")).initEvent(e,!0,!0),r=extend(i,r),t.dispatchEvent?t.dispatchEvent(r):t.fireEvent(e,r);else if(t.hcEvents){r.target||extend(r,{preventDefault:function(){r.defaultPrevented=!0},target:t,type:e});for(var o=[],a=t,c=!1;a.hcEvents;)Object.hasOwnProperty.call(a,"hcEvents")&&a.hcEvents[e]&&(o.length&&(c=!0),o.unshift.apply(o,a.hcEvents[e])),a=Object.getPrototypeOf(a);c&&o.sort(function(e,t){return e.order-t.order}),o.forEach(function(e){!1===e.fn.call(t,r)&&r.preventDefault()})}n&&!r.defaultPrevented&&n.call(t,r)}objectEach({map:"map",each:"forEach",grep:"filter",reduce:"reduce",some:"some"},function(r,n){H[n]=function(e){var t;return error(32,!1,void 0,((t={})["Highcharts."+n]="use Array."+r,t)),Array.prototype[r].apply(e,[].slice.call(arguments,1))}});var uniqueKey=function(){var e=Math.random().toString(36).substring(2,9)+"-",t=0;return function(){return"highcharts-"+(serialMode?"":e)+t++}}();function useSerialIds(e){return serialMode=pick(e,serialMode)}function isFunction(e){return"function"==typeof e}win.jQuery&&(win.jQuery.fn.highcharts=function(){var e=[].slice.call(arguments);if(this[0])return e[0]?(new H[isString(e[0])?e.shift():"Chart"](this[0],e[0],e[1]),this):charts[attr(this[0],"data-highcharts-chart")]});var Utilities={addEvent:addEvent,arrayMax:arrayMax,arrayMin:arrayMin,attr:attr,clamp:clamp,cleanRecursively:cleanRecursively,clearTimeout:internalClearTimeout,correctFloat:correctFloat,createElement:createElement,css:css,defined:defined,destroyObjectProperties:destroyObjectProperties,discardElement:discardElement,erase:erase,error:error,extend:extend,extendClass:extendClass,find:find,fireEvent:fireEvent,getMagnitude:getMagnitude,getNestedProperty:getNestedProperty,getStyle:getStyle,inArray:inArray,isArray:isArray,isClass:isClass,isDOMElement:isDOMElement,isFunction:isFunction,isNumber:isNumber,isObject:isObject,isString:isString,keys:keys,merge:merge,normalizeTickInterval:normalizeTickInterval,objectEach:objectEach,offset:offset,pad:pad,pick:pick,pInt:pInt,relativeLength:relativeLength,removeEvent:removeEvent,splat:splat,stableSort:stableSort,syncTimeout:syncTimeout,timeUnits:timeUnits,uniqueKey:uniqueKey,useSerialIds:useSerialIds,wrap:wrap};export default Utilities;