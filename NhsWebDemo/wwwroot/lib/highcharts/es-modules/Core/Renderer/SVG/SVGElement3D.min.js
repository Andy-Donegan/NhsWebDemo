"use strict";import Color from"../../Color/Color.js";var color=Color.parse;import SVGElement from"./SVGElement.js";import U from"../../Utilities.js";var defined=U.defined,merge=U.merge,objectEach=U.objectEach,pick=U.pick,SVGElement3D={base:{initArgs:function(e){var t=this,r=t.renderer,i=r[t.pathType+"Path"](e),s=i.zIndexes;t.parts.forEach(function(e){t[e]=r.path(i[e]).attr({class:"highcharts-3d-"+e,zIndex:s[e]||0}).add(t)}),t.attr({"stroke-linejoin":"round",zIndex:s.group}),t.originalDestroy=t.destroy,t.destroy=t.destroyParts,t.forcedSides=i.forcedSides},singleSetterForParts:function(r,e,i,t,s,o){var n={},o=[null,null,t||"attr",s,o],d=i&&i.zIndexes;return i?(d&&d.group&&this.attr({zIndex:d.group}),objectEach(i,function(e,t){n[t]={},n[t][r]=e,d&&(n[t].zIndex=i.zIndexes[t]||0)}),o[1]=n):(n[r]=e,o[0]=n),this.processParts.apply(this,o)},processParts:function(t,r,i,s,o){var n=this;return n.parts.forEach(function(e){!1!==(t=r?pick(r[e],!1):t)&&n[e][i](t,s,o)}),n},destroyParts:function(){return this.processParts(null,null,"destroy"),this.originalDestroy()}}};SVGElement3D.cuboid=merge(SVGElement3D.base,{parts:["front","top","side"],pathType:"cuboid",attr:function(e,t,r,i){var s;return"string"==typeof e&&void 0!==t&&(s=e,(e={})[s]=t),e.shapeArgs||defined(e.x)?this.singleSetterForParts("d",null,this.renderer[this.pathType+"Path"](e.shapeArgs||e)):SVGElement.prototype.attr.call(this,e,void 0,r,i)},animate:function(e,t,r){var i,s;return defined(e.x)&&defined(e.y)?(s=(i=this.renderer[this.pathType+"Path"](e)).forcedSides,this.singleSetterForParts("d",null,i,"animate",t,r),this.attr({zIndex:i.zIndexes.group}),s!==this.forcedSides&&(this.forcedSides=s,SVGElement3D.cuboid.fillSetter.call(this,this.fill))):SVGElement.prototype.animate.call(this,e,t,r),this},fillSetter:function(e){var t=this;return t.forcedSides=t.forcedSides||[],t.singleSetterForParts("fill",null,{front:e,top:color(e).brighten(0<=t.forcedSides.indexOf("top")?0:.1).get(),side:color(e).brighten(0<=t.forcedSides.indexOf("side")?0:-.1).get()}),t.color=t.fill=e,t}});export default SVGElement3D;