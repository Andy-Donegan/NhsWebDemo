"use strict";import Fx from"./Fx.js";import U from"../Utilities.js";var defined=U.defined,getStyle=U.getStyle,isArray=U.isArray,isNumber=U.isNumber,isObject=U.isObject,merge=U.merge,objectEach=U.objectEach,pick=U.pick;function setAnimation(t,e){e.renderer.globalAnimation=pick(t,e.options.chart.animation,!0)}function animObject(t){return isObject(t)?merge({duration:500,defer:0},t):{duration:t?500:0,defer:0}}function getDeferredAnimation(t,e,i){var n=animObject(e),i=i?[i]:t.series,r=0,a=0;return i.forEach(function(t){t=animObject(t.options.animation);r=e&&defined(e.defer)?n.defer:Math.max(r,t.duration+t.defer),a=Math.min(n.duration,t.duration)}),t.renderer.forExport&&(r=0),{defer:Math.max(0,r-a),duration:Math.min(r,a)}}function animate(i,n,r){var a,o,m,t,s="";isObject(r)||(r={duration:(t=arguments)[2],easing:t[3],complete:t[4]}),isNumber(r.duration)||(r.duration=400),r.easing="function"==typeof r.easing?r.easing:Math[r.easing]||Math.easeInOutSine,r.curAnim=merge(n),objectEach(n,function(t,e){stop(i,e),m=new Fx(i,r,e),o=void 0,"d"===e&&isArray(n.d)?(m.paths=m.initPath(i,i.pathArray,n.d),m.toD=n.d,a=0,o=1):i.attr?a=i.attr(e):(a=parseFloat(getStyle(i,e))||0,"opacity"!==e&&(s="px")),"string"==typeof(o=o||t)&&o.match("px")&&(o=o.replace(/px/g,"")),m.run(a,o,s)})}function stop(t,e){for(var i=Fx.timers.length;i--;)Fx.timers[i].elem!==t||e&&e!==Fx.timers[i].prop||(Fx.timers[i].stopped=!0)}var animationExports={animate:animate,animObject:animObject,getDeferredAnimation:getDeferredAnimation,setAnimation:setAnimation,stop:stop};export default animationExports;