"use strict";var __extends=this&&this.__extends||function(){var o=function(e,i){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var t in i)i.hasOwnProperty(t)&&(e[t]=i[t])})(e,i)};return function(e,i){function t(){this.constructor=e}o(e,i),e.prototype=null===i?Object.create(i):(t.prototype=i.prototype,new t)}}();import DataModifier from"./DataModifier.js";import U from"../../Core/Utilities.js";var merge=U.merge,ChainModifier=function(r){function f(e){for(var i=[],t=1;t<arguments.length;t++)i[t-1]=arguments[t];var o=r.call(this)||this;return o.modifiers=i,o.options=merge(f.defaultOptions,e),o}return __extends(f,r),f.prototype.add=function(e,i){this.emit({type:"addModifier",detail:i,modifier:e}),this.modifiers.push(e),this.emit({type:"addModifier",detail:i,modifier:e})},f.prototype.clear=function(e){this.emit({type:"clearChain",detail:e}),this.modifiers.length=0,this.emit({type:"afterClearChain",detail:e})},f.prototype.modifyCell=function(e,i,t,o,r){var f=this.options.reverse?this.modifiers.reverse():this.modifiers;if(f.length){for(var d=e.clone(),n=0,s=f.length;n<s;++n)f[n].modifyCell(d,i,t,o,r),d=d.modified;e.modified=d}return e},f.prototype.modifyColumns=function(e,i,t,o){var r=this.options.reverse?this.modifiers.reverse():this.modifiers.slice();if(r.length){for(var f=e.clone(),d=0,n=r.length;d<n;++d)r[d].modifyColumns(f,i,t,o),f=f.modified;e.modified=f}return e},f.prototype.modifyRows=function(e,i,t,o){var r=this.options.reverse?this.modifiers.reverse():this.modifiers.slice();if(r.length){for(var f=e.clone(),d=0,n=r.length;d<n;++d)r[d].modifyRows(f,i,t,o),f=f.modified;e.modified=f}return e},f.prototype.modifyTable=function(e,i){var t=this;t.emit({type:"modify",detail:i,table:e});for(var o=t.options.reverse?t.modifiers.reverse():t.modifiers.slice(),r=e.modified,f=0,d=o.length;f<d;++f)r=o[f].modifyTable(r).modified;return e.modified=r,t.emit({type:"afterModify",detail:i,table:e}),e},f.prototype.remove=function(e,i){var t=this.modifiers;this.emit({type:"removeModifier",detail:i,modifier:e}),t.splice(t.indexOf(e),1),this.emit({type:"afterRemoveModifier",detail:i,modifier:e})},f.defaultOptions={modifier:"Chain",reverse:!1},f}(DataModifier);DataModifier.addModifier(ChainModifier);export default ChainModifier;