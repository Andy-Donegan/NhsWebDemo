"use strict";import F from"../Core/FormatUtilities.js";var format=F.format;import U from"../Core/Utilities.js";var A11yI18nComposition,pick=U.pick;!function(t){var i=[];function s(t,i,e){for(var n,r,s=[],o=0;n=function(t,i){var e=t.slice(i||0),n=e.indexOf("{"),t=e.indexOf("}");if(-1<n&&n<t)return{statement:e.substring(n+1,t),begin:i+n+1,end:i+t}}(t,o),(r=t.substring(o,n&&n.begin-1)).length&&s.push({value:r,type:"constant"}),n&&s.push({value:n.statement,type:"statement"}),o=n?n.end+1:o+1,n;);return s.forEach(function(t){"statement"===t.type&&(t.value=function(t,i){var e=t.indexOf("#each("),n=t.indexOf("#plural("),r=t.indexOf("["),s=t.indexOf("]");if(-1<e){var o,a=t.slice(e).indexOf(")")+e,u=t.substring(0,e),f=t.substring(a+1),e=t.substring(e+6,a).split(","),a=Number(e[1]),l="";if(o=i[e[0]])for(var p=(a=isNaN(a)?o.length:a)<0?o.length+a:Math.min(a,o.length),c=0;c<p;++c)l+=u+o[c]+f;return l.length?l:""}if(-1<n){var a=t.slice(n).indexOf(")")+n,m=t.substring(n+8,a).split(",");switch(Number(i[m[0]])){case 0:l=pick(m[4],m[1]);break;case 1:l=pick(m[2],m[1]);break;case 2:l=pick(m[3],m[1]);break;default:l=m[1]}return l?(g=l).trim&&g.trim()||g.replace(/^\s+|\s+$/g,""):""}if(-1<r){var g=t.substring(0,r),r=Number(t.substring(r+1,s)),s=void 0;return o=i[g],!isNaN(r)&&o&&(r<0?void 0===(s=o[o.length+r])&&(s=o[0]):void 0===(s=o[r])&&(s=o[o.length-1])),void 0!==s?s:""}return"{"+t+"}"}(t.value,i))}),format(s.reduce(function(t,i){return t+i.value},""),i,e)}function e(t,i){for(var e=t.split("."),n=this.options.lang,r=0;r<e.length;++r)n=n&&n[e[r]];return"string"==typeof n?s(n,i,this):""}t.compose=function(t){return-1===i.indexOf(t)&&(i.push(t),t.prototype.langFormat=e),t},t.i18nFormat=s}(A11yI18nComposition=A11yI18nComposition||{});export default A11yI18nComposition;