"use strict";import AST from"../../Core/Renderer/HTML/AST.js";import DOMElementProvider from"./DOMElementProvider.js";import H from"../../Core/Globals.js";var doc=H.doc;import HU from"./HTMLUtilities.js";var addClass=HU.addClass,visuallyHideElement=HU.visuallyHideElement;import U from"../../Core/Utilities.js";var attr=U.attr,Announcer=function(){function e(e,n){this.chart=e,this.domElementProvider=new DOMElementProvider,this.announceRegion=this.addAnnounceRegion(n)}return e.prototype.destroy=function(){this.domElementProvider.destroyCreatedElements()},e.prototype.announce=function(e){var n=this;AST.setElementHTML(this.announceRegion,e),this.clearAnnouncementRegionTimer&&clearTimeout(this.clearAnnouncementRegionTimer),this.clearAnnouncementRegionTimer=setTimeout(function(){n.announceRegion.innerHTML=AST.emptyHTML,delete n.clearAnnouncementRegionTimer},1e3)},e.prototype.addAnnounceRegion=function(e){var n=this.chart.announcerContainer||this.createAnnouncerContainer(),t=this.domElementProvider.createElement("div");return attr(t,{"aria-hidden":!1,"aria-live":e}),this.chart.styledMode?addClass(t,"highcharts-visually-hidden"):visuallyHideElement(t),n.appendChild(t),t},e.prototype.createAnnouncerContainer=function(){var e=this.chart,n=doc.createElement("div");return attr(n,{"aria-hidden":!1,class:"highcharts-announcer-container"}),n.style.position="relative",e.renderTo.insertBefore(n,e.renderTo.firstChild),e.announcerContainer=n},e}();export default Announcer;