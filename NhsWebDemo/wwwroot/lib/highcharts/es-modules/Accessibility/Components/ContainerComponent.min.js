"use strict";var __extends=this&&this.__extends||function(){var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};return function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}();import AccessibilityComponent from"../AccessibilityComponent.js";import KeyboardNavigationHandler from"../KeyboardNavigationHandler.js";import CU from"../Utils/ChartUtilities.js";var unhideChartElementFromAT=CU.unhideChartElementFromAT,getChartTitle=CU.getChartTitle;import H from"../../Core/Globals.js";var doc=H.doc;import HU from"../Utils/HTMLUtilities.js";var stripHTMLTags=HU.stripHTMLTagsFromString,ContainerComponent=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.onChartUpdate=function(){this.handleSVGTitleElement(),this.setSVGContainerLabel(),this.setGraphicContainerAttrs(),this.setRenderToAttrs(),this.makeCreditsAccessible()},e.prototype.handleSVGTitleElement=function(){var t,e=this.chart,r="highcharts-title-"+e.index,i=stripHTMLTags(e.langFormat("accessibility.svgContainerTitle",{chartTitle:getChartTitle(e)}));i.length&&((t=this.svgTitleElement=this.svgTitleElement||doc.createElementNS("http://www.w3.org/2000/svg","title")).textContent=i,t.id=r,e.renderTo.insertBefore(t,e.renderTo.firstChild))},e.prototype.setSVGContainerLabel=function(){var t=this.chart,e=t.langFormat("accessibility.svgContainerLabel",{chartTitle:getChartTitle(t)});t.renderer.box&&e.length&&t.renderer.box.setAttribute("aria-label",e)},e.prototype.setGraphicContainerAttrs=function(){var t=this.chart,e=t.langFormat("accessibility.graphicContainerLabel",{chartTitle:getChartTitle(t)});e.length&&t.container.setAttribute("aria-label",e)},e.prototype.setRenderToAttrs=function(){var t=this.chart;"disabled"!==t.options.accessibility.landmarkVerbosity?t.renderTo.setAttribute("role","region"):t.renderTo.removeAttribute("role"),t.renderTo.setAttribute("aria-label",t.langFormat("accessibility.chartContainerLabel",{title:getChartTitle(t),chart:t}))},e.prototype.makeCreditsAccessible=function(){var t=this.chart,e=t.credits;e&&(e.textStr&&e.element.setAttribute("aria-label",t.langFormat("accessibility.credits",{creditsStr:stripHTMLTags(e.textStr)})),unhideChartElementFromAT(t,e.element))},e.prototype.getKeyboardNavigation=function(){var e=this.chart;return new KeyboardNavigationHandler(e,{keyCodeMap:[],validate:function(){return!0},init:function(){var t=e.accessibility;t&&t.keyboardNavigation.tabindexContainer.focus()}})},e.prototype.destroy=function(){this.chart.renderTo.setAttribute("aria-hidden",!0)},e}(AccessibilityComponent);export default ContainerComponent;