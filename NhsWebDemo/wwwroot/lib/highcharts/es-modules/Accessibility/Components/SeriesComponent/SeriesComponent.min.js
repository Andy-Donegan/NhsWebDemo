"use strict";var __extends=this&&this.__extends||function(){var o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}}();import AccessibilityComponent from"../../AccessibilityComponent.js";import ChartUtilities from"../../Utils/ChartUtilities.js";var hideSeriesFromAT=ChartUtilities.hideSeriesFromAT;import ForcedMarkers from"./ForcedMarkers.js";import NewDataAnnouncer from"./NewDataAnnouncer.js";import SeriesDescriber from"./SeriesDescriber.js";var describeSeries=SeriesDescriber.describeSeries;import SeriesKeyboardNavigation from"./SeriesKeyboardNavigation.js";import Tooltip from"../../../Core/Tooltip.js";var SeriesComponent=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.compose=function(e,t,i){NewDataAnnouncer.compose(i),ForcedMarkers.compose(i),SeriesKeyboardNavigation.compose(e,t,i)},t.prototype.init=function(){this.newDataAnnouncer=new NewDataAnnouncer(this.chart),this.newDataAnnouncer.init(),this.keyboardNavigation=new SeriesKeyboardNavigation(this.chart,this.keyCodes),this.keyboardNavigation.init(),this.hideTooltipFromATWhenShown(),this.hideSeriesLabelsFromATWhenShown()},t.prototype.hideTooltipFromATWhenShown=function(){var e=this;this.addEvent(Tooltip,"refresh",function(){this.chart===e.chart&&this.label&&this.label.element&&this.label.element.setAttribute("aria-hidden",!0)})},t.prototype.hideSeriesLabelsFromATWhenShown=function(){this.addEvent(this.chart,"afterDrawSeriesLabels",function(){this.series.forEach(function(e){e.labelBySeries&&e.labelBySeries.attr("aria-hidden",!0)})})},t.prototype.onChartRender=function(){this.chart.series.forEach(function(e){(!1!==(e.options.accessibility&&e.options.accessibility.enabled)&&e.visible?describeSeries:hideSeriesFromAT)(e)})},t.prototype.getKeyboardNavigation=function(){return this.keyboardNavigation.getKeyboardNavigationHandler()},t.prototype.destroy=function(){this.newDataAnnouncer.destroy(),this.keyboardNavigation.destroy()},t}(AccessibilityComponent);export default SeriesComponent;