"use strict";var __extends=this&&this.__extends||function(){var i=function(t,o){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])})(t,o)};return function(t,o){function e(){this.constructor=t}i(t,o),t.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}}();import ColumnSeries from"../Column/ColumnSeries.js";import H from"../../Core/Globals.js";var noop=H.noop;import SeriesRegistry from"../../Core/Series/SeriesRegistry.js";import U from"../../Core/Utilities.js";var extend=U.extend,merge=U.merge,pick=U.pick,BoxPlotSeries=function(o){function t(){var t=null!==o&&o.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return __extends(t,o),t.prototype.pointAttribs=function(){return{}},t.prototype.translate=function(){var t=this,e=t.yAxis,i=t.pointArrayMap;o.prototype.translate.apply(t),t.points.forEach(function(o){i.forEach(function(t){null!==o[t]&&(o[t+"Plot"]=e.translate(o[t],0,1,0,1))}),o.plotHigh=o.highPlot})},t.prototype.drawPoints=function(){var h,d,p,m,f,u,c,y,k,w=this,t=w.points,S=w.options,x=w.chart,b=x.renderer,g=!1!==w.doQuartiles,C=w.options.whiskerLength;t.forEach(function(t){var o=t.graphic,e=o?"animate":"attr",i=t.shapeArgs,r={},s={},a={},n={},l=t.color||w.color;void 0!==t.plotY&&(u=Math.round(i.width),c=Math.floor(i.x),y=c+u,k=Math.round(u/2),h=Math.floor(g?t.q1Plot:t.lowPlot),d=Math.floor(g?t.q3Plot:t.lowPlot),p=Math.floor(t.highPlot),m=Math.floor(t.lowPlot),o||(t.graphic=o=b.g("point").add(w.group),t.stem=b.path().addClass("highcharts-boxplot-stem").add(o),C&&(t.whiskers=b.path().addClass("highcharts-boxplot-whisker").add(o)),g&&(t.box=b.path(void 0).addClass("highcharts-boxplot-box").add(o)),t.medianShape=b.path(void 0).addClass("highcharts-boxplot-median").add(o)),x.styledMode||(s.stroke=t.stemColor||S.stemColor||l,s["stroke-width"]=pick(t.stemWidth,S.stemWidth,S.lineWidth),s.dashstyle=t.stemDashStyle||S.stemDashStyle||S.dashStyle,t.stem.attr(s),C&&(a.stroke=t.whiskerColor||S.whiskerColor||l,a["stroke-width"]=pick(t.whiskerWidth,S.whiskerWidth,S.lineWidth),a.dashstyle=t.whiskerDashStyle||S.whiskerDashStyle||S.dashStyle,t.whiskers.attr(a)),g&&(r.fill=t.fillColor||S.fillColor||l,r.stroke=S.lineColor||l,r["stroke-width"]=S.lineWidth||0,r.dashstyle=t.boxDashStyle||S.boxDashStyle||S.dashStyle,t.box.attr(r)),n.stroke=t.medianColor||S.medianColor||l,n["stroke-width"]=pick(t.medianWidth,S.medianWidth,S.lineWidth),n.dashstyle=t.medianDashStyle||S.medianDashStyle||S.dashStyle,t.medianShape.attr(n)),n=void 0,u=t.stem.strokeWidth()%2/2,n=[["M",f=c+k+u,d],["L",f,p],["M",f,h],["L",f,m]],t.stem[e]({d:n}),g&&(u=t.box.strokeWidth()%2/2,h=Math.floor(h)+u,d=Math.floor(d)+u,n=[["M",c+=u,d],["L",c,h],["L",y+=u,h],["L",y,d],["L",c,d],["Z"]],t.box[e]({d:n})),C&&(u=t.whiskers.strokeWidth()%2/2,p+=u,m+=u,k=/%$/.test(C)?k*parseFloat(C)/100:C/2,n=[["M",f-k,p],["L",f+k,p],["M",f-k,m],["L",f+k,m]],t.whiskers[e]({d:n})),m=Math.round(t.medianPlot),u=t.medianShape.strokeWidth()%2/2,n=[["M",c,m+=u],["L",y,m]],t.medianShape[e]({d:n}))})},t.prototype.toYData=function(t){return[t.low,t.q1,t.median,t.q3,t.high]},t.defaultOptions=merge(ColumnSeries.defaultOptions,{threshold:null,tooltip:{pointFormat:'<span style="color:{point.color}">‚óè</span> <b> {series.name}</b><br/>Maximum: {point.high}<br/>Upper quartile: {point.q3}<br/>Median: {point.median}<br/>Lower quartile: {point.q1}<br/>Minimum: {point.low}<br/>'},whiskerLength:"50%",fillColor:"#ffffff",lineWidth:1,medianWidth:2,whiskerWidth:2}),t}(ColumnSeries);extend(BoxPlotSeries.prototype,{pointArrayMap:["low","q1","median","q3","high"],pointValKey:"high",drawDataLabels:noop,setStackedPoints:noop}),SeriesRegistry.registerSeriesType("boxplot",BoxPlotSeries);export default BoxPlotSeries;