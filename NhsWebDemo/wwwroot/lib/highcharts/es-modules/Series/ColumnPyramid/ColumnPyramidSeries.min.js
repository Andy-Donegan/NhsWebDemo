"use strict";var __extends=this&&this.__extends||function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)};return function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();import ColumnSeries from"../Column/ColumnSeries.js";var colProto=ColumnSeries.prototype;import SeriesRegistry from"../../Core/Series/SeriesRegistry.js";import U from"../../Core/Utilities.js";var clamp=U.clamp,extend=U.extend,merge=U.merge,pick=U.pick,ColumnPyramidSeries=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return __extends(t,e),t.prototype.translate=function(){var f=this,g=f.chart,x=f.options,t=f.dense=f.closestPointRange*f.xAxis.transA<2,e=f.borderWidth=pick(x.borderWidth,t?0:1),v=f.yAxis,_=x.threshold,S=f.translatedThreshold=v.getThreshold(_),C=pick(x.minPointLength,5),t=f.getColumnMetrics(),P=t.width,b=f.barW=Math.max(P,1+2*e),M=f.pointXOffset=t.offset;g.inverted&&(S-=.5),x.pointPadding&&(b=Math.ceil(b)),colProto.translate.apply(f),f.points.forEach(function(t){var e,o,r,i,n,s,p,a,l=pick(t.yBottom,S),d=999+Math.abs(l),c=clamp(t.plotY,-d,v.len+d),h=t.plotX+M,m=b/2,u=Math.min(c,l),y=Math.max(c,l)-u;t.barX=h,t.pointWidth=P,t.tooltipPos=g.inverted?[v.len+v.pos-g.plotLeft-c,f.xAxis.len-h-m,y]:[h+m,c+v.pos-g.plotTop,y],n=_+(t.total||t.y),"percent"===x.stacking&&(n=_+(t.y<0)?-100:100),o=v.toPixels(n,!0),s=h-(r=(e=g.plotHeight-o-(g.plotHeight-S))?m*(u-o)/e:0)+m,p=h+r+m,a=h+(i=e?m*(u+y-o)/e:0)+m,d=h-i+m,l=u-C,c=u+y,t.y<0&&(c=(l=u)+y+C),g.inverted&&(p=(s=h+m+(r=m*(o-(n=v.width-u))/(e=o-(v.width-S))))-2*r,a=h-(i=m*(o-(n-y))/e)+m,d=h+i+m,c=(l=u)+y-C,t.y<0&&(c=u+y+C)),t.shapeType="path",t.shapeArgs={x:s,y:l,width:p-s,height:y,d:[["M",s,l],["L",p,l],["L",a,c],["L",d,c],["Z"]]}})},t.defaultOptions=merge(ColumnSeries.defaultOptions,{}),t}(ColumnSeries);SeriesRegistry.registerSeriesType("columnpyramid",ColumnPyramidSeries);export default ColumnPyramidSeries;