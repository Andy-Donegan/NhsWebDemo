"use strict";var __extends=this&&this.__extends||function(){var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};return function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}();import Axis from"../../Core/Axis/Axis.js";import Chart from"../../Core/Chart/Chart.js";import GanttPoint from"./GanttPoint.js";import SeriesRegistry from"../../Core/Series/SeriesRegistry.js";var Series=SeriesRegistry.series,XRangeSeries=SeriesRegistry.seriesTypes.xrange;import Tick from"../../Core/Axis/Tick.js";import U from"../../Core/Utilities.js";var extend=U.extend,isNumber=U.isNumber,merge=U.merge,splat=U.splat;import TreeGridAxis from"../../Core/Axis/TreeGridAxis.js";TreeGridAxis.compose(Axis,Chart,Series,Tick);import"../../Extensions/CurrentDateIndication.js";import"../../Extensions/StaticScale.js";import"../../Gantt/Pathfinder.js";var GanttSeries=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return __extends(t,e),t.prototype.drawPoint=function(t,e){var r=this,i=r.options,o=r.chart.renderer,s=t.shapeArgs,a=t.plotY,n=t.graphic,p=t.selected&&"select",l=i.stacking&&!i.borderRadius;t.options.milestone?isNumber(a)&&null!==t.y&&!1!==t.visible?(s=o.symbols.diamond(s.x||0,s.y||0,s.width||0,s.height||0),n?n[e]({d:s}):t.graphic=n=o.path(s).addClass(t.getClassName(),!0).add(t.group||r.group),r.chart.styledMode||t.graphic.attr(r.pointAttribs(t,p)).shadow(i.shadow,null,l)):n&&(t.graphic=n.destroy()):XRangeSeries.prototype.drawPoint.call(r,t,e)},t.prototype.translatePoint=function(t){var e,r;XRangeSeries.prototype.translatePoint.call(this,t),t.options.milestone&&(r=(e=t.shapeArgs).height||0,t.shapeArgs={x:(e.x||0)-r/2,y:e.y,width:r,height:r})},t.defaultOptions=merge(XRangeSeries.defaultOptions,{grouping:!1,dataLabels:{enabled:!0},tooltip:{headerFormat:'<span style="font-size: 10px">{series.name}</span><br/>',pointFormat:null,pointFormatter:function(){var t=this,e=t.series,r=e.xAxis,i=e.tooltipOptions.dateTimeLabelFormats,o=r.options.startOfWeek,s=e.tooltipOptions,a=s.xDateFormat,n=t.options.milestone,p="<b>"+(t.name||t.yCategory)+"</b>";return s.pointFormat?t.tooltipFormatter(s.pointFormat):(!a&&isNumber(t.start)&&(a=e.chart.time.getDateFormat(r.closestPointRange,t.start,o,i||{})),i=e.chart.time.dateFormat(a,t.start),t=e.chart.time.dateFormat(a,t.end),p+="<br/>",n?p+=i+"<br/>":(p+="Start: "+i+"<br/>",p+="End: "+t+"<br/>"),p)}},connectors:{type:"simpleConnect",animation:{reversed:!0},startMarker:{enabled:!0,symbol:"arrow-filled",radius:4,fill:"#fa0",align:"left"},endMarker:{enabled:!1,align:"right"}}}),t}(XRangeSeries);extend(GanttSeries.prototype,{pointArrayMap:["start","end","y"],pointClass:GanttPoint,setData:Series.prototype.setData}),SeriesRegistry.registerSeriesType("gantt",GanttSeries);export default GanttSeries;