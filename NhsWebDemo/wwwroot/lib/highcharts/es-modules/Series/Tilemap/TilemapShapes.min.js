"use strict";import H from"../../Core/Globals.js";var noop=H.noop;import SeriesRegistry from"../../Core/Series/SeriesRegistry.js";var _a=SeriesRegistry.seriesTypes,HeatmapSeries=_a.heatmap,ScatterSeries=_a.scatter;import U from"../../Core/Utilities.js";var clamp=U.clamp,pick=U.pick;function tilePaddingFromTileSize(e,a,t){e=e.options;return{xPad:(e.colsize||1)/-a,yPad:(e.rowsize||1)/-t}}var TilemapShapes={hexagon:{alignDataLabel:ScatterSeries.prototype.alignDataLabel,getSeriesPadding:function(e){return tilePaddingFromTileSize(e,3,2)},haloPath:function(e){if(!e)return[];var a=this.tileEdges;return[["M",a.x2-e,a.y1+e],["L",a.x3+e,a.y1+e],["L",a.x4+1.5*e,a.y2],["L",a.x3+e,a.y3-e],["L",a.x2-e,a.y3-e],["L",a.x1-1.5*e,a.y2],["Z"]]},translate:function(){var d,e=this,a=e.options,c=e.xAxis,y=e.yAxis,x=a.pointPadding||0,g=(a.colsize||1)/3,m=(a.rowsize||1)/2;e.generatePoints(),e.points.forEach(function(e){var a=clamp(Math.floor(c.len-c.translate(e.x-2*g,0,1,0,1)),-c.len,2*c.len),t=clamp(Math.floor(c.len-c.translate(e.x-g,0,1,0,1)),-c.len,2*c.len),n=clamp(Math.floor(c.len-c.translate(e.x+g,0,1,0,1)),-c.len,2*c.len),r=clamp(Math.floor(c.len-c.translate(e.x+2*g,0,1,0,1)),-c.len,2*c.len),l=clamp(Math.floor(y.translate(e.y-m,0,1,0,1)),-y.len,2*y.len),i=clamp(Math.floor(y.translate(e.y,0,1,0,1)),-y.len,2*y.len),o=clamp(Math.floor(y.translate(e.y+m,0,1,0,1)),-y.len,2*y.len),s=pick(e.pointPadding,x),p=s*Math.abs(t-a)/Math.abs(o-i),h=c.reversed?-p:p,p=c.reversed?-s:s,s=y.reversed?-s:s;e.x%2&&(l+=d=d||Math.round(Math.abs(o-l)/2)*(y.reversed?-1:1),i+=d,o+=d),e.plotX=e.clientX=(t+n)/2,e.plotY=i,e.tileEdges={x1:a+=h+p,x2:t+=p,x3:n-=p,x4:r-=h+p,y1:l-=s,y2:i,y3:o+=s},e.shapeType="path",e.shapeArgs={d:[["M",t,l],["L",n,l],["L",r,i],["L",n,o],["L",t,o],["L",a,i],["Z"]]}}),e.translateColors()}},diamond:{alignDataLabel:ScatterSeries.prototype.alignDataLabel,getSeriesPadding:function(e){return tilePaddingFromTileSize(e,2,2)},haloPath:function(e){if(!e)return[];var a=this.tileEdges;return[["M",a.x2,a.y1+e],["L",a.x3+e,a.y2],["L",a.x2,a.y3-e],["L",a.x1-e,a.y2],["Z"]]},translate:function(){var p,e=this,a=e.options,h=e.xAxis,d=e.yAxis,c=a.pointPadding||0,y=a.colsize||1,x=(a.rowsize||1)/2;e.generatePoints(),e.points.forEach(function(e){var a=clamp(Math.round(h.len-h.translate(e.x-y,0,1,0,0)),-h.len,2*h.len),t=clamp(Math.round(h.len-h.translate(e.x,0,1,0,0)),-h.len,2*h.len),n=clamp(Math.round(h.len-h.translate(e.x+y,0,1,0,0)),-h.len,2*h.len),r=clamp(Math.round(d.translate(e.y-x,0,1,0,0)),-d.len,2*d.len),l=clamp(Math.round(d.translate(e.y,0,1,0,0)),-d.len,2*d.len),i=clamp(Math.round(d.translate(e.y+x,0,1,0,0)),-d.len,2*d.len),o=pick(e.pointPadding,c),s=o*Math.abs(t-a)/Math.abs(i-l),s=h.reversed?-s:s,o=d.reversed?-o:o;e.x%2&&(r+=p=Math.abs(i-r)/2*(d.reversed?-1:1),l+=p,i+=p),e.plotX=e.clientX=t,e.plotY=l,e.tileEdges={x1:a+=s,x2:t,x3:n-=s,y1:r-=o,y2:l,y3:i+=o},e.shapeType="path",e.shapeArgs={d:[["M",t,r],["L",n,l],["L",t,i],["L",a,l],["Z"]]}}),e.translateColors()}},circle:{alignDataLabel:ScatterSeries.prototype.alignDataLabel,getSeriesPadding:function(e){return tilePaddingFromTileSize(e,2,2)},haloPath:function(e){return ScatterSeries.prototype.pointClass.prototype.haloPath.call(this,e+(e&&this.radius))},translate:function(){var l,i,o,s,e=this,a=e.options,p=e.xAxis,h=e.yAxis,d=a.pointPadding||0,c=(a.rowsize||1)/2,y=a.colsize||1,x=!1;e.generatePoints(),e.points.forEach(function(e){var a=clamp(Math.round(p.len-p.translate(e.x,0,1,0,0)),-p.len,2*p.len),t=clamp(Math.round(h.translate(e.y,0,1,0,0)),-h.len,2*h.len),n=d,r=!1;void 0!==e.pointPadding&&(n=e.pointPadding,x=r=!0),s&&!x||(l=Math.abs(clamp(Math.floor(p.len-p.translate(e.x+y,0,1,0,0)),-p.len,2*p.len)-a),i=Math.abs(clamp(Math.floor(h.translate(e.y+c,0,1,0,0)),-h.len,2*h.len)-t),o=Math.floor(Math.sqrt(l*l+i*i)/2),s=Math.min(l,o,i)-n,x&&!r&&(x=!1)),e.x%2&&(t+=i*(h.reversed?-1:1)),e.plotX=e.clientX=a,e.plotY=t,e.radius=s,e.shapeType="circle",e.shapeArgs={x:a,y:t,r:s}}),e.translateColors()}},square:{alignDataLabel:HeatmapSeries.prototype.alignDataLabel,translate:HeatmapSeries.prototype.translate,getSeriesPadding:noop,haloPath:HeatmapSeries.prototype.pointClass.prototype.haloPath}};export default TilemapShapes;