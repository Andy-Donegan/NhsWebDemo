"use strict";var __extends=this&&this.__extends||function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)};return function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();import OHLCPoint from"./OHLCPoint.js";import SeriesRegistry from"../../Core/Series/SeriesRegistry.js";var Series=SeriesRegistry.series,HLCSeries=SeriesRegistry.seriesTypes.hlc;import U from"../../Core/Utilities.js";var addEvent=U.addEvent,extend=U.extend,merge=U.merge,OHLCSeries=function(p){function t(){var t=null!==p&&p.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return __extends(t,p),t.prototype.getPointPath=function(t,e){var o=p.prototype.getPointPath.call(this,t,e),r=e.strokeWidth(),i=r%2/2,n=Math.round(t.plotX)-i,s=Math.round(t.shapeArgs.width/2),e=t.plotOpen;return null!==t.open&&(e=Math.round(t.plotOpen)+i,o.push(["M",n,e],["L",n-s,e]),p.prototype.extendStem.call(this,o,r/2,e)),o},t.prototype.pointAttribs=function(t,e){var o=p.prototype.pointAttribs.call(this,t,e),e=this.options;return delete o.fill,!t.options.color&&e.upColor&&t.open<t.close&&(o.stroke=e.upColor),o},t.prototype.toYData=function(t){return[t.open,t.high,t.low,t.close]},t.defaultOptions=merge(HLCSeries.defaultOptions,{tooltip:{pointFormat:'<span style="color:{point.color}">‚óè</span> <b> {series.name}</b><br/>Open: {point.open}<br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'}}),t}(HLCSeries);extend(OHLCSeries.prototype,{pointArrayMap:["open","high","low","close"]}),OHLCSeries.prototype.pointClass=OHLCPoint,SeriesRegistry.registerSeriesType("ohlc",OHLCSeries);export default OHLCSeries;addEvent(Series,"init",function(t){t=t.options;t.useOhlcData&&"highcharts-navigator-series"!==t.id&&extend(this,{pointValKey:OHLCSeries.prototype.pointValKey,pointArrayMap:OHLCSeries.prototype.pointArrayMap,toYData:OHLCSeries.prototype.toYData})}),addEvent(Series,"afterSetOptions",function(t){var e=t.options,t=e.dataGrouping;t&&e.useOhlcData&&"highcharts-navigator-series"!==e.id&&(t.approximation="ohlc")});