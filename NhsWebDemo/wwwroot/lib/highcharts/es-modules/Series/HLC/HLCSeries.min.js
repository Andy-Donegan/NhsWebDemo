"use strict";var __extends=this&&this.__extends||function(){var i=function(t,o){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])})(t,o)};return function(t,o){function e(){this.constructor=t}i(t,o),t.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}}();import HLCPoint from"./HLCPoint.js";import SeriesRegistry from"../../Core/Series/SeriesRegistry.js";var ColumnSeries=SeriesRegistry.seriesTypes.column;import U from"../../Core/Utilities.js";var extend=U.extend,merge=U.merge,HLCSeries=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t.yData=void 0,t}return __extends(t,e),t.prototype.extendStem=function(t,o,e){var i=t[0],t=t[1];"number"==typeof i[2]&&(i[2]=Math.max(e+o,i[2])),"number"==typeof t[2]&&(t[2]=Math.min(e-o,t[2]))},t.prototype.getPointPath=function(t,o){var e,i=o.strokeWidth(),r=t.series,n=i%2/2,s=Math.round(t.plotX)-n,p=Math.round(t.shapeArgs.width/2),o=(t.plotClose,[["M",s,Math.round(t.yBottom)],["L",s,Math.round(t.plotHigh)]]);return null!==t.close&&(e=Math.round(t.plotClose)+n,o.push(["M",s,e],["L",s+p,e]),r.extendStem(o,i/2,e)),o},t.prototype.drawSinglePoint=function(t){var o=t.series,e=o.chart,i=t.graphic,r=!i;void 0!==t.plotY&&(i||(t.graphic=i=e.renderer.path().add(o.group)),e.styledMode||i.attr(o.pointAttribs(t,t.selected&&"select")),o=o.getPointPath(t,i),i[r?"attr":"animate"]({d:o}).addClass(t.getClassName(),!0))},t.prototype.drawPoints=function(){this.points.forEach(this.drawSinglePoint)},t.prototype.init=function(){e.prototype.init.apply(this,arguments),this.options.stacking=void 0},t.prototype.pointAttribs=function(t,o){o=e.prototype.pointAttribs.call(this,t,o);return delete o.fill,o},t.prototype.toYData=function(t){return[t.high,t.low,t.close]},t.prototype.translate=function(){var i=this,r=i.yAxis,t=this.pointArrayMap&&this.pointArrayMap.slice()||[],n=t.map(function(t){return"plot"+(t.charAt(0).toUpperCase()+t.slice(1))});n.push("yBottom"),t.push("low"),e.prototype.translate.apply(i),i.points.forEach(function(e){t.forEach(function(t,o){t=e[t];null!==t&&(i.dataModify&&(t=i.dataModify.modifyValue(t)),e[n[o]]=r.toPixels(t,!0))}),e.tooltipPos[1]=e.plotHigh+r.pos-i.chart.plotTop})},t.defaultOptions=merge(ColumnSeries.defaultOptions,{lineWidth:1,tooltip:{pointFormat:'<span style="color:{point.color}">‚óè</span> <b> {series.name}</b><br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'},threshold:null,states:{hover:{lineWidth:3}},stickyTracking:!0}),t}(ColumnSeries);extend(HLCSeries.prototype,{animate:null,directTouch:!1,pointArrayMap:["high","low","close"],pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"},pointValKey:"close"}),HLCSeries.prototype.pointClass=HLCPoint,SeriesRegistry.registerSeriesType("hlc",HLCSeries);export default HLCSeries;