"use strict";var __extends=this&&this.__extends||function(){var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)};return function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}();import LegendSymbol from"../../Core/Legend/LegendSymbol.js";import SeriesRegistry from"../../Core/Series/SeriesRegistry.js";var _a=SeriesRegistry.seriesTypes,GaugeSeries=_a.gauge,pieProto=_a.pie.prototype;import SolidGaugeAxis from"../../Core/Axis/SolidGaugeAxis.js";import U from"../../Core/Utilities.js";var clamp=U.clamp,extend=U.extend,isNumber=U.isNumber,merge=U.merge,pick=U.pick,pInt=U.pInt;import"./SolidGaugeComposition.js";var solidGaugeOptions={colorByPoint:!0,dataLabels:{y:0}},SolidGaugeSeries=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.data=void 0,e.points=void 0,e.options=void 0,e.axis=void 0,e.yAxis=void 0,e.startAngleRad=void 0,e.thresholdAngleRad=void 0,e}return __extends(e,t),e.prototype.translate=function(){var e=this.yAxis;SolidGaugeAxis.init(e),!e.dataClasses&&e.options.dataClasses&&e.initDataClasses(e.options),e.initStops(e.options),GaugeSeries.prototype.translate.call(this)},e.prototype.drawPoints=function(){var e,g=this,c=g.yAxis,h=c.center,m=g.options,y=g.chart.renderer,t=m.overshoot,S=isNumber(t)?t/180*Math.PI:0;isNumber(m.threshold)&&(e=c.startAngleRad+c.translate(m.threshold,null,null,null,!0)),this.thresholdAngleRad=pick(e,c.startAngleRad),g.points.forEach(function(e){var t,o,r,i,a,s,n,l,d,p,u;e.isNull||(t=e.graphic,o=c.startAngleRad+c.translate(e.y,null,null,null,!0),r=pInt(pick(e.options.radius,m.radius,100))*h[2]/200,i=pInt(pick(e.options.innerRadius,m.innerRadius,60))*h[2]/200,s=a=void 0,n=c.toColor(e.y,e),l=Math.min(c.startAngleRad,c.endAngleRad),d=Math.max(c.startAngleRad,c.endAngleRad),u=p=void 0,"none"!==(n="none"===n?e.color||g.color||"none":n)&&(e.color=n),o=clamp(o,l-S,d+S),!1===m.wrap&&(o=clamp(o,l,d)),p=Math.min(o,g.thresholdAngleRad),(u=Math.max(o,g.thresholdAngleRad))-p>2*Math.PI&&(u=p+2*Math.PI),e.shapeArgs=a={x:h[0],y:h[1],r:r,innerR:i,start:p,end:u,rounded:m.rounded},e.startR=r,t?(s=a.d,t.animate(extend({fill:n},a)),s&&(a.d=s)):e.graphic=t=y.arc(a).attr({fill:n,"sweep-flag":0}).add(g.group),g.chart.styledMode||("square"!==m.linecap&&t.attr({"stroke-linecap":"round","stroke-linejoin":"round"}),t.attr({stroke:m.borderColor||"none","stroke-width":m.borderWidth||0})),t&&t.addClass(e.getClassName(),!0))})},e.prototype.animate=function(e){e||(this.startAngleRad=this.thresholdAngleRad,pieProto.animate.call(this,e))},e.defaultOptions=merge(GaugeSeries.defaultOptions,solidGaugeOptions),e}(GaugeSeries);extend(SolidGaugeSeries.prototype,{drawLegendSymbol:LegendSymbol.drawRectangle}),SeriesRegistry.registerSeriesType("solidgauge",SolidGaugeSeries);export default SolidGaugeSeries;