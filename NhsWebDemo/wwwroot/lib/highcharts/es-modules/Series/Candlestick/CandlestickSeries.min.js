"use strict";var __extends=this&&this.__extends||function(){var r=function(t,o){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])})(t,o)};return function(t,o){function e(){this.constructor=t}r(t,o),t.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}}();import D from"../../Core/DefaultOptions.js";var defaultOptions=D.defaultOptions;import SeriesRegistry from"../../Core/Series/SeriesRegistry.js";var _a=SeriesRegistry.seriesTypes,ColumnSeries=_a.column,OHLCSeries=_a.ohlc;import U from"../../Core/Utilities.js";var merge=U.merge,CandlestickSeries=function(o){function t(){var t=null!==o&&o.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return __extends(t,o),t.prototype.pointAttribs=function(t,o){var e=ColumnSeries.prototype.pointAttribs.call(this,t,o),r=this.options,i=t.open<t.close,s=r.lineColor||this.color,n=t.color||this.color;return e["stroke-width"]=r.lineWidth,e.fill=t.options.color||i&&r.upColor||n,e.stroke=t.options.lineColor||i&&r.upLineColor||s,o&&(o=r.states[o],e.fill=o.color||e.fill,e.stroke=o.lineColor||e.stroke,e["stroke-width"]=o.lineWidth||e["stroke-width"]),e},t.prototype.drawPoints=function(){var d=this,t=d.points,h=d.chart,u=d.yAxis.reversed;t.forEach(function(t){var o,e,r,i,s,n,l,a=t.graphic,p=!a;void 0!==t.plotY&&(a||(t.graphic=a=h.renderer.path().add(d.group)),d.chart.styledMode||a.attr(d.pointAttribs(t,t.selected&&"select")).shadow(d.options.shadow),n=a.strokeWidth()%2/2,s=Math.round(t.plotX)-n,r=t.plotOpen,i=t.plotClose,o=Math.min(r,i),e=Math.max(r,i),l=Math.round(t.shapeArgs.width/2),r=u?e!==t.yBottom:Math.round(o)!==Math.round(t.plotHigh),i=u?Math.round(o)!==Math.round(t.plotHigh):e!==t.yBottom,o=Math.round(o)+n,e=Math.round(e)+n,(n=[]).push(["M",s-l,e],["L",s-l,o],["L",s+l,o],["L",s+l,e],["Z"],["M",s,o],["L",s,r?Math.round(u?t.yBottom:t.plotHigh):o],["M",s,e],["L",s,i?Math.round(u?t.plotHigh:t.yBottom):e]),a[p?"attr":"animate"]({d:n}).addClass(t.getClassName(),!0))})},t.defaultOptions=merge(OHLCSeries.defaultOptions,defaultOptions.plotOptions,{states:{hover:{lineWidth:2}},tooltip:defaultOptions.plotOptions.ohlc.tooltip,threshold:null,lineColor:"#000000",lineWidth:1,upColor:"#ffffff",stickyTracking:!0}),t}(OHLCSeries);SeriesRegistry.registerSeriesType("candlestick",CandlestickSeries);export default CandlestickSeries;