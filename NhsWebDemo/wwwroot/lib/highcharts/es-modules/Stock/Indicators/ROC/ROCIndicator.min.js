"use strict";var __extends=this&&this.__extends||function(){var o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};return function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}();import SeriesRegistry from"../../../Core/Series/SeriesRegistry.js";var SMAIndicator=SeriesRegistry.seriesTypes.sma;import U from"../../../Core/Utilities.js";var isArray=U.isArray,merge=U.merge,extend=U.extend;function populateAverage(e,t,r,o,n){var i=n<0?(i=t[r-o])?(t[r]-i)/i*100:null:(i=t[r-o][n])?(t[r][n]-i)/i*100:null;return[e[r],i]}var ROCIndicator=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.data=void 0,e.options=void 0,e.points=void 0,e}return __extends(e,t),e.prototype.getValues=function(e,t){var r,o,n=t.period,i=e.xData,a=e.yData,s=a?a.length:0,p=[],u=[],c=[],d=-1;if(!(i.length<=n)){for(isArray(a[0])&&(d=t.index),r=n;r<s;r++)o=populateAverage(i,a,r,n,d),p.push(o),u.push(o[0]),c.push(o[1]);return{values:p,xData:u,yData:c}}},e.defaultOptions=merge(SMAIndicator.defaultOptions,{params:{index:3,period:9}}),e}(SMAIndicator);extend(ROCIndicator.prototype,{nameBase:"Rate of Change"}),SeriesRegistry.registerSeriesType("roc",ROCIndicator);export default ROCIndicator;