"use strict";var __extends=this&&this.__extends||function(){var e=function(r,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var t in o)o.hasOwnProperty(t)&&(r[t]=o[t])})(r,o)};return function(r,o){function t(){this.constructor=r}e(r,o),r.prototype=null===o?Object.create(o):(t.prototype=o.prototype,new t)}}();import H from"../../../Core/Globals.js";var noop=H.noop;import SeriesRegistry from"../../../Core/Series/SeriesRegistry.js";var _a=SeriesRegistry.seriesTypes,SMAIndicator=_a.sma,ColumnSeries=_a.column;import U from"../../../Core/Utilities.js";var extend=U.extend,merge=U.merge,correctFloat=U.correctFloat,isArray=U.isArray,AOIndicator=function(o){function r(){var r=null!==o&&o.apply(this,arguments)||this;return r.data=void 0,r.options=void 0,r.points=void 0,r}return __extends(r,o),r.prototype.drawGraph=function(){var r,o=this,t=o.options,e=o.points,o=o.userOptions.color,i=t.greaterBarColor,n=t.lowerBarColor,t=e[0];if(!o&&t)for(t.color=i,r=1;r<e.length;r++)e[r].y>e[r-1].y?e[r].color=i:e[r].y<e[r-1].y?e[r].color=n:e[r].color=e[r-1].color},r.prototype.getValues=function(r){var o,t,e,i,n,a=34,s=r.xData||[],c=r.yData||[],p=c.length,l=[],u=[],d=[],y=0,f=0;if(!(s.length<=a)&&isArray(c[0])&&4===c[0].length){for(i=0;i<33;i++)e=(c[i][1]+c[i][2])/2,29<=i&&(y=correctFloat(y+e)),f=correctFloat(f+e);for(n=33;n<p;n++)e=(c[n][1]+c[n][2])/2,y=correctFloat(y+e),f=correctFloat(f+e),o=correctFloat(y/5-f/a),l.push([s[n],o]),u.push(s[n]),d.push(o),t=n+1-a,y=correctFloat(y-(c[o=n+1-5][1]+c[o][2])/2),f=correctFloat(f-(c[t][1]+c[t][2])/2);return{values:l,xData:u,yData:d}}},r.defaultOptions=merge(SMAIndicator.defaultOptions,{params:{index:void 0,period:void 0},greaterBarColor:"#06b535",lowerBarColor:"#f21313",threshold:0,groupPadding:.2,pointPadding:.2,crisp:!1,states:{hover:{halo:{size:0}}}}),r}(SMAIndicator);extend(AOIndicator.prototype,{nameBase:"AO",nameComponents:!1,markerAttribs:noop,getColumnMetrics:ColumnSeries.prototype.getColumnMetrics,crispCol:ColumnSeries.prototype.crispCol,translate:ColumnSeries.prototype.translate,drawPoints:ColumnSeries.prototype.drawPoints}),SeriesRegistry.registerSeriesType("ao",AOIndicator);export default AOIndicator;