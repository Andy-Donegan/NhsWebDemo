"use strict";var __extends=this&&this.__extends||function(){var o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};return function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}();import SeriesRegistry from"../../../Core/Series/SeriesRegistry.js";var SMAIndicator=SeriesRegistry.seriesTypes.sma;import U from"../../../Core/Utilities.js";var error=U.error,extend=U.extend,merge=U.merge,ADIndicator=function(t){function v(){var e=null!==t&&t.apply(this,arguments)||this;return e.data=void 0,e.options=void 0,e.points=void 0,e}return __extends(v,t),v.populateAverage=function(e,t,r,o,n){var i=t[o][1],a=t[o][2],t=t[o][3],r=r[o];return[e[o],t===i&&t===a||i===a?0:(2*t-a-i)/(i-a)*r]},v.prototype.getValues=function(e,t){var r,o,n,i=t.period,a=e.xData,s=e.yData,u=t.volumeSeriesID,t=e.chart.get(u),p=t&&t.yData,c=s?s.length:0,d=[],f=[],l=[];if(!(a.length<=i&&c&&4!==s[0].length)){if(t){for(o=i;o<c;o++)r=d.length,n=v.populateAverage(a,s,p,o,i),0<r&&(n[1]+=d[r-1][1]),d.push(n),f.push(n[0]),l.push(n[1]);return{values:d,xData:f,yData:l}}error("Series "+u+" not found! Check `volumeSeriesID`.",!0,e.chart)}},v.defaultOptions=merge(SMAIndicator.defaultOptions,{params:{index:void 0,volumeSeriesID:"volume"}}),v}(SMAIndicator);extend(ADIndicator.prototype,{nameComponents:!1,nameBase:"Accumulation/Distribution"}),SeriesRegistry.registerSeriesType("ad",ADIndicator);export default ADIndicator;