"use strict";var __extends=this&&this.__extends||function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}();import SeriesRegistry from"../../../Core/Series/SeriesRegistry.js";var SMAIndicator=SeriesRegistry.seriesTypes.sma;import U from"../../../Core/Utilities.js";var extend=U.extend,merge=U.merge,isArray=U.isArray,TrendLineIndicator=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.data=void 0,e.options=void 0,e.points=void 0,e}return __extends(e,t),e.prototype.getValues=function(e,t){for(var r,n,i,o,s=e.xData,a=e.yData,d=[],p=[],c=[],u=0,y=0,f=0,l=0,_=s.length,m=t.index,v=0;v<_;v++)u+=i=s[v],y+=o=isArray(a[v])?a[v][m]:a[v],f+=i*o,l+=i*i;for(r=(_*f-u*y)/(_*l-u*u),n=(y-(r=isNaN(r)?0:r)*u)/_,v=0;v<_;v++)i=s[v],d[v]=[i,o=r*i+n],p[v]=i,c[v]=o;return{xData:p,yData:c,values:d}},e.defaultOptions=merge(SMAIndicator.defaultOptions,{params:{period:void 0,index:3}}),e}(SMAIndicator);extend(TrendLineIndicator.prototype,{nameBase:"Trendline",nameComponents:!1}),SeriesRegistry.registerSeriesType("trendline",TrendLineIndicator);export default TrendLineIndicator;