"use strict";var __extends=this&&this.__extends||function(){var t=function(o,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,e){o.__proto__=e}||function(o,e){for(var r in e)e.hasOwnProperty(r)&&(o[r]=e[r])})(o,e)};return function(o,e){function r(){this.constructor=o}t(o,e),o.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}();import MultipleLinesComposition from"../MultipleLinesComposition.js";import SeriesRegistry from"../../../Core/Series/SeriesRegistry.js";var SMAIndicator=SeriesRegistry.seriesTypes.sma;import U from"../../../Core/Utilities.js";var extend=U.extend,merge=U.merge,pick=U.pick;function getExtremeIndexInArray(o,e){for(var r=o[0],t=0,n=1;n<o.length;n++)("max"===e&&o[n]>=r||"min"===e&&o[n]<=r)&&(r=o[n],t=n);return t}var AroonIndicator=function(e){function o(){var o=null!==e&&e.apply(this,arguments)||this;return o.data=void 0,o.options=void 0,o.points=void 0,o}return __extends(o,e),o.prototype.getValues=function(o,e){for(var r,t,n=e.period,i=o.xData,a=o.yData,s=a?a.length:0,p=[],u=[],c=[],d=n-1;d<s;d++)t=getExtremeIndexInArray((r=a.slice(d-n+1,d+2)).map(function(o){return pick(o[2],o)}),"min"),r=getExtremeIndexInArray(r.map(function(o){return pick(o[1],o)}),"max")/n*100,t=t/n*100,i[d+1]&&(p.push([i[d+1],r,t]),u.push(i[d+1]),c.push([r,t]));return{values:p,xData:u,yData:c}},o.defaultOptions=merge(SMAIndicator.defaultOptions,{params:{index:void 0,period:25},marker:{enabled:!1},tooltip:{pointFormat:'<span style="color:{point.color}">‚óè</span><b> {series.name}</b><br/>Aroon Up: {point.y}<br/>Aroon Down: {point.aroonDown}<br/>'},aroonDown:{styles:{lineWidth:1,lineColor:void 0}},dataGrouping:{approximation:"averages"}}),o}(SMAIndicator);extend(AroonIndicator.prototype,{areaLinesNames:[],linesApiNames:["aroonDown"],nameBase:"Aroon",pointArrayMap:["y","aroonDown"],pointValKey:"y"}),MultipleLinesComposition.compose(AroonIndicator),SeriesRegistry.registerSeriesType("aroon",AroonIndicator);export default AroonIndicator;