"use strict";!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/variable-pie",["highcharts"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){function e(t,e,i,a){t.hasOwnProperty(e)||(t[e]=a.apply(null,i))}e(t=t?t._modules:{},"Series/VariablePie/VariablePieSeries.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e){var a,i,n=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=t.seriesTypes.pie,s=e.arrayMax,o=e.arrayMin,l=e.clamp,h=e.extend,m=e.fireEvent,p=e.merge,P=e.pick;function c(){var t=null!==i&&i.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t.radii=void 0,t}return n(c,i=r),c.prototype.calculateExtremes=function(){var t=this.chart,a=this.options,e=this.zData,n=Math.min(t.plotWidth,t.plotHeight)-2*(a.slicedOffset||0),r={},t=this.center||this.getCenter();["minPointSize","maxPointSize"].forEach(function(t){var e=a[t],i=/%$/.test(e),e=parseInt(e,10);r[t]=i?n*e/100:2*e}),this.minPxSize=t[3]+r.minPointSize,this.maxPxSize=l(t[2],t[3]+r.minPointSize,r.maxPointSize),e.length&&(t=P(a.zMin,o(e.filter(this.zValEval))),e=P(a.zMax,s(e.filter(this.zValEval))),this.getRadii(t,e,this.minPxSize,this.maxPxSize))},c.prototype.getRadii=function(t,e,i,a){for(var n=0,r=this.zData,s=r.length,o=[],l="radius"!==this.options.sizeBy,h=e-t;n<s;n++){var p=(p=this.zValEval(r[n])?r[n]:t)<=t?i/2:e<=p?a/2:(p=0<h?(p-t)/h:.5,l&&(p=Math.sqrt(p)),Math.ceil(i+p*(a-i))/2);o.push(p)}this.radii=o},c.prototype.redraw=function(){this.center=null,i.prototype.redraw.apply(this,arguments)},c.prototype.translate=function(t){this.generatePoints();var e=0,i=(h=this.options).slicedOffset,a=i+(h.borderWidth||0),n=h.startAngle||0,r=Math.PI/180*(n-90),s=Math.PI/180*(P(h.endAngle,n+360)-90),n=s-r,o=this.points,l=h.dataLabels.distance,h=h.ignoreHiddenPoint,p=o.length;for(this.startAngleRad=r,this.endAngleRad=s,this.calculateExtremes(),t||(this.center=t=this.getCenter()),s=0;s<p;s++){var c=o[s],d=this.radii[s];c.labelDistance=P(c.options.dataLabels&&c.options.dataLabels.distance,l),this.maxLabelDistance=Math.max(this.maxLabelDistance||0,c.labelDistance);var u=r+e*n;h&&!c.visible||(e+=c.percentage/100);var f=r+e*n;c.shapeType="arc",c.shapeArgs={x:t[0],y:t[1],r:d,innerR:t[3]/2,start:Math.round(1e3*u)/1e3,end:Math.round(1e3*f)/1e3},(u=(f+u)/2)>1.5*Math.PI?u-=2*Math.PI:u<-Math.PI/2&&(u+=2*Math.PI),c.slicedTranslation={translateX:Math.round(Math.cos(u)*i),translateY:Math.round(Math.sin(u)*i)};var y=Math.cos(u)*t[2]/2,M=Math.sin(u)*t[2]/2,f=Math.cos(u)*d;d*=Math.sin(u),c.tooltipPos=[t[0]+.7*y,t[1]+.7*M],c.half=u<-Math.PI/2||u>Math.PI/2?1:0,c.angle=u,y=Math.min(a,c.labelDistance/5),c.labelPosition={natural:{x:t[0]+f+Math.cos(u)*c.labelDistance,y:t[1]+d+Math.sin(u)*c.labelDistance},final:{},alignment:c.half?"right":"left",connectorPosition:{breakAt:{x:t[0]+f+Math.cos(u)*y,y:t[1]+d+Math.sin(u)*y},touchingSliceAt:{x:t[0]+f,y:t[1]+d}}}}m(this,"afterTranslate")},c.prototype.zValEval=function(t){return"number"==typeof t&&!isNaN(t)||null},c.defaultOptions=p(r.defaultOptions,{minPointSize:"10%",maxPointSize:"100%",zMin:void 0,zMax:void 0,sizeBy:"area",tooltip:{pointFormat:'<span style="color:{point.color}">‚óè</span> {series.name}<br/>Value: {point.y}<br/>Size: {point.z}<br/>'}}),h((e=c).prototype,{pointArrayMap:["y","z"],parallelArrays:["x","y","z"]}),t.registerSeriesType("variablepie",e),e}),e(t,"masters/modules/variable-pie.src.js",[],function(){})});