"use strict";!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/map",["highcharts"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){function e(t,e,o,i){t.hasOwnProperty(e)||(t[e]=i.apply(null,o))}e(t=t?t._modules:{},"Core/Axis/Color/ColorAxisComposition.js",[t["Core/Color/Color.js"],t["Core/Utilities.js"]],function(t,e){var o,n,a,i=t.parse,l=e.addEvent,h=e.extend,p=e.merge,c=e.pick,r=e.splat;function u(){var o=this,t=this.options;this.colorAxis=[],t.colorAxis&&(t.colorAxis=r(t.colorAxis),t.colorAxis.forEach(function(t,e){t.index=e,new n(o,t)}))}function d(e){function o(t){-1!==(t=e.allItems.indexOf(t))&&(r.destroyItem(e.allItems[t]),e.allItems.splice(t,1))}var i,t,r=this,s=[];for((this.chart.colorAxis||[]).forEach(function(t){(i=t.options)&&i.showInLegend&&(i.dataClasses&&i.visible?s=s.concat(t.getDataClassLegendSymbols()):i.visible&&s.push(t),t.series.forEach(function(t){t.options.showInLegend&&!i.dataClasses||("point"===t.options.legendType?t.points.forEach(function(t){o(t)}):o(t))}))}),t=s.length;t--;)e.allItems.unshift(s[t])}function f(t){t.visible&&t.item.legendColor&&t.item.legendSymbol.attr({fill:t.item.legendColor})}function m(){var t=this.chart.colorAxis;t&&t.forEach(function(t,e,o){t.update({},o)})}function y(){(this.chart.colorAxis&&this.chart.colorAxis.length||this.colorAttribs)&&this.translateColors()}function g(){var t=this.axisTypes;t?-1===t.indexOf("colorAxis")&&t.push("colorAxis"):this.axisTypes=["colorAxis"]}function b(t){var e=this,o=t?"show":"hide";e.visible=e.options.visible=!!t,["graphic","dataLabel"].forEach(function(t){e[t]&&e[t][o]()}),this.series.buildKDTree()}function v(){var o=this,i=this.options.nullColor,r=this.colorAxis,s=this.colorKey;(this.data.length?this.data:this.points).forEach(function(t){var e=t.getNestedProperty(s);(e=t.options.color||(t.isNull||null===t.value?i:r&&void 0!==e?r.toColor(e,t):t.color||o.color))&&t.color!==e&&(t.color=e,"point"===o.options.legendType&&t.legendItem&&o.chart.legend.colorizeItem(t,t.visible))})}function x(){this.elem.attr("fill",i(this.start).tweenTo(i(this.end),this.pos),void 0,!0)}function M(){this.elem.attr("stroke",i(this.start).tweenTo(i(this.end),this.pos),void 0,!0)}return e=o=o||{},a=[],e.compose=function(t,e,o,i,r){var s;n=n||t,-1===a.indexOf(e)&&(a.push(e),(t=e.prototype).collectionsWithUpdate.push("colorAxis"),t.collectionsWithInit.colorAxis=[t.addColorAxis],l(e,"afterGetAxes",u),s=(t=e).prototype.createAxis,t.prototype.createAxis=function(t,e){if("colorAxis"!==t)return s.apply(this,arguments);t=new n(this,p(e.axis,{index:this[t].length,isX:!1}));return this.isDirtyLegend=!0,this.axes.forEach(function(t){t.series=[]}),this.series.forEach(function(t){t.bindAxes(),t.isDirtyData=!0}),c(e.redraw,!0)&&this.redraw(e.animation),t}),-1===a.indexOf(o)&&(a.push(o),(e=o.prototype).fillSetter=x,e.strokeSetter=M),-1===a.indexOf(i)&&(a.push(i),l(i,"afterGetAllItems",d),l(i,"afterColorizeItem",f),l(i,"afterUpdate",m)),-1===a.indexOf(r)&&(a.push(r),h(r.prototype,{optionalAxis:"colorAxis",translateColors:v}),h(r.prototype.pointClass.prototype,{setVisible:b}),l(r,"afterTranslate",y),l(r,"bindAxes",g))},e.pointSetVisible=b,o}),e(t,"Core/Axis/Color/ColorAxisDefaults.js",[],function(){return{lineWidth:0,minPadding:0,maxPadding:0,gridLineWidth:1,tickPixelInterval:72,startOnTick:!0,endOnTick:!0,offset:0,marker:{animation:{duration:50},width:.01,color:"#999999"},labels:{overflow:"justify",rotation:0},minColor:"#e6ebf5",maxColor:"#003399",tickLength:5,showInLegend:!0}}),e(t,"Core/Axis/Color/ColorAxis.js",[t["Core/Axis/Axis.js"],t["Core/Color/Color.js"],t["Core/Axis/Color/ColorAxisComposition.js"],t["Core/Axis/Color/ColorAxisDefaults.js"],t["Core/Globals.js"],t["Core/Legend/LegendSymbol.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e,r,o,i,u,s,n){var a,l,h=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),p=e.parse,d=i.noop,c=s.series,f=n.extend,m=n.isNumber,y=n.merge,g=n.pick;function b(t,e){var o=l.call(this,t,e)||this;return o.beforePadding=!1,o.chart=void 0,o.coll="colorAxis",o.dataClasses=void 0,o.legendItem=void 0,o.legendItems=void 0,o.name="",o.options=void 0,o.stops=void 0,o.visible=!0,o.init(t,e),o}return h(b,l=t),b.compose=function(t,e,o,i){r.compose(b,t,e,o,i)},b.prototype.init=function(t,e){var o=t.options.legend||{},i=e.layout?"vertical"!==e.layout:"vertical"!==o.layout,r=e.visible,o=y(b.defaultColorAxisOptions,e,{showEmpty:!1,title:null,visible:o.enabled&&!1!==r});this.coll="colorAxis",this.side=e.side||i?2:1,this.reversed=e.reversed||!i,this.opposite=!i,l.prototype.init.call(this,t,o),this.userOptions.visible=r,e.dataClasses&&this.initDataClasses(e),this.initStops(),this.horiz=i,this.zoomEnabled=!1},b.prototype.initDataClasses=function(t){var o,i=this.chart,r=this.options,s=t.dataClasses.length,n=0,a=i.options.chart.colorCount;this.dataClasses=o=[],this.legendItems=[],(t.dataClasses||[]).forEach(function(t,e){t=y(t),o.push(t),!i.styledMode&&t.color||("category"===r.dataClassColor?(i.styledMode||(e=i.options.colors,a=e.length,t.color=e[n]),t.colorIndex=n,++n===a&&(n=0)):t.color=p(r.minColor).tweenTo(p(r.maxColor),s<2?.5:e/(s-1)))})},b.prototype.hasData=function(){return!!(this.tickPositions||[]).length},b.prototype.setTickPositions=function(){if(!this.dataClasses)return l.prototype.setTickPositions.call(this)},b.prototype.initStops=function(){this.stops=this.options.stops||[[0,this.options.minColor],[1,this.options.maxColor]],this.stops.forEach(function(t){t.color=p(t[1])})},b.prototype.setOptions=function(t){l.prototype.setOptions.call(this,t),this.options.crosshair=this.options.marker},b.prototype.setAxisSize=function(){var t,e,o=this.legendSymbol,i=this.chart,r=i.options.legend||{};o?(this.left=r=o.attr("x"),this.top=t=o.attr("y"),this.width=e=o.attr("width"),this.height=o=o.attr("height"),this.right=i.chartWidth-r-e,this.bottom=i.chartHeight-t-o,this.len=this.horiz?e:o,this.pos=this.horiz?r:t):this.len=(this.horiz?r.symbolWidth:r.symbolHeight)||b.defaultLegendLength},b.prototype.normalizedValue=function(t){return this.logarithmic&&(t=this.logarithmic.log2lin(t)),1-(this.max-t)/(this.max-this.min||1)},b.prototype.toColor=function(t,e){var o,i=this.dataClasses,r=this.stops;if(i)for(o=i.length;o--;){var s=i[o],n=s.from,r=s.to;if((void 0===n||n<=t)&&(void 0===r||t<=r)){var a=s.color;e&&(e.dataClass=o,e.colorIndex=s.colorIndex);break}}else{for(t=this.normalizedValue(t),o=r.length;o--&&!(t>r[o][0]););n=r[o]||r[o+1],t=1-((r=r[o+1]||n)[0]-t)/(r[0]-n[0]||1),a=n.color.tweenTo(r.color,t)}return a},b.prototype.getOffset=function(){var t=this.legendGroup,e=this.chart.axisOffset[this.side];t&&(this.axisParent=t,l.prototype.getOffset.call(this),this.added||(this.added=!0,this.labelLeft=0,this.labelRight=this.width),this.chart.axisOffset[this.side]=e)},b.prototype.setLegendColor=function(){var t=(e=this.reversed)?1:0,e=e?0:1,t=this.horiz?[t,0,e,0]:[0,e,0,t];this.legendColor={linearGradient:{x1:t[0],y1:t[1],x2:t[2],y2:t[3]},stops:this.stops}},b.prototype.drawLegendSymbol=function(t,e){var o=t.padding,i=t.options,r=this.horiz,s=g(i.symbolWidth,r?b.defaultLegendLength:12),n=g(i.symbolHeight,r?12:b.defaultLegendLength),a=g(i.labelPadding,r?16:30),i=g(i.itemDistance,10);this.setLegendColor(),e.legendSymbol=this.chart.renderer.rect(0,t.baseline-11,s,n).attr({zIndex:1}).add(e.legendGroup),this.legendItemWidth=s+o+(r?i:a),this.legendItemHeight=n+o+(r?a:0)},b.prototype.setState=function(e){this.series.forEach(function(t){t.setState(e)})},b.prototype.setVisible=function(){},b.prototype.getSeriesExtremes=function(){var t,e=this.series,o=e.length;for(this.dataMin=1/0,this.dataMax=-1/0;o--;){var i=e[o],r=i.colorKey=g(i.options.colorKey,i.colorKey,i.pointValKey,i.zoneAxis,"y"),s=i.pointArrayMap,n=i[r+"Min"]&&i[r+"Max"];if(i[r+"Data"])var a=i[r+"Data"];else if(s){var a=[],s=s.indexOf(r),l=i.yData;if(0<=s&&l)for(t=0;t<l.length;t++)a.push(g(l[t][s],l[t]))}else a=i.yData;n?(i.minColorValue=i[r+"Min"],i.maxColorValue=i[r+"Max"]):(a=c.prototype.getExtremes.call(i,a),i.minColorValue=a.dataMin,i.maxColorValue=a.dataMax),void 0!==i.minColorValue&&(this.dataMin=Math.min(this.dataMin,i.minColorValue),this.dataMax=Math.max(this.dataMax,i.maxColorValue)),n||c.prototype.applyExtremes.call(i)}},b.prototype.drawCrosshair=function(t,e){var o,i=e&&e.plotX,r=e&&e.plotY,s=this.pos,n=this.len;e&&((o=this.toPixels(e.getNestedProperty(e.series.colorKey)))<s?o=s-2:s+n<o&&(o=s+n+2),e.plotX=o,e.plotY=this.len-o,l.prototype.drawCrosshair.call(this,t,e),e.plotX=i,e.plotY=r,this.cross&&!this.cross.addedToColorAxis&&this.legendGroup&&(this.cross.addClass("highcharts-coloraxis-marker").add(this.legendGroup),this.cross.addedToColorAxis=!0,this.chart.styledMode||"object"!=typeof this.crosshair||this.cross.attr({fill:this.crosshair.color})))},b.prototype.getPlotLinePath=function(t){var e=this.left,o=t.translatedValue,i=this.top;return m(o)?this.horiz?[["M",o-4,i-6],["L",o+4,i-6],["L",o,i],["Z"]]:[["M",e,o],["L",e-6,o+6],["L",e-6,o-6],["Z"]]:l.prototype.getPlotLinePath.call(this,t)},b.prototype.update=function(t,e){var o=this.chart.legend;this.series.forEach(function(t){t.isDirtyData=!0}),(t.dataClasses&&o.allItems||this.dataClasses)&&this.destroyItems(),l.prototype.update.call(this,t,e),this.legendItem&&(this.setLegendColor(),o.colorizeItem(this,!0))},b.prototype.destroyItems=function(){var e=this.chart;this.legendItem?e.legend.destroyItem(this):this.legendItems&&this.legendItems.forEach(function(t){e.legend.destroyItem(t)}),e.isDirtyLegend=!0},b.prototype.destroy=function(){this.chart.isDirtyLegend=!0,this.destroyItems(),l.prototype.destroy.apply(this,[].slice.call(arguments))},b.prototype.remove=function(t){this.destroyItems(),l.prototype.remove.call(this,t)},b.prototype.getDataClassLegendSymbols=function(){var n,a=this,l=a.chart,h=a.legendItems,t=l.options.legend,p=t.valueDecimals,c=t.valueSuffix||"";return h.length||a.dataClasses.forEach(function(t,e){var o=t.from,i=t.to,r=l.numberFormatter,s=!0;n="",void 0===o?n="< ":void 0===i&&(n="> "),void 0!==o&&(n+=r(o,p)+c),void 0!==o&&void 0!==i&&(n+=" - "),void 0!==i&&(n+=r(i,p)+c),h.push(f({chart:l,name:n,options:{},drawLegendSymbol:u.drawRectangle,visible:!0,setState:d,isDataClass:!0,setVisible:function(){s=a.visible=!s,a.series.forEach(function(t){t.points.forEach(function(t){t.dataClass===e&&t.setVisible(s)})}),l.legend.colorizeItem(this,s)}},t))}),h},b.defaultColorAxisOptions=o,b.defaultLegendLength=200,b.keepProps=["legendGroup","legendItemHeight","legendItemWidth","legendItem","legendSymbol"],e=b,Array.prototype.push.apply(t.keepProps,e.keepProps),e}),e(t,"Maps/MapNavigationOptionsDefault.js",[t["Core/DefaultOptions.js"],t["Core/Utilities.js"]],function(t,e){return(e=e.extend)(t.defaultOptions.lang,{zoomIn:"Zoom in",zoomOut:"Zoom out"}),t.defaultOptions.mapNavigation={buttonOptions:{alignTo:"plotBox",align:"left",verticalAlign:"top",x:0,width:18,height:18,padding:5,style:{fontSize:"15px",fontWeight:"bold"},theme:{"stroke-width":1,"text-align":"center"}},buttons:{zoomIn:{onclick:function(){this.mapZoom(.5)},text:"+",y:0},zoomOut:{onclick:function(){this.mapZoom(2)},text:"-",y:28}},mouseWheelSensitivity:1.1}}),e(t,"Maps/MapNavigation.js",[t["Core/Chart/Chart.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],function(t,e,o){function c(t){t&&(t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)}function i(t){this.init(t)}var r=e.doc,u=o.addEvent,d=o.extend,s=o.isNumber,f=o.merge,m=o.objectEach,y=o.pick;i.prototype.init=function(t){(this.chart=t).mapNavButtons=[]},i.prototype.update=function(t){function r(t){this.handler.call(l,t),c(t)}var s,n,a,l=this.chart,h=l.options.mapNavigation,p=l.mapNavButtons;for(t&&(h=l.options.mapNavigation=f(l.options.mapNavigation,t));p.length;)p.pop().destroy();y(h.enableButtons,h.enabled)&&!l.renderer.forExport&&m(h.buttons,function(t,e){t=f(h.buttonOptions,t),!l.styledMode&&t.theme&&((s=t.theme).style=f(t.theme.style,t.style),n=(a=s.states)&&a.hover,a=a&&a.select,delete s.states);var o,i=l.renderer.button(t.text||"",0,0,r,s,n,a,void 0,"zoomIn"===e?"topbutton":"bottombutton").addClass("highcharts-map-navigation highcharts-"+{zoomIn:"zoom-in",zoomOut:"zoom-out"}[e]).attr({width:t.width,height:t.height,title:l.options.lang[e],padding:t.padding,zIndex:5}).add();i.handler=t.onclick,u(i.element,"dblclick",c),p.push(i),d(t,{width:i.width,height:2*i.height}),l.hasLoaded?i.align(t,!1,t.alignTo):o=u(l,"load",function(){i.element&&i.align(t,!1,t.alignTo),o()})}),this.updateEvents(h)},i.prototype.updateEvents=function(t){var e=this.chart;y(t.enableDoubleClickZoom,t.enabled)||t.enableDoubleClickZoomTo?this.unbindDblClick=this.unbindDblClick||u(e.container,"dblclick",function(t){e.pointer.onContainerDblClick(t)}):this.unbindDblClick&&(this.unbindDblClick=this.unbindDblClick()),y(t.enableMouseWheelZoom,t.enabled)?this.unbindMouseWheel=this.unbindMouseWheel||u(e.container,void 0!==r.onwheel?"wheel":void 0!==r.onmousewheel?"mousewheel":"DOMMouseScroll",function(t){return e.pointer.inClass(t.target,"highcharts-no-mousewheel")||(e.pointer.onContainerMouseWheel(t),c(t)),!1}):this.unbindMouseWheel&&(this.unbindMouseWheel=this.unbindMouseWheel())},d(t.prototype,{fitToBox:function(o,i){return[["x","width"],["y","height"]].forEach(function(t){var e=t[0];t=t[1],o[e]+o[t]>i[e]+i[t]&&(o[t]>i[t]?(o[t]=i[t],o[e]=i[e]):o[e]=i[e]+i[t]-o[t]),o[t]>i[t]&&(o[t]=i[t]),o[e]<i[e]&&(o[e]=i[e])}),o},mapZoom:function(t,e,o,i,r){this.mapView&&(s(t)&&(t=Math.log(t)/Math.log(.5)),this.mapView.zoomBy(t,s(e)&&s(o)?this.mapView.projection.inverse([e,o]):void 0,s(i)&&s(r)?[i,r]:void 0))}}),u(t,"beforeRender",function(){this.mapNavigation=new i(this),this.mapNavigation.update()}),e.MapNavigation=i}),e(t,"Maps/MapPointer.js",[t["Core/Pointer.js"],t["Core/Utilities.js"]],function(t,e){var i=e.defined,o=e.extend,r=e.pick;e=e.wrap;var s,n=0;o(t.prototype,{onContainerDblClick:function(t){var e=this.chart;t=this.normalize(t),e.options.mapNavigation.enableDoubleClickZoomTo?e.pointer.inClass(t.target,"highcharts-tracker")&&e.hoverPoint&&e.hoverPoint.zoomTo():e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)&&e.mapZoom(.5,void 0,void 0,t.chartX,t.chartY)},onContainerMouseWheel:function(t){var e=this.chart;t=this.normalize(t);var o=i(t.wheelDelta)&&-t.wheelDelta/120||t.deltaY||t.detail;1<=Math.abs(o)&&(n+=Math.abs(o),s&&clearTimeout(s),s=setTimeout(function(){n=0},50)),n<10&&e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)&&e.mapView&&e.mapView.zoomBy((e.options.mapNavigation.mouseWheelSensitivity-1)*-o,void 0,[t.chartX,t.chartY],!(Math.abs(o)<1)&&void 0)}}),e(t.prototype,"zoomOption",function(t){var e=this.chart.options.mapNavigation;r(e.enableTouchZoom,e.enabled)&&(this.chart.options.chart.pinchType="xy"),t.apply(this,[].slice.call(arguments,1))}),e(t.prototype,"pinchTranslate",function(t,e,o,i,r,s,n){t.call(this,e,o,i,r,s,n),"map"===this.chart.options.chart.type&&this.hasZoom&&(t=i.scaleX>i.scaleY,this.pinchTranslateDirection(!t,e,o,i,r,s,n,t?i.scaleX:i.scaleY))})}),e(t,"Series/ColorMapMixin.js",[t["Core/Globals.js"],t["Core/Series/Point.js"],t["Core/Utilities.js"]],function(t,e,o){var i=t.noop;t=t.seriesTypes;var r=o.defined;return(o=o.addEvent)(e,"afterSetState",function(t){this.moveToTopOnHover&&this.graphic&&this.graphic.attr({zIndex:t&&"hover"===t.state?1:0})}),{PointMixin:{dataLabelOnNull:!0,moveToTopOnHover:!0,isValid:function(){return null!==this.value&&1/0!==this.value&&-1/0!==this.value}},SeriesMixin:{pointArrayMap:["value"],axisTypes:["xAxis","yAxis","colorAxis"],trackerGroups:["group","markerGroup","dataLabelsGroup"],getSymbol:i,parallelArrays:["x","y","value"],colorKey:"value",pointAttribs:t.column.prototype.pointAttribs,colorAttribs:function(t){var e={};return!r(t.color)||t.state&&"normal"!==t.state||(e[this.colorProp||"fill"]=t.color),e}}}}),e(t,"Maps/MapViewOptionsDefault.js",[],function(){return{center:[0,0],maxZoom:void 0,padding:0,projection:void 0,zoom:void 0}}),e(t,"Maps/Projections/LambertConformalConic.js",[],function(){var r=Math.sign||function(t){return 0===t?0:0<t?1:-1},s=Math.PI/180,n=Math.PI/2,a=0,l=0;return{init:function(t){t=(e=(t.parallels||[]).map(function(t){return t*s}))[0]||0;var e=e[1]||t,o=Math.cos(t);a=t===e?Math.sin(t):Math.log(o/Math.cos(e))/Math.log(Math.tan((n+e)/2)/Math.tan((n+t)/2)),Math.abs(a)<1e-10&&(a=1e-10*(r(a)||1)),l=o*Math.pow(Math.tan((n+t)/2),a)/a},forward:function(t){var e=t[0]*s;return t=t[1]*s,0<l?t<1e-6-n&&(t=1e-6-n):n-1e-6<t&&(t=n-1e-6),[(t=l/Math.pow(Math.tan((n+t)/2),a))*Math.sin(a*e)*63.78137,63.78137*(l-t*Math.cos(a*e))]},inverse:function(t){var e=t[0]/63.78137;t=l-t[1]/63.78137;var o=r(a)*Math.sqrt(e*e+t*t),i=Math.atan2(e,Math.abs(t))*r(t);return t*a<0&&(i-=Math.PI*r(e)*r(t)),[i/a/s,(2*Math.atan(Math.pow(l/o,1/a))-n)/s]}}}),e(t,"Maps/Projections/EqualEarth.js",[],function(){var l=Math.sqrt(3)/2;return{forward:function(t){var e=Math.PI/180,o=Math.asin(l*Math.sin(t[1]*e)),i=o*o,r=i*i*i;return[t[0]*e*Math.cos(o)*74.03120656864502/(l*(1.340264+3*-.081106*i+r*(7*893e-6+.034164*i))),74.03120656864502*o*(1.340264+-.081106*i+r*(893e-6+.003796*i))]},inverse:function(t){var e=t[0]/74.03120656864502;t=t[1]/74.03120656864502;for(var o=180/Math.PI,i=t,r=0;r<12;++r){var s=i*i,n=s*s*s,a=i*(1.340264+-.081106*s+n*(893e-6+.003796*s))-t;if(i-=a/=s=1.340264+3*-.081106*s+n*(7*893e-6+.034164*s),Math.abs(a)<1e-9)break}return[o*l*e*(1.340264+3*-.081106*(s=i*i)+s*s*s*(7*893e-6+.034164*s))/Math.cos(i),o*Math.asin(Math.sin(i)/l)]}}}),e(t,"Maps/Projections/Miller.js",[],function(){var e=Math.PI/4,o=Math.PI/180;return{forward:function(t){return[t[0]*o*63.78137,79.7267125*Math.log(Math.tan(e+.4*t[1]*o))]},inverse:function(t){return[t[0]/63.78137/o,2.5*(Math.atan(Math.exp(t[1]/63.78137*.8))-e)/o]}}}),e(t,"Maps/Projections/Orthographic.js",[],function(){var s=Math.PI/180;return{forward:function(t){var e=t[0];return e<-90||90<e?[NaN,NaN]:(t=t[1]*s,[Math.cos(t)*Math.sin(e*s)*63.78460826781007,63.78460826781007*Math.sin(t)])},inverse:function(t){var e=t[0]/63.78460826781007;t=t[1]/63.78460826781007;var o=Math.sqrt(e*e+t*t),i=Math.asin(o),r=Math.sin(i);return[Math.atan2(e*r,o*Math.cos(i))/s,Math.asin(o&&t*r/o)/s]}}}),e(t,"Maps/Projections/WebMercator.js",[],function(){var o=Math.PI/180;return{forward:function(t){if(85.0511287798<Math.abs(t[1]))return[NaN,NaN];var e=Math.sin(t[1]*o);return[63.78137*t[0]*o,63.78137*Math.log((1+e)/(1-e))/2]},inverse:function(t){return[t[0]/(63.78137*o),(2*Math.atan(Math.exp(t[1]/63.78137))-Math.PI/2)/o]},maxLatitude:85.0511287798}}),e(t,"Maps/Projections/ProjectionRegistry.js",[t["Maps/Projections/LambertConformalConic.js"],t["Maps/Projections/EqualEarth.js"],t["Maps/Projections/Miller.js"],t["Maps/Projections/Orthographic.js"],t["Maps/Projections/WebMercator.js"]],function(t,e,o,i,r){return{EqualEarth:e,LambertConformalConic:t,Miller:o,Orthographic:i,WebMercator:r}}),e(t,"Maps/Projection.js",[t["Maps/Projections/ProjectionRegistry.js"],t["Core/Utilities.js"]],function(t,e){function p(t){return t<-180&&(t+=360),180<t&&(t-=360),t}var c=this&&this.__spreadArrays||function(){for(var t=0,e=0,o=arguments.length;e<o;e++)t+=arguments[e].length;for(var t=Array(t),i=0,e=0;e<o;e++)for(var r=arguments[e],s=0,n=r.length;s<n;s++,i++)t[i]=r[s];return t},u=e.erase,b=2*Math.PI/360;return f.add=function(t,e){f.registry[t]=e},f.greatCircle=function(t,e,o){var i=Math.atan2,r=Math.cos,s=Math.sin,n=Math.sqrt,a=t[1]*b,l=t[0]*b,h=e[1]*b,p=e[0]*b,c=h-a,u=p-l;c=2*i(n(c=s(c/2)*s(c/2)+r(a)*r(h)*s(u/2)*s(u/2)),n(1-c));var d=Math.round(6371e3*c/5e5),u=[];if(o&&u.push(t),1<d)for(d=t=1/d;d<.999;d+=t){var f=s((1-d)*c)/s(c),m=s(d*c)/s(c),y=f*r(a)*r(l)+m*r(h)*r(p),g=f*r(a)*s(l)+m*r(h)*s(p);f=i(f=f*s(a)+m*s(h),n(y*y+g*g)),y=i(g,y),u.push([y/b,f/b])}return o&&u.push(e),u},f.insertGreatCircles=function(t){for(var e,o=t.length-1;o--;)10<Math.max(Math.abs(t[o][0]-t[o+1][0]),Math.abs(t[o][1]-t[o+1][1]))&&((e=f.greatCircle(t[o],t[o+1])).length&&t.splice.apply(t,c([o+1,0],e)))},f.toString=function(t){var e=(t=t||{}).rotation;return[t.name,e&&e.join(",")].join(";")},f.prototype.getRotator=function(t){var r=t[0]*b,e=(t[1]||0)*b;t=(t[2]||0)*b;var s=Math.cos(e),n=Math.sin(e),a=Math.cos(t),l=Math.sin(t);if(0!=r||0!=e||0!==t)return{forward:function(t){var e=t[0]*b+r,o=t[1]*b,i=Math.cos(o);return t=Math.cos(e)*i,e=Math.sin(e)*i,i=(o=Math.sin(o))*s+t*n,[Math.atan2(e*a-i*l,t*s-o*n)/b,Math.asin(i*a+e*l)/b]},inverse:function(t){var e=t[0]*b,o=t[1]*b,i=Math.cos(o);return t=Math.cos(e)*i,e=Math.sin(e)*i,i=(o=Math.sin(o))*a-e*l,[(Math.atan2(e*a+o*l,t*s+i*n)-r)/b,Math.asin(i*s-t*n)/b]}}},f.prototype.forward=function(t){return t},f.prototype.inverse=function(t){return t},f.prototype.clipOnAntimeridian=function(s,n){var a=[],t=[s];if(s.forEach(function(t,e){var o=s[e-1];if(!e){if(!n)return;o=s[s.length-1]}var i=o[0],r=t[0];(i<-90||90<i)&&(r<-90||90<r)&&0<i!=0<r&&a.push({i:e,lat:o[1]+(180-o[0])/(t[0]-o[0])*(t[1]-o[1]),direction:i<0?1:-1,previousLonLat:o,lonLat:t})}),a.length)if(n){1==a.length%2&&(h=a.slice().sort(function(t,e){return Math.abs(e.lat)-Math.abs(t.lat)})[0],u(a,h));for(var e=a.length-2;0<=e;){var o=a[e].i,i=p(180+1e-6*a[e].direction),r=p(180-1e-6*a[e].direction);(o=s.splice.apply(s,c([o,a[e+1].i-o],f.greatCircle([i,a[e].lat],[i,a[e+1].lat],!0)))).push.apply(o,f.greatCircle([r,a[e+1].lat],[r,a[e].lat],!0)),t.push(o),e-=2}if(h)for(o=0;o<t.length;o++)if(-1<(r=(e=t[o]).indexOf(h.lonLat))){o=(h.lat<0?-1:1)*this.maxLatitude;var i=p(180+1e-6*h.direction),l=p(180-1e-6*h.direction),h=f.greatCircle([i,h.lat],[i,o],!0).concat(f.greatCircle([l,o],[l,h.lat],!0));e.splice.apply(e,c([r,0],h));break}}else for(e=a.length;e--;)o=a[e].i,(o=s.splice(o,s.length,[p(180+1e-6*a[e].direction),a[e].lat])).unshift([p(180-1e-6*a[e].direction),a[e].lat]),t.push(o);return t},f.prototype.path=function(t){function e(t){var e=[t=t.map(function(t){var e;return r&&(e=(t=s?s.forward(t):t)[0],t=[e=Math.abs(e-180)<1e-6?e<180?179.999999:180.000001:e,t[1]]),t})];u&&(f.insertGreatCircles(t),r&&(e=h.clipOnAntimeridian(t,c))),e.forEach(function(t){if(!(t.length<2))for(var e,o,i=!1,r=!1,s=function(t){i?p.push(["L",t[0],t[1]]):(p.push(["M",t[0],t[1]]),i=!0)},n=0;n<t.length;n++)var a=t[n],l=d.forward(a),r=!(!isNaN(l[0])&&!isNaN(l[1])&&(!u||a[1]<=h.maxLatitude&&a[1]>=-h.maxLatitude))||(c&&!e&&t.push(e=a),r&&o&&(c&&u?f.greatCircle(o,a).forEach(function(t){return s(d.forward(t))}):i=!1),s(l),o=a,!1)})}var h=this,o=this.def,i=this.rotator,p=[],c="Polygon"===t.type||"MultiPolygon"===t.type,u=this.hasGeoProjection,r="Orthographic"!==this.options.name,s=r?i:void 0,d=r&&o||this;return"LineString"===t.type?e(t.coordinates):"MultiLineString"===t.type?t.coordinates.forEach(e):"Polygon"===t.type?(t.coordinates.forEach(e),p.length&&p.push(["Z"])):"MultiPolygon"===t.type&&(t.coordinates.forEach(function(t){t.forEach(e)}),p.length&&p.push(["Z"])),p},f.registry=t,f;function f(t){void 0===t&&(t={}),this.hasGeoProjection=this.hasCoordinates=!1,this.maxLatitude=90;var e=(this.options=t).name,o=t.rotation;this.rotator=o?this.getRotator(o):void 0;var i=this.def=e?f.registry[e]:void 0,r=this.rotator;i&&(i.init&&i.init(t),this.maxLatitude=i.maxLatitude||90,this.hasGeoProjection=!0),r&&i?(this.forward=function(t){return t=r.forward(t),i.forward(t)},this.inverse=function(t){return t=i.inverse(t),r.inverse(t)}):i?(this.forward=i.forward,this.inverse=i.inverse):r&&(this.forward=r.forward,this.inverse=r.inverse)}}),e(t,"Maps/MapView.js",[t["Maps/MapViewOptionsDefault.js"],t["Maps/Projection.js"],t["Core/Utilities.js"]],function(e,r,t){var o=t.addEvent,c=t.clamp,u=t.fireEvent,s=t.isNumber,d=t.merge,l=t.pick,h=t.relativeLength;return i.prototype.fitToBounds=function(t,e,o,i){void 0===o&&(o=!0);var r,s,n,a=t||this.getProjectedBounds();a&&(r=(s=this.chart).plotWidth,s=s.plotHeight,n=l(e,t?0:this.options.padding),e=h(n,r),n=h(n,s),r=Math.log(400.979322/Math.max((a.x2-a.x1)/((r-e)/256),(a.y2-a.y1)/((s-n)/256)))/Math.log(2),t||(this.minZoom=r),t=this.projection.inverse([(a.x2+a.x1)/2,(a.y2+a.y1)/2]),this.setView(t,r,o,i))},i.prototype.getProjectedBounds=function(){var t=this.chart.series.reduce(function(t,e){return(e=e.getProjectedBounds&&e.getProjectedBounds())&&t.push(e),t},[]);return i.compositeBounds(t)},i.prototype.getScale=function(){return 256/400.979322*Math.pow(2,this.zoom)},i.prototype.redraw=function(t){this.chart.series.forEach(function(t){t.useMapGeometry&&(t.isDirty=!0)}),this.chart.redraw(t)},i.prototype.setView=function(t,e,o,i){void 0===o&&(o=!0);var r=!1;t&&(this.center=t),"number"==typeof e&&("number"==typeof this.minZoom&&(e=Math.max(e,this.minZoom)),r=(e="number"==typeof this.options.maxZoom?Math.min(e,this.options.maxZoom):e)>this.zoom,this.zoom=e);var s,n,a,l,h,p=this.getProjectedBounds();p&&!r&&(r=this.projection.forward(this.center),t=(e=this.chart).plotWidth,e=e.plotHeight,s=this.getScale(),h=this.projectedUnitsToPixels({x:p.x1,y:p.y1}),l=this.projectedUnitsToPixels({x:p.x2,y:p.y2}),p=[(p.x1+p.x2)/2,(p.y1+p.y2)/2],n=h.x,a=l.y,l=l.x,h=h.y,l-n<t?r[0]=p[0]:n<0&&l<t?r[0]+=Math.max(n,l-t)/s:t<l&&0<n&&(r[0]+=Math.min(l-t,n)/s),h-a<e?r[1]=p[1]:a<0&&h<e?r[1]-=Math.max(a,h-e)/s:e<h&&0<a&&(r[1]-=Math.min(h-e,a)/s),this.center=this.projection.inverse(r)),u(this,"afterSetView"),o&&this.redraw(i)},i.prototype.projectedUnitsToPixels=function(t){var e=this.getScale(),o=this.projection.forward(this.center);return{x:this.chart.plotWidth/2-e*(o[0]-t.x),y:this.chart.plotHeight/2+e*(o[1]-t.y)}},i.prototype.pixelsToProjectedUnits=function(t){var e=t.x;t=t.y;var o=this.getScale(),i=this.projection.forward(this.center);return{x:i[0]+(e-this.chart.plotWidth/2)/o,y:i[1]-(t-this.chart.plotHeight/2)/o}},i.prototype.update=function(t,e,o){void 0===e&&(e=!0);var i=(i=t.projection)&&r.toString(i)!==r.toString(this.options.projection);d(!0,this.userOptions,t),d(!0,this.options,t),i&&(this.chart.series.forEach(function(t){t.clearBounds&&t.clearBounds(),t.isDirty=!0,t.isDirtyData=!0}),this.projection=new r(this.options.projection),t.center||s(t.zoom)||this.fitToBounds(void 0,void 0,!1)),(t.center||s(t.zoom))&&this.setView(this.options.center,t.zoom,!1),e&&this.chart.redraw(o)},i.prototype.zoomBy=function(t,e,o,i){var r=this.chart,s=this.projection.forward(this.center),n=(e=e?this.projection.forward(e):[])[0],a=e[1];"number"==typeof t?(t=this.zoom+t,e=void 0,o&&(n=o[0],a=o[1],o=this.getScale(),n=n-r.plotLeft-r.plotWidth/2,r=a-r.plotTop-r.plotHeight/2,n=s[0]+n/o,a=s[1]+r/o),"number"==typeof n&&"number"==typeof a&&(o=1-Math.pow(2,this.zoom)/Math.pow(2,t),n=s[0]-n,r=s[1]-a,s[0]-=n*o,s[1]+=r*o,e=this.projection.inverse(s)),this.setView(e,t,void 0,i)):this.fitToBounds(void 0,void 0,void 0,i)},i.compositeBounds=function(t){if(t.length)return t.slice(1).reduce(function(t,e){return t.x1=Math.min(t.x1,e.x1),t.y1=Math.min(t.y1,e.y1),t.x2=Math.max(t.x2,e.x2),t.y2=Math.max(t.y2,e.y2),t},d(t[0]))},i;function i(n,t){var a,l,h,p=this;this.userOptions=t||{},t=d(e,t),this.chart=n,this.center=t.center,this.options=t,this.projection=new r(t.projection),this.zoom=t.zoom||0,o(n,"afterSetChartSize",function(){void 0!==p.minZoom&&p.minZoom!==p.zoom||(p.fitToBounds(void 0,void 0,!1),s(p.userOptions.zoom)&&(p.zoom=p.userOptions.zoom),p.userOptions.center&&d(!0,p.center,p.userOptions.center))}),o(n,"pan",t=function(t){var e,o,i=n.pointer.pinchDown,r=n.mouseDownX,s=n.mouseDownY;1===i.length&&(r=i[0].chartX,s=i[0].chartY),"number"==typeof r&&"number"==typeof s&&(i=(o=t.originalEvent).chartX,o=o.chartY,(e=r+","+s)!==l&&(l=e,a=p.projection.forward(p.center),h=(p.projection.options.rotation||[0,0]).slice()),"Orthographic"===p.projection.options.name&&(p.minZoom||1/0)<3?(e=440/(p.getScale()*Math.min(n.plotWidth,n.plotHeight)),h&&(r=(r-i)*e-h[0],s=c(-h[1]-(s-o)*e,-80,80),p.update({projection:{rotation:[-r,-s]},center:[r,s],zoom:p.zoom},!0,!1))):(e=p.getScale(),s=p.projection.inverse([a[0]+(r-i)/e,a[1]-(s-o)/e]),p.setView(s,void 0,!0,!1)),t.preventDefault())}),o(n,"touchpan",t),o(n,"selection",function(t){var e,o,i,r;t.resetSelection?p.zoomBy():(r=t.x-n.plotLeft,e=t.y-n.plotTop,o=(i=p.pixelsToProjectedUnits({x:r,y:e})).y,i=i.x,r=p.pixelsToProjectedUnits({x:r+t.width,y:e+t.height}),p.fitToBounds({x1:i,y1:o,x2:r.x,y2:r.y},void 0,!0,!t.originalEvent.touches&&void 0),/^touch/.test(t.originalEvent.type)||n.showResetZoom(),t.preventDefault())})}}),e(t,"Maps/MapSymbols.js",[t["Core/Renderer/SVG/SVGRenderer.js"]],function(t){function s(t,e,o,i,r,s,n,a){return[["M",t+r,e],["L",t+o-s,e],["C",t+o-s/2,e,t+o,e+s/2,t+o,e+s],["L",t+o,e+i-n],["C",t+o,e+i-n/2,t+o-n/2,e+i,t+o-n,e+i],["L",t+a,e+i],["C",t+a/2,e+i,t,e+i-a/2,t,e+i-a],["L",t,e+r],["C",t,e+r/2,t+r/2,e,t+r,e],["Z"]]}return(t=t.prototype.symbols).bottombutton=function(t,e,o,i,r){return s(t-1,e-1,o,i,0,0,r=r&&r.r||0,r)},t.topbutton=function(t,e,o,i,r){return s(t-1,e-1,o,i,r=r&&r.r||0,r,0,0)},t}),e(t,"Core/Chart/MapChart.js",[t["Core/Chart/Chart.js"],t["Core/DefaultOptions.js"],t["Maps/MapView.js"],t["Core/Renderer/SVG/SVGRenderer.js"],t["Core/Utilities.js"]],function(t,e,i,o,r){var s,n,a,l=this&&this.__extends||(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),h=e.getOptions,p=r.addEvent,c=r.merge,u=r.pick;function d(){return null!==n&&n.apply(this,arguments)||this}return l(d,n=t),d.prototype.init=function(t,e){p(this,"afterInit",function(){this.mapView=new i(this,this.options.mapView)});var o=h().credits;t=c({chart:{panning:{enabled:!0,type:"xy"},type:"map"},credits:{mapText:u(o.mapText,' © <a href="{geojson.copyrightUrl}">{geojson.copyrightShort}</a>'),mapTextFull:u(o.mapTextFull,"{geojson.copyright}")},mapView:{},tooltip:{followTouchMove:!1}},t),n.prototype.init.call(this,t,e)},(a=t=(t=d)||{}).maps={},a.mapChart=function(t,e,o){return new a(t,e,o)},a.splitPath=function(t){return"string"==typeof t&&(t=(t=t.replace(/([A-Za-z])/g," $1 ").replace(/^\s*/,"").replace(/\s*$/,"")).split(/[ ,;]+/).map(function(t){return/[A-za-z]/.test(t)?t:parseFloat(t)})),o.prototype.pathToSegments(t)},t}),e(t,"Series/Map/MapPoint.js",[t["Series/ColorMapMixin.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e,o){var i,r,s=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),n=o.extend;function a(){var t=null!==r&&r.apply(this,arguments)||this;return t.options=void 0,t.path=void 0,t.series=void 0,t}return r=e.seriesTypes.scatter.prototype.pointClass,s(a,r),a.getProjectedPath=function(t,e){return t.projectedPath||(e&&t.geometry?(e.hasCoordinates=!0,t.projectedPath=e.path(t.geometry)):t.projectedPath=t.path),t.projectedPath||[]},a.prototype.applyOptions=function(t,e){var o=this.series;return t=r.prototype.applyOptions.call(this,t,e),e=o.joinBy,o.mapData&&o.mapMap&&((o=void 0!==(e=r.prototype.getNestedProperty.call(t,e[1]))&&o.mapMap[e])?n(t,o):t.value=t.value||null),t},a.prototype.onMouseOver=function(t){o.clearTimeout(this.colorInterval),null!==this.value||this.series.options.nullInteraction?r.prototype.onMouseOver.call(this,t):this.series.onMouseOut(t)},a.prototype.zoomTo=function(){var t=this.series.chart;t.mapView&&this.bounds&&(t.mapView.fitToBounds(this.bounds,void 0,!1),this.series.isDirty=!0,t.redraw())},n((e=a).prototype,{dataLabelOnNull:t.PointMixin.dataLabelOnNull,isValid:t.PointMixin.isValid,moveToTopOnHover:t.PointMixin.moveToTopOnHover}),e}),e(t,"Series/Map/MapSeries.js",[t["Core/Animation/AnimationUtilities.js"],t["Series/ColorMapMixin.js"],t["Series/CenteredUtilities.js"],t["Core/Globals.js"],t["Core/Legend/LegendSymbol.js"],t["Core/Chart/MapChart.js"],t["Series/Map/MapPoint.js"],t["Maps/MapView.js"],t["Core/Series/Series.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Renderer/SVG/SVGRenderer.js"],t["Core/Utilities.js"]],function(t,e,o,m,i,r,y,s,g,n,c,a){var l,h=this&&this.__extends||(l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),p=t.animObject;t=m.noop;var b=r.maps,u=r.splitPath,d=(r=n.seriesTypes).column,f=r.scatter;r=a.extend;var v,x=a.fireEvent,M=a.getNestedProperty,C=a.isArray,j=a.isNumber,S=a.merge,w=a.objectEach,P=a.pick,A=a.splat;function L(){var t=null!==v&&v.apply(this,arguments)||this;return t.chart=void 0,t.data=void 0,t.group=void 0,t.joinBy=void 0,t.options=void 0,t.points=void 0,t.transformGroup=void 0,t}return h(L,v=f),L.prototype.animate=function(t){var e=this.chart,o=this.group,i=p(this.options.animation);e.renderer.isSVG&&(t?o.attr({translateX:e.plotLeft+e.plotWidth/2,translateY:e.plotTop+e.plotHeight/2,scaleX:.001,scaleY:.001}):o.animate({translateX:e.plotLeft,translateY:e.plotTop,scaleX:1,scaleY:1},i))},L.prototype.animateDrilldown=function(t){var e=this.chart,o=this.group;e.renderer.isSVG&&(t?o.attr({translateX:e.plotLeft+e.plotWidth/2,translateY:e.plotTop+e.plotHeight/2,scaleX:.1,scaleY:.1,opacity:.01}):o.animate({translateX:e.plotLeft,translateY:e.plotTop,scaleX:1,scaleY:1,opacity:1}))},L.prototype.animateDrillupFrom=function(){var t=this.chart;t.renderer.isSVG&&this.group.animate({translateX:t.plotLeft+t.plotWidth/2,translateY:t.plotTop+t.plotHeight/2,scaleX:.1,scaleY:.1,opacity:.01})},L.prototype.animateDrillupTo=function(t){d.prototype.animateDrillupTo.call(this,t)},L.prototype.clearBounds=function(){this.points.forEach(function(t){delete t.bounds,delete t.projectedPath}),delete this.bounds},L.prototype.doFullTranslate=function(){return!(!(this.isDirtyData||this.chart.isResizing||this.chart.renderer.isVML)&&this.hasRendered)},L.prototype.drawMapDataLabels=function(){g.prototype.drawDataLabels.call(this),this.dataLabelsGroup&&this.dataLabelsGroup.clip(this.chart.clipRect)},L.prototype.drawPoints=function(){var o,i,r,s,n,a,l,h=this,p=this.chart,c=this.group,u=this.svgTransform,t=p.mapView,e=p.renderer;this.transformGroup||(this.transformGroup=e.g().add(c),this.transformGroup.survive=!0),this.doFullTranslate()&&(p.hasRendered&&!p.styledMode&&this.points.forEach(function(t){t.shapeArgs&&(t.shapeArgs.fill=h.pointAttribs(t,t.state).fill)}),this.group=this.transformGroup,d.prototype.drawPoints.apply(this),this.group=c,this.points.forEach(function(t){var e;t.graphic&&(e="",t.name&&(e+="highcharts-name-"+t.name.replace(/ /g,"-").toLowerCase()),t.properties&&t.properties["hc-key"]&&(e+=" highcharts-key-"+t.properties["hc-key"].toLowerCase()),e&&t.graphic.addClass(e),p.styledMode&&t.graphic.css(h.pointAttribs(t,t.selected?"select":void 0)))})),t&&u&&(o=P(this.options[this.pointAttrToOptions&&this.pointAttrToOptions["stroke-width"]||"borderWidth"],1),i=u.scaleX,r=0<u.scaleY?1:-1,s=this.transformGroup,e.globalAnimation&&p.hasRendered?(n=Number(s.attr("translateX")),a=Number(s.attr("translateY")),l=Number(s.attr("scaleX")),s.attr({animator:0}).animate({animator:1},{step:function(t,e){t=l+(i-l)*e.pos,s.attr({translateX:n+(u.translateX-n)*e.pos,translateY:a+(u.translateY-a)*e.pos,scaleX:t,scaleY:t*r}),c.element.setAttribute("stroke-width",o/t)}})):(s.attr(u),c.element.setAttribute("stroke-width",o/i))),this.drawMapDataLabels()},L.prototype.getProjectedBounds=function(){var l,h,p;return this.bounds||(l=Number.MAX_VALUE,h=this.chart.mapView&&this.chart.mapView.projection,p=[],(this.points||[]).forEach(function(t){var e,o,i,r,s,n,a;(t.path||t.geometry)&&("string"==typeof t.path?t.path=u(t.path):C(t.path)&&"M"===t.path[0]&&(t.path=c.prototype.pathToSegments(t.path)),t.bounds||(e=y.getProjectedPath(t,h),o=t.properties,i=-l,s=-(r=l),n=l,e.forEach(function(t){var e=t[t.length-2];t=t[t.length-1],"number"==typeof e&&"number"==typeof t&&(r=Math.min(r,e),i=Math.max(i,e),n=Math.min(n,t),s=Math.max(s,t),a=!0)}),a&&(e=o&&o["hc-middle-x"],e=r+(i-r)*P(t.middleX,j(e)?e:.5),o=o&&o["hc-middle-y"],o=P(t.middleY,j(o)?o:.5),t.geometry||(o=1-o),t.bounds={midX:e,midY:s-(s-n)*o,x1:r,y1:n,x2:i,y2:s},t.labelrank=P(t.labelrank,(i-r)*(s-n)))),t.bounds&&p.push(t.bounds))}),this.bounds=s.compositeBounds(p)),this.bounds},L.prototype.hasData=function(){return!!this.processedXData.length},L.prototype.pointAttribs=function(t,e){var o=t.series.chart,i=o.mapView;return e=o.styledMode?this.colorAttribs(t):d.prototype.pointAttribs.call(this,t,e),(t=t.options[this.pointAttrToOptions&&this.pointAttrToOptions["stroke-width"]||"borderWidth"])&&i&&(t/=i.getScale()),e.dashstyle&&i&&this.options.borderWidth&&(t=this.options.borderWidth/i.getScale()),e["stroke-width"]=P(t,"inherit"),e},L.prototype.setData=function(r,t,e,o){var i,s,n=this.options,a=this.chart.options.chart,l=a&&a.map,h=n.mapData,p=this.joinBy,c=n.keys||this.pointArrayMap,u=[],d={},f=this.chart.mapTransforms;if(!h&&l&&(h="string"==typeof l?b[l]:l),r&&r.forEach(function(t,e){var o=0;if(j(t))r[e]={value:t};else if(C(t)){r[e]={},!n.keys&&t.length>c.length&&"string"==typeof t[0]&&(r[e]["hc-key"]=t[0],++o);for(var i=0;i<c.length;++i,++o)c[i]&&void 0!==t[o]&&(0<c[i].indexOf(".")?y.prototype.setNestedProperty(r[e],t[o],c[i]):r[e][c[i]]=t[o])}p&&"_i"===p[0]&&(r[e]._i=e)}),(this.chart.mapTransforms=f=a.mapTransforms||h&&h["hc-transform"]||f)&&w(f,function(t){t.rotation&&(t.cosAngle=Math.cos(t.rotation),t.sinAngle=Math.sin(t.rotation))}),h){for("FeatureCollection"===h.type&&(this.mapTitle=h.title,h=m.geojson(h,this.type,this)),this.mapData=h,this.mapMap={},f=0;f<h.length;f++)l=(a=h[f]).properties,a._i=f,p[0]&&l&&l[p[0]]&&(a[p[0]]=l[p[0]]),d[a[p[0]]]=a;this.mapMap=d,r&&p[1]&&(i=p[1],r.forEach(function(t){t=M(i,t),d[t]&&u.push(d[t])})),n.allAreas&&(r=r||[],p[1]&&(s=p[1],r.forEach(function(t){u.push(M(s,t))})),u="|"+u.map(function(t){return t&&t[p[0]]}).join("|")+"|",h.forEach(function(t){p[0]&&-1!==u.indexOf("|"+t[p[0]]+"|")||(r.push(S(t,{value:null})),o=!1)}))}g.prototype.setData.call(this,r,t,e,o),this.processData(),this.generatePoints()},L.prototype.setOptions=function(t){var e=(t=g.prototype.setOptions.call(this,t)).joinBy;return(e=this.joinBy=A(e=null===e?"_i":e))[1]||(e[1]=e[0]),t},L.prototype.translate=function(){var e,t,o,i=this.doFullTranslate(),r=this.chart.mapView,s=r&&r.projection;!this.chart.hasRendered||!this.isDirtyData&&this.hasRendered||(this.processData(),this.generatePoints(),delete this.bounds,this.getProjectedBounds()),r&&(t=r.getScale(),o=r.projection.forward(r.center),r=r.projection.hasCoordinates?-1:1,this.svgTransform=e={scaleX:t,scaleY:t*r,translateX:this.chart.plotWidth/2-o[0]*t,translateY:this.chart.plotHeight/2-o[1]*t*r}),this.points.forEach(function(t){e&&t.bounds&&j(t.bounds.midX)&&j(t.bounds.midY)&&(t.plotX=t.bounds.midX*e.scaleX+e.translateX,t.plotY=t.bounds.midY*e.scaleY+e.translateY),i&&(t.shapeType="path",t.shapeArgs={d:y.getProjectedPath(t,s)})}),x(this,"afterTranslate")},L.defaultOptions=S(f.defaultOptions,{animation:!1,dataLabels:{crop:!1,formatter:function(){var t=this.series.chart.numberFormatter,e=this.point.value;return j(e)?t(e,-1):""},inside:!0,overflow:!1,padding:0,verticalAlign:"middle"},marker:null,nullColor:"#f7f7f7",stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:"{point.name}: {point.value}<br/>"},turboThreshold:0,allAreas:!0,borderColor:"#cccccc",borderWidth:1,joinBy:"hc-key",states:{hover:{halo:null,brightness:.2},normal:{animation:!0},select:{color:"#cccccc"},inactive:{opacity:1}}}),r((a=L).prototype,{type:"map",axisTypes:e.SeriesMixin.axisTypes,colorAttribs:e.SeriesMixin.colorAttribs,colorKey:e.SeriesMixin.colorKey,directTouch:!0,drawDataLabels:t,drawGraph:t,drawLegendSymbol:i.drawRectangle,forceDL:!0,getCenter:o.getCenter,getExtremesFromAll:!0,getSymbol:e.SeriesMixin.getSymbol,isCartesian:!1,parallelArrays:e.SeriesMixin.parallelArrays,pointArrayMap:e.SeriesMixin.pointArrayMap,pointClass:y,preserveAspectRatio:!0,searchPoint:t,trackerGroups:e.SeriesMixin.trackerGroups,useMapGeometry:!0}),n.registerSeriesType("map",a),a}),e(t,"Series/MapLine/MapLineSeries.js",[t["Series/Map/MapSeries.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(o,t,e){var i,r,s=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),n=t.series,a=e.extend,l=e.merge;function h(){var t=null!==r&&r.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return s(h,r=o),h.prototype.pointAttribs=function(t,e){return(t=o.prototype.pointAttribs.call(this,t,e)).fill=this.options.fillColor,t},h.defaultOptions=l(o.defaultOptions,{lineWidth:1,fillColor:"none"}),a((e=h).prototype,{type:"mapline",colorProp:"stroke",drawLegendSymbol:n.prototype.drawLegendSymbol,pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"}}),t.registerSeriesType("mapline",e),e}),e(t,"Series/MapPoint/MapPointPoint.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e){var i,o,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=e.isNumber,n=e.merge;return o=t.seriesTypes.scatter.prototype.pointClass,r(a,o),a.prototype.applyOptions=function(t,e){return t=void 0!==t.lat&&void 0!==t.lon?n(t,this.series.chart.fromLatLonToPoint(t)):t,o.prototype.applyOptions.call(this,t,e)},a.prototype.isValid=function(){return!!(this.options.geometry||s(this.x)&&s(this.y))},a;function a(){var t=null!==o&&o.apply(this,arguments)||this;return t.options=void 0,t.series=void 0,t}}),e(t,"Series/MapPoint/MapPointSeries.js",[t["Core/Globals.js"],t["Series/MapPoint/MapPointPoint.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e,o,i){var r,s=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});t=t.noop;var n,a=o.seriesTypes.scatter,l=i.extend,h=i.fireEvent,p=i.isNumber,c=i.merge;function u(){var t=null!==n&&n.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return s(u,n=a),u.prototype.drawDataLabels=function(){n.prototype.drawDataLabels.call(this),this.dataLabelsGroup&&this.dataLabelsGroup.clip(this.chart.clipRect)},u.prototype.translate=function(){var t,r,s,n=this,a=this.chart.mapView;this.processedXData||this.processData(),this.generatePoints(),a&&(t=a.projection,r=t.forward,s=t.hasCoordinates,this.points.forEach(function(t){var e=void 0===(e=t.x)?void 0:e,o=void 0===(o=t.y)?void 0:o,i=t.options.geometry;(i=i&&"Point"===i.type&&i.coordinates)?(e=(o=r(i))[0],o=o[1]):t.bounds&&(e=t.bounds.midX,o=t.bounds.midY),p(e)&&p(o)?(e=a.projectedUnitsToPixels({x:e,y:o}),t.plotX=e.x,t.plotY=s?e.y:n.chart.plotHeight-e.y):(t.plotX=void 0,t.plotY=void 0),t.isInside=n.isPointInside(t),t.zone=n.zones.length?t.getZone():void 0})),h(this,"afterTranslate")},u.defaultOptions=c(a.defaultOptions,{dataLabels:{crop:!1,defer:!1,enabled:!0,formatter:function(){return this.point.name},overflow:!1,style:{color:"#000000"}}}),l((i=u).prototype,{type:"mappoint",axisTypes:["colorAxis"],forceDL:!0,isCartesian:!1,pointClass:e,searchPoint:t,useMapGeometry:!0}),o.registerSeriesType("mappoint",i),i}),e(t,"Series/Bubble/BubbleLegendDefaults.js",[],function(){return{borderColor:void 0,borderWidth:2,className:void 0,color:void 0,connectorClassName:void 0,connectorColor:void 0,connectorDistance:60,connectorWidth:1,enabled:!1,labels:{className:void 0,allowOverlap:!1,format:"",formatter:void 0,align:"right",style:{fontSize:"10px",color:"#000000"},x:0,y:0},maxSize:60,minSize:10,legendIndex:0,ranges:{value:void 0,borderColor:void 0,color:void 0,connectorColor:void 0},sizeBy:"area",sizeByAbsoluteValue:!1,zIndex:1,zThreshold:0}}),e(t,"Series/Bubble/BubbleLegendItem.js",[t["Core/Color/Color.js"],t["Core/FormatUtilities.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],function(t,r,e,o){var c=t.parse,i=e.noop,n=o.arrayMax,a=o.arrayMin,l=o.isNumber,u=o.merge,d=o.pick,h=o.stableSort;return s.prototype.init=function(t,e){this.options=t,this.visible=!0,this.chart=e.chart,this.legend=e},s.prototype.addToLegend=function(t){t.splice(this.options.legendIndex,0,this)},s.prototype.drawLegendSymbol=function(t){var e=this.chart,o=this.options,i=d(t.options.itemDistance,20),r=o.ranges,s=o.connectorDistance;this.fontMetrics=e.renderer.fontMetrics(o.labels.style.fontSize),r&&r.length&&l(r[0].value)?(h(r,function(t,e){return e.value-t.value}),this.ranges=r,this.setOptions(),this.render(),t=this.getMaxLabelSize(),e=2*(r=this.ranges[0].radius),s=0<(s=s-r+t.width)?s:0,this.maxLabel=t,this.movementX="left"===o.labels.align?s:0,this.legendItemWidth=e+s+i,this.legendItemHeight=e+this.fontMetrics.h/2):t.options.bubbleLegend.autoRanges=!0},s.prototype.setOptions=function(){var o=this.ranges,i=this.options,r=this.chart.series[i.seriesIndex],s=this.legend.baseline,n={zIndex:i.zIndex,"stroke-width":i.borderWidth},a={zIndex:i.zIndex,"stroke-width":i.connectorWidth},l={align:this.legend.options.rtl||"left"===i.labels.align?"right":"left",zIndex:i.zIndex},h=r.options.marker.fillOpacity,p=this.chart.styledMode;o.forEach(function(t,e){p||(n.stroke=d(t.borderColor,i.borderColor,r.color),n.fill=d(t.color,i.color,1!==h?c(r.color).setOpacity(h).get("rgba"):r.color),a.stroke=d(t.connectorColor,i.connectorColor,r.color)),o[e].radius=this.getRangeRadius(t.value),o[e]=u(o[e],{center:o[0].radius-o[e].radius+s}),p||u(!0,o[e],{bubbleAttribs:u(n),connectorAttribs:u(a),labelAttribs:l})},this)},s.prototype.getRangeRadius=function(t){var e=this.options;return this.chart.series[this.options.seriesIndex].getRadius.call(this,e.ranges[e.ranges.length-1].value,e.ranges[0].value,e.minSize,e.maxSize,t)},s.prototype.render=function(){var t=this.chart.renderer,e=this.options.zThreshold;this.symbols||(this.symbols={connectors:[],bubbleItems:[],labels:[]}),this.legendSymbol=t.g("bubble-legend"),this.legendItem=t.g("bubble-legend-item"),this.legendSymbol.translateX=0,this.legendSymbol.translateY=0,this.ranges.forEach(function(t){t.value>=e&&this.renderRange(t)},this),this.legendSymbol.add(this.legendItem),this.legendItem.add(this.legendGroup),this.hideOverlappingLabels()},s.prototype.renderRange=function(t){var e=this.options,o=e.labels,i=(n=this.chart).series[e.seriesIndex],r=n.renderer,s=this.symbols,n=s.labels,a=t.center,l=Math.abs(t.radius),h=e.connectorDistance||0,p=o.align,c=e.connectorWidth,u=this.ranges[0].radius||0,d=a-l-e.borderWidth/2+c/2,f=(f=this.fontMetrics).f/2-(f.h-f.f)/2,m=r.styledMode,h=this.legend.options.rtl||"left"===p?-h:h;"center"===p&&(e.connectorDistance=h=0,t.labelAttribs.align="center");var p=d+e.labels.y,y=u+h+e.labels.x;s.bubbleItems.push(r.circle(u,a+((d%1?1:.5)-(c%2?0:.5)),l).attr(m?{}:t.bubbleAttribs).addClass((m?"highcharts-color-"+i.colorIndex+" ":"")+"highcharts-bubble-legend-symbol "+(e.className||"")).add(this.legendSymbol)),s.connectors.push(r.path(r.crispLine([["M",u,d],["L",u+h,d]],e.connectorWidth)).attr(m?{}:t.connectorAttribs).addClass((m?"highcharts-color-"+this.options.seriesIndex+" ":"")+"highcharts-bubble-legend-connectors "+(e.connectorClassName||"")).add(this.legendSymbol)),t=r.text(this.formatLabel(t),y,p+f).attr(m?{}:t.labelAttribs).css(m?{}:o.style).addClass("highcharts-bubble-legend-labels "+(e.labels.className||"")).add(this.legendSymbol),n.push(t),t.placed=!0,t.alignAttr={x:y,y:p+f}},s.prototype.getMaxLabelSize=function(){var e,o;return this.symbols.labels.forEach(function(t){o=t.getBBox(!0),e=!e||o.width>e.width?o:e}),e||{}},s.prototype.formatLabel=function(t){var e=(o=this.options).labels.formatter,o=o.labels.format,i=this.chart.numberFormatter;return o?r.format(o,t):e?e.call(t):i(t.value,1)},s.prototype.hideOverlappingLabels=function(){var t=this.chart,o=this.symbols;!this.options.labels.allowOverlap&&o&&(t.hideOverlappingLabels(o.labels),o.labels.forEach(function(t,e){t.newOpacity?t.newOpacity!==t.oldOpacity&&o.connectors[e].show():o.connectors[e].hide()}))},s.prototype.getRanges=function(){var e,t=this.legend.bubbleLegend,o=t.options.ranges,i=Number.MAX_VALUE,r=-Number.MAX_VALUE;t.chart.series.forEach(function(t){t.isBubble&&!t.ignoreSeries&&((e=t.zData.filter(l)).length&&(i=d(t.options.zMin,Math.min(i,Math.max(a(e),!1===t.options.displayNegative?t.options.zThreshold:-Number.MAX_VALUE))),r=d(t.options.zMax,Math.max(r,n(e)))))});var s=i===r?[{value:r}]:[{value:i},{value:(i+r)/2},{value:r,autoRanges:!0}];return o.length&&o[0].radius&&s.reverse(),s.forEach(function(t,e){o&&o[e]&&(s[e]=u(o[e],t))}),s},s.prototype.predictBubbleSizes=function(){var t=this.chart,e=this.fontMetrics,o=t.legend.options,i=o.floating,r=(o="horizontal"===o.layout)?t.legend.lastLineHeight:0,s=t.plotSizeX,n=t.plotSizeY,a=(h=t.series[this.options.seriesIndex]).getPxExtremes(),t=Math.ceil(a.minPxSize),a=Math.ceil(a.maxPxSize),l=Math.min(n,s),h=h.options.maxSize;return i||!/%$/.test(h)?e=a:(h=parseFloat(h),e=(l+r-e.h/2)*h/100/(h/100+1),(o&&s<=n-e||!o&&n<=s-e)&&(e=a)),[t,Math.ceil(e)]},s.prototype.updateRanges=function(t,e){var o=this.legend.options.bubbleLegend;o.minSize=t,o.maxSize=e,o.ranges=this.getRanges()},s.prototype.correctSizes=function(){var t=this.legend,e=this.chart.series[this.options.seriesIndex].getPxExtremes();1<Math.abs(Math.ceil(e.maxPxSize)-this.options.maxSize)&&(this.updateRanges(this.options.minSize,e.maxPxSize),t.render())},s;function s(t,e){this.options=this.symbols=this.visible=this.selected=this.ranges=this.movementX=this.maxLabel=this.legendSymbol=this.legendItemWidth=this.legendItemHeight=this.legendItem=this.legendGroup=this.legend=this.fontMetrics=this.chart=void 0,this.setState=i,this.init(t,e)}}),e(t,"Series/Bubble/BubbleLegendComposition.js",[t["Series/Bubble/BubbleLegendDefaults.js"],t["Series/Bubble/BubbleLegendItem.js"],t["Core/DefaultOptions.js"],t["Core/Utilities.js"]],function(i,s,t,e){var o,r,n=t.setOptions,a=e.addEvent,l=e.objectEach,h=e.wrap;function p(t,e,o){var i,r=this.legend,s=0<=c(this);r&&r.options.enabled&&r.bubbleLegend&&r.options.bubbleLegend.autoRanges&&s?(i=r.bubbleLegend.options,s=r.bubbleLegend.predictBubbleSizes(),r.bubbleLegend.updateRanges(s[0],s[1]),i.placed||(r.group.placed=!1,r.allItems.forEach(function(t){t.legendGroup.translateY=null})),r.render(),this.getMargins(),this.axes.forEach(function(t){t.visible&&t.render(),i.placed||(t.setScale(),t.updateNames(),l(t.ticks,function(t){t.isNew=!0,t.isNewLabel=!0}))}),i.placed=!0,this.getMargins(),t.call(this,e,o),r.bubbleLegend.correctSizes(),m(r,u(r))):(t.call(this,e,o),r&&r.options.enabled&&r.bubbleLegend&&(r.render(),m(r,u(r))))}function c(t){t=t.series;for(var e=0;e<t.length;){if(t[e]&&t[e].isBubble&&t[e].visible&&t[e].zData.length)return e;e++}return-1}function u(t){for(var e=[],o=(t=t.allItems).length,i=0,r=0;r<o;r++)if(t[r].legendItemHeight&&(t[r].itemHeight=t[r].legendItemHeight),t[r]===t[o-1]||t[r+1]&&t[r]._legendItemPos[1]!==t[r+1]._legendItemPos[1]){e.push({height:0});for(var s=e[e.length-1];i<=r;i++)t[i].itemHeight>s.height&&(s.height=t[i].itemHeight);s.step=r}return e}function d(t){var e=this.bubbleLegend,o=this.options,i=o.bubbleLegend,r=c(this.chart);e&&e.ranges&&e.ranges.length&&(i.ranges.length&&(i.autoRanges=!!i.ranges[0].autoRanges),this.destroyItem(e)),0<=r&&o.enabled&&i.enabled&&(i.seriesIndex=r,this.bubbleLegend=new s(i,this),this.bubbleLegend.addToLegend(t.allItems))}function f(){var t=this.chart,e=this.visible,o=this.chart.legend;o&&o.bubbleLegend&&(this.visible=!e,this.ignoreSeries=e,t=0<=c(t),o.bubbleLegend.visible!==t&&(o.update({bubbleLegend:{enabled:t}}),o.bubbleLegend.visible=t),this.visible=e)}function m(t,o){var i,r,s,n=t.options.rtl,a=0;t.allItems.forEach(function(t,e){i=t.legendGroup.translateX,r=t._legendItemPos[1],((s=t.movementX)||n&&t.ranges)&&(s=n?i-t.options.maxSize/2:i+s,t.legendGroup.attr({translateX:s})),e>o[a].step&&a++,t.legendGroup.attr({translateY:Math.round(r+o[a].height/2)}),t._legendItemPos[1]=r+o[a].height/2})}return o=o||{},r=[],o.compose=function(t,e,o){-1===r.indexOf(t)&&(r.push(t),n({legend:{bubbleLegend:i}}),h(t.prototype,"drawChartBox",p)),-1===r.indexOf(e)&&(r.push(e),a(e,"afterGetAllItems",d)),-1===r.indexOf(o)&&(r.push(o),a(o,"legendItemClick",f))},o}),e(t,"Series/Bubble/BubblePoint.js",[t["Core/Series/Point.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(e,t,o){var i,r,s=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});function n(){var t=null!==r&&r.apply(this,arguments)||this;return t.options=void 0,t.series=void 0,t}return o=o.extend,r=t.seriesTypes.scatter.prototype.pointClass,s(n,r),n.prototype.haloPath=function(t){return e.prototype.haloPath.call(this,0===t?0:(this.marker&&this.marker.radius||0)+t)},o((t=n).prototype,{ttBelow:!1}),t}),e(t,"Series/Bubble/BubbleSeries.js",[t["Core/Axis/Axis.js"],t["Series/Bubble/BubbleLegendComposition.js"],t["Series/Bubble/BubblePoint.js"],t["Core/Color/Color.js"],t["Core/Globals.js"],t["Core/Series/Series.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e,o,i,r,s,n,a){var l,h=this&&this.__extends||(l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),p=i.parse;i=r.noop,r=(d=n.seriesTypes).column;var c,u=d.scatter,d=a.addEvent,f=a.arrayMax,m=a.arrayMin,y=a.clamp,g=a.extend,b=a.isNumber,v=a.merge,x=a.pick;function M(){var t=null!==c&&c.apply(this,arguments)||this;return t.data=void 0,t.maxPxSize=void 0,t.minPxSize=void 0,t.options=void 0,t.points=void 0,t.radii=void 0,t.yData=void 0,t.zData=void 0,t}return h(M,c=u),M.prototype.animate=function(t){!t&&this.points.length<this.options.animationLimit&&this.points.forEach(function(t){var e=t.graphic;e&&e.width&&(this.hasRendered||e.attr({x:t.plotX,y:t.plotY,width:1,height:1}),e.animate(this.markerAttribs(t),this.options.animation))},this)},M.prototype.getRadii=function(){var e,o,i,r=this,t=this.zData,s=this.yData,n=[],a=this.chart.bubbleZExtremes,l=(c=this.getPxExtremes()).minPxSize,h=c.maxPxSize;a||(e=Number.MAX_VALUE,o=-Number.MAX_VALUE,this.chart.series.forEach(function(t){t.bubblePadding&&(t.visible||!r.chart.options.chart.ignoreHiddenSeries)&&(t=t.getZExtremes())&&(e=Math.min(e||t.zMin,t.zMin),o=Math.max(o||t.zMax,t.zMax),i=!0)}),i?(a={zMin:e,zMax:o},this.chart.bubbleZExtremes=a):a={zMin:0,zMax:0});for(var p=0,c=t.length;p<c;p++){var u=t[p];n.push(this.getRadius(a.zMin,a.zMax,l,h,u,s[p]))}this.radii=n},M.prototype.getRadius=function(t,e,o,i,r,s){var n=this.options,a="width"!==n.sizeBy,l=n.zThreshold,h=e-t,p=.5;if(null===s||null===r)return null;if(b(r)){if(n.sizeByAbsoluteValue&&(r=Math.abs(r-l),h=Math.max(e-l,Math.abs(t-l)),t=0),r<t)return o/2-1;0<h&&(p=(r-t)/h)}return a&&0<=p&&(p=Math.sqrt(p)),Math.ceil(o+p*(i-o))/2},M.prototype.hasData=function(){return!!this.processedXData.length},M.prototype.pointAttribs=function(t,e){var o=this.options.marker.fillOpacity;return t=s.prototype.pointAttribs.call(this,t,e),1!==o&&(t.fill=p(t.fill).setOpacity(o).get("rgba")),t},M.prototype.translate=function(){c.prototype.translate.call(this),this.getRadii(),this.translateBubble()},M.prototype.translateBubble=function(){for(var t=this.data,e=this.radii,o=this.getPxExtremes().minPxSize,i=t.length;i--;){var r=t[i],s=e?e[i]:0;b(s)&&o/2<=s?(r.marker=g(r.marker,{radius:s,width:2*s,height:2*s}),r.dlBox={x:r.plotX-s,y:r.plotY-s,width:2*s,height:2*s}):r.shapeArgs=r.plotY=r.dlBox=void 0}},M.prototype.getPxExtremes=function(){var o=Math.min(this.chart.plotWidth,this.chart.plotHeight),t=function(t){var e;return"string"==typeof t&&(e=/%$/.test(t),t=parseInt(t,10)),e?o*t/100:t},e=t(x(this.options.minSize,8));return{minPxSize:e,maxPxSize:t=Math.max(t(x(this.options.maxSize,"20%")),e)}},M.prototype.getZExtremes=function(){var t=this.options,e=(this.zData||[]).filter(b);if(e.length){var o=x(t.zMin,y(m(e),!1===t.displayNegative?t.zThreshold||0:-Number.MAX_VALUE,Number.MAX_VALUE)),t=x(t.zMax,f(e));if(b(o)&&b(t))return{zMin:o,zMax:t}}},M.compose=e.compose,M.defaultOptions=v(u.defaultOptions,{dataLabels:{formatter:function(){var t=this.series.chart.numberFormatter,e=this.point.z;return b(e)?t(e,-1):""},inside:!0,verticalAlign:"middle"},animationLimit:250,marker:{lineColor:null,lineWidth:1,fillOpacity:.5,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"}),g((a=M).prototype,{alignDataLabel:r.prototype.alignDataLabel,applyZones:i,bubblePadding:!0,buildKDTree:i,directTouch:!0,isBubble:!0,pointArrayMap:["y","z"],pointClass:o,parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",zoneAxis:"z"}),d(a,"updatedData",function(t){delete t.target.chart.bubbleZExtremes}),t.prototype.beforePadding=function(){var r,s=this,t=this.len,n=this.chart,a=0,l=t,h=this.isXAxis,p=h?"xData":"yData",c=this.min,u=this.max-c,d=t/u;this.series.forEach(function(t){if(t.bubblePadding&&(t.visible||!n.options.chart.ignoreHiddenSeries)){r=s.allowZoomOutside=!0;var e,o=t[p];if(h&&t.getRadii(0,0,t),0<u)for(var i=o.length;i--;)b(o[i])&&s.dataMin<=o[i]&&o[i]<=s.max&&(e=t.radii&&t.radii[i]||0,a=Math.min((o[i]-c)*d-e,a),l=Math.max((o[i]-c)*d+e,l))}}),r&&0<u&&!this.logarithmic&&(l-=t,d*=(t+Math.max(0,a)-Math.min(l,t))/t,[["min","userMin",a],["max","userMax",l]].forEach(function(t){void 0===x(s.options[t[0]],s[t[1]])&&(s[t[0]]+=t[2]/d)}))},n.registerSeriesType("bubble",a),a}),e(t,"Series/MapBubble/MapBubblePoint.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e){var i,o,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=(t=t.seriesTypes).map,n=e.merge;return o=t.bubble.prototype.pointClass,r(a,o),a.prototype.applyOptions=function(t,e){return t&&void 0!==t.lat&&void 0!==t.lon?o.prototype.applyOptions.call(this,n(t,this.series.chart.fromLatLonToPoint(t)),e):s.prototype.pointClass.prototype.applyOptions.call(this,t,e)},a.prototype.isValid=function(){return"number"==typeof this.z},a;function a(){return null!==o&&o.apply(this,arguments)||this}}),e(t,"Series/MapBubble/MapBubbleSeries.js",[t["Series/Bubble/BubbleSeries.js"],t["Series/MapBubble/MapBubblePoint.js"],t["Series/Map/MapSeries.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e,o,i,r){var s,n,a=this&&this.__extends||(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),l=i.seriesTypes.mappoint,h=r.extend,p=r.merge;function c(){var t=null!==n&&n.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return a(c,n=t),c.prototype.translate=function(){l.prototype.translate.call(this),this.getRadii(),this.translateBubble()},c.compose=t.compose,c.defaultOptions=p(t.defaultOptions,{animationLimit:500,tooltip:{pointFormat:"{point.name}: {point.z}"}}),h((r=c).prototype,{type:"mapbubble",axisTypes:["colorAxis"],getProjectedBounds:o.prototype.getProjectedBounds,isCartesian:!1,pointArrayMap:["z"],pointClass:e,setData:o.prototype.setData,setOptions:o.prototype.setOptions,useMapGeometry:!0,xyFromShape:!0}),i.registerSeriesType("mapbubble",r),r}),e(t,"Series/Heatmap/HeatmapPoint.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e){var i,o,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),n=e.clamp,p=e.defined,s=e.extend,c=e.pick;function a(){var t=null!==o&&o.apply(this,arguments)||this;return t.options=void 0,t.series=void 0,t.value=void 0,t.x=void 0,t.y=void 0,t}return o=t.seriesTypes.scatter.prototype.pointClass,r(a,o),a.prototype.applyOptions=function(t,e){return(t=o.prototype.applyOptions.call(this,t,e)).formatPrefix=t.isNull||null===t.value?"null":"point",t},a.prototype.getCellAttributes=function(){var t=(s=this.series).options,e=(t.colsize||1)/2,o=(t.rowsize||1)/2,i=s.xAxis,r=s.yAxis,a=this.options.marker||s.options.marker,s=s.pointPlacementToXValue(),l=c(this.pointPadding,t.pointPadding,0),h={x1:n(Math.round(i.len-(i.translate(this.x-e,!1,!0,!1,!0,-s)||0)),-i.len,2*i.len),x2:n(Math.round(i.len-(i.translate(this.x+e,!1,!0,!1,!0,-s)||0)),-i.len,2*i.len),y1:n(Math.round(r.translate(this.y-o,!1,!0,!1,!0)||0),-r.len,2*r.len),y2:n(Math.round(r.translate(this.y+o,!1,!0,!1,!0)||0),-r.len,2*r.len)};return[["width","x"],["height","y"]].forEach(function(t){var e=t[0],o=(t=t[1])+"1",i=t+"2",r=Math.abs(h[o]-h[i]),s=a&&a.lineWidth||0,n=Math.abs(h[o]+h[i])/2,e=a&&a[e];p(e)&&e<r&&(h[o]=n-(e=e/2+s/2),h[i]=n+e),l&&("y"===t&&(o=i,i=t+"1"),h[o]+=l,h[i]-=l)}),h},a.prototype.haloPath=function(t){if(!t)return[];var e=this.shapeArgs;return["M",e.x-t,e.y-t,"L",e.x-t,e.y+e.height+t,e.x+e.width+t,e.y+e.height+t,e.x+e.width+t,e.y-t,"Z"]},a.prototype.isValid=function(){return 1/0!==this.value&&-1/0!==this.value},s((t=a).prototype,{dataLabelOnNull:!0,moveToTopOnHover:!0,ttBelow:!1}),t}),e(t,"Series/Heatmap/HeatmapSeries.js",[t["Core/Color/Color.js"],t["Series/ColorMapMixin.js"],t["Series/Heatmap/HeatmapPoint.js"],t["Core/Legend/LegendSymbol.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Renderer/SVG/SVGRenderer.js"],t["Core/Utilities.js"]],function(a,t,e,o,i,r,s){var n,l,h=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),p=i.series,c=i.seriesTypes,u=c.column,c=c.scatter,d=r.prototype.symbols,f=s.extend,m=s.fireEvent,y=s.isNumber,g=s.merge,b=s.pick;function v(){var t=null!==l&&l.apply(this,arguments)||this;return t.colorAxis=void 0,t.data=void 0,t.options=void 0,t.points=void 0,t.valueMax=NaN,t.valueMin=NaN,t}return h(v,l=c),v.prototype.drawPoints=function(){var e=this;((this.options.marker||{}).enabled||this._hasPointMarkers)&&(p.prototype.drawPoints.call(this),this.points.forEach(function(t){t.graphic&&(t.graphic[e.chart.styledMode?"css":"animate"](e.colorAttribs(t)),e.options.borderRadius&&t.graphic.attr({r:e.options.borderRadius}),(t.shapeArgs||{}).r=e.options.borderRadius,(t.shapeArgs||{}).d=t.graphic.pathArray,null===t.value&&t.graphic.addClass("highcharts-null-point"))}))},v.prototype.getExtremes=function(){var t=(e=p.prototype.getExtremes.call(this,this.valueData)).dataMin,e=e.dataMax;return y(t)&&(this.valueMin=t),y(e)&&(this.valueMax=e),p.prototype.getExtremes.call(this)},v.prototype.getValidPoints=function(t,e){return p.prototype.getValidPoints.call(this,t,e,!0)},v.prototype.hasData=function(){return!!this.processedXData.length},v.prototype.init=function(){p.prototype.init.apply(this,arguments);var t=this.options;t.pointRange=b(t.pointRange,t.colsize||1),this.yAxis.axisPointRange=t.rowsize||1,d.ellipse=d.circle},v.prototype.markerAttribs=function(t,e){var o,i,r=t.marker||{},s=this.options.marker||{},n=t.shapeArgs||{},a={};return t.hasImage?{x:t.plotX,y:t.plotY}:(e&&(o=s.states[e]||{},i=r.states&&r.states[e]||{},[["width","x"],["height","y"]].forEach(function(t){a[t[0]]=(i[t[0]]||o[t[0]]||n[t[0]])+(i[t[0]+"Plus"]||o[t[0]+"Plus"]||0),a[t[1]]=n[t[1]]+(n[t[0]]-a[t[0]])/2})),e?a:n)},v.prototype.pointAttribs=function(t,e){var o=p.prototype.pointAttribs.call(this,t,e),i=this.options||{},r=(n=this.chart.options.plotOptions||{}).series||{},s=n.heatmap||{},n=t&&t.options.borderColor||i.borderColor||s.borderColor||r.borderColor,r=t&&t.options.borderWidth||i.borderWidth||s.borderWidth||r.borderWidth||o["stroke-width"];return o.stroke=t&&t.marker&&t.marker.lineColor||i.marker&&i.marker.lineColor||n||this.color,o["stroke-width"]=r,e&&(e=(t=g(i.states[e],i.marker&&i.marker.states[e],t&&t.options.states&&t.options.states[e]||{})).brightness,o.fill=t.color||a.parse(o.fill).brighten(e||0).get(),o.stroke=t.lineColor),o},v.prototype.setClip=function(t){var e=this.chart;p.prototype.setClip.apply(this,arguments),!1===this.options.clip&&!t||this.markerGroup.clip((t||this.clipBox)&&this.sharedClipKey?e.sharedClips[this.sharedClipKey]:e.clipRect)},v.prototype.translate=function(){var t=this.options,s=t.marker&&t.marker.symbol||"rect",n=d[s]?s:"rect",a=-1!==["circle","square"].indexOf(n);this.generatePoints(),this.points.forEach(function(t){var e=t.getCellAttributes(),o={};o.x=Math.min(e.x1,e.x2),o.y=Math.min(e.y1,e.y2),o.width=Math.max(Math.abs(e.x2-e.x1),0),o.height=Math.max(Math.abs(e.y2-e.y1),0);var i,r=t.hasImage=0===(t.marker&&t.marker.symbol||s||"").indexOf("url");a&&(i=Math.abs(o.width-o.height),o.x=Math.min(e.x1,e.x2)+(o.width<o.height?0:i/2),o.y=Math.min(e.y1,e.y2)+(o.width<o.height?i/2:0),o.width=o.height=Math.min(o.width,o.height)),i={plotX:(e.x1+e.x2)/2,plotY:(e.y1+e.y2)/2,clientX:(e.x1+e.x2)/2,shapeType:"path",shapeArgs:g(!0,o,{d:d[n](o.x,o.y,o.width,o.height)})},r&&(t.marker={width:o.width,height:o.height}),f(t,i)}),m(this,"afterTranslate")},v.defaultOptions=g(c.defaultOptions,{animation:!1,borderRadius:0,borderWidth:0,nullColor:"#f7f7f7",dataLabels:{formatter:function(){var t=this.series.chart.numberFormatter,e=this.point.value;return y(e)?t(e,-1):""},inside:!0,verticalAlign:"middle",crop:!1,overflow:!1,padding:0},marker:{symbol:"rect",radius:0,lineColor:void 0,states:{hover:{lineWidthPlus:0},select:{}}},clip:!0,pointRange:null,tooltip:{pointFormat:"{point.x}, {point.y}: {point.value}<br/>"},states:{hover:{halo:!1,brightness:.2}}}),f((r=v).prototype,{alignDataLabel:u.prototype.alignDataLabel,axisTypes:t.SeriesMixin.axisTypes,colorAttribs:t.SeriesMixin.colorAttribs,colorKey:t.SeriesMixin.colorKey,directTouch:!0,drawLegendSymbol:o.drawRectangle,getExtremesFromAll:!0,getSymbol:p.prototype.getSymbol,parallelArrays:t.SeriesMixin.parallelArrays,pointArrayMap:["y","value"],pointClass:e,trackerGroups:t.SeriesMixin.trackerGroups}),i.registerSeriesType("heatmap",r),r}),e(t,"Extensions/GeoJSON.js",[t["Core/Chart/Chart.js"],t["Core/FormatUtilities.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],function(t,e,o,i){function r(t,e){var o,i=!1,r=t.x,s=t.y;for(t=0,o=e.length-1;t<e.length;o=t++)e[t][1]>s!=e[o][1]>s&&r<(e[o][0]-e[t][0])*(s-e[t][1])/(e[o][1]-e[t][1])+e[t][0]&&(i=!i);return i}var n=e.format,u=o.win,d=i.error,a=i.extend,s=i.merge;e=i.wrap,t.prototype.transformFromLatLon=function(t,e){if(!(p=this.options.chart.proj4||u.proj4))return d(21,!1,this),{x:0,y:null};var o=void 0===(o=e.jsonmarginX)?0:o,i=void 0===(i=e.jsonmarginY)?0:i,r=void 0===(r=e.jsonres)?1:r,s=void 0===(s=e.scale)?1:s,n=void 0===(n=e.xoffset)?0:n,a=void 0===(a=e.xpan)?0:a,l=void 0===(l=e.yoffset)?0:l,h=void 0===(h=e.ypan)?0:h;t=p(e.crs,[t.lon,t.lat]);var p=e.cosAngle||e.rotation&&Math.cos(e.rotation),c=e.sinAngle||e.rotation&&Math.sin(e.rotation);return{x:(((e=e.rotation?[t[0]*p+t[1]*c,-t[0]*c+t[1]*p]:t)[0]-n)*s+a)*r+o,y:-(((l-e[1])*s+h)*r-i)}},t.prototype.transformToLatLon=function(t,e){if(this.options.chart.proj4||u.proj4){if(null!==t.y){var o=e.jsonmarginX,i=e.jsonmarginY,r=void 0===(r=e.jsonres)?1:r,s=void 0===(s=e.scale)?1:s,n=e.xoffset,a=e.xpan,l=e.yoffset,h=e.ypan;return t={x:((t.x-(void 0===o?0:o))/r-(void 0===a?0:a))/s+(void 0===n?0:n),y:((t.y-(void 0===i?0:i))/r+(void 0===h?0:h))/s+(void 0===l?0:l)},o=e.cosAngle||e.rotation&&Math.cos(e.rotation),i=e.sinAngle||e.rotation&&Math.sin(e.rotation),{lat:(e=u.proj4(e.crs,"WGS84",e.rotation?{x:t.x*o+t.y*-i,y:t.x*i+t.y*o}:t)).y,lon:e.x}}}else d(21,!1,this)},t.prototype.fromPointToLatLon=function(t){var e=this.mapTransforms;if(e){for(var o in e)if(Object.hasOwnProperty.call(e,o)&&e[o].hitZone&&r(t,e[o].hitZone.coordinates[0]))return this.transformToLatLon(t,e[o]);return this.transformToLatLon(t,e.default)}d(22,!1,this)},t.prototype.fromLatLonToPoint=function(t){var e,o=this.mapTransforms;if(!o)return d(22,!1,this),{x:0,y:null};for(e in o)if(Object.hasOwnProperty.call(o,e)&&o[e].hitZone){var i=this.transformFromLatLon(t,o[e]);if(r(i,o[e].hitZone.coordinates[0]))return i}return this.transformFromLatLon(t,o.default)},o.geojson=function(t,r,e){void 0===r&&(r="map");var s=[];return t.features.forEach(function(t){var e,o=(i=t.geometry||{}).type,i=i.coordinates;t=t.properties,("map"!==r&&"mapbubble"!==r||"Polygon"!==o&&"MultiPolygon"!==o)&&("mapline"!==r||"LineString"!==o&&"MultiLineString"!==o)?"mappoint"===r&&"Point"===o&&i.length&&(e={geometry:{coordinates:i,type:o}}):i.length&&(e={geometry:{coordinates:i,type:o}}),e&&s.push(a(e,{name:t.name||t.NAME,properties:t}))}),e&&t.copyrightShort&&(e.chart.mapCredits=n(e.chart.options.credits.mapText,{geojson:t}),e.chart.mapCreditsFull=n(e.chart.options.credits.mapTextFull,{geojson:t})),s},e(t.prototype,"addCredits",function(t,e){e=s(!0,this.options.credits,e),this.mapCredits&&(e.href=null),t.call(this,e),this.credits&&this.mapCreditsFull&&this.credits.attr({title:this.mapCreditsFull})})}),e(t,"masters/modules/map.src.js",[t["Core/Globals.js"],t["Core/Axis/Color/ColorAxis.js"],t["Series/MapBubble/MapBubbleSeries.js"],t["Core/Chart/MapChart.js"]],function(t,e,o,i){t.ColorAxis=e,t.MapChart=i,t.mapChart=t.Map=i.mapChart,t.maps=i.maps,e.compose(t.Chart,t.Fx,t.Legend,t.Series),o.compose(t.Chart,t.Legend,t.Series)})});