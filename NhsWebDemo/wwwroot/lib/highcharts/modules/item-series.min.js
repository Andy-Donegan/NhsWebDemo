"use strict";!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/item-series",["highcharts"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){function e(t,e,o,i){t.hasOwnProperty(e)||(t[e]=i.apply(null,o))}e(t=t?t._modules:{},"Series/Item/ItemPoint.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e){var i,o,s=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=t.series;function n(){var t=null!==o&&o.apply(this,arguments)||this;return t.graphics=void 0,t.options=void 0,t.series=void 0,t}return e=e.extend,o=t.seriesTypes.pie.prototype.pointClass,s(n,o),e((t=n).prototype,{haloPath:r.prototype.pointClass.prototype.haloPath}),t}),e(t,"Series/Item/ItemSeries.js",[t["Core/Globals.js"],t["Series/Item/ItemPoint.js"],t["Core/DefaultOptions.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(e,t,o,i,s){var r,n,a=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),h=o.defaultOptions,l=i.seriesTypes.pie,j=s.defined,A=s.extend,p=s.fireEvent,c=s.isNumber,u=s.merge,S=s.objectEach,C=s.pick;function f(){var t=null!==n&&n.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return a(f,n=l),f.prototype.animate=function(t){t?this.group.attr({opacity:0}):this.group.animate({opacity:1},this.options.animation)},f.prototype.drawDataLabels=function(){this.center&&this.slots?e.seriesTypes.pie.prototype.drawDataLabels.call(this):this.points.forEach(function(t){t.destroyElements({dataLabel:1})})},f.prototype.drawPoints=function(){var u=this,f=this.options,d=u.chart.renderer,y=f.marker,g=this.borderWidth%2?.5:1,m=0,v=this.getRows(),w=Math.ceil(this.total/v),_=this.chart.plotWidth/w,b=this.chart.plotHeight/v,M=this.itemSize||Math.min(_,b);this.points.forEach(function(t){var o,e,i,s=(r=t.marker||{}).symbol||y.symbol,r=C(r.radius,y.radius),n=j(r)?2*r:M,a=n*f.itemPadding;if(t.graphics=o=t.graphics||{},u.chart.styledMode||(e=u.pointAttribs(t,t.selected&&"select")),!t.isNull&&t.visible){t.graphic||(t.graphic=d.g("point").add(u.group));for(var h,l,p=0;p<t.y;p++){l=u.center&&u.slots?(h=(l=u.slots.shift()).x-M/2,l.y-M/2):"horizontal"===f.layout?(h=m%w*_,b*Math.floor(m/w)):(h=_*Math.floor(m/v),m%v*b),h+=a,l+=a;var c=i=Math.round(n-2*a);u.options.crisp&&(h=Math.round(h)-g,l=Math.round(l)+g),h={x:h,y:l,width:i,height:c},void 0!==r&&(h.r=r),o[p]?o[p].animate(h):o[p]=d.symbol(s,null,null,null,null,{backgroundSize:"within"}).attr(A(h,e)).add(t.graphic),o[p].isActive=!0,m++}}S(o,function(t,e){t.isActive?t.isActive=!1:(t.destroy(),delete o[e])})})},f.prototype.getRows=function(){if(!(e=this.options.rows)){var t=this.chart.plotWidth/this.chart.plotHeight,e=Math.sqrt(this.total);if(1<t)for(e=Math.ceil(e);0<e;){var o=this.total/e;if(t<o/e)break;e--}else for(e=Math.floor(e);e<this.total&&!((o=this.total/e)/e<t);)e++}return e},f.prototype.getSlots=function(){function t(t){0<S&&(t.row.colCount--,S--)}for(var e,o,i,s,r,n,a,h,l,p,c,u,f,d=this.center,y=d[2],g=d[3],m=this.slots,v=0,w=this.endAngleRad-this.startAngleRad,_=Number.MAX_VALUE,b=this.options.rows,M=(y-g)/y,j=0==w%(2*Math.PI),A=this.total||0;_>A+(u&&j?u.length:0);)for(c=_,_=m.length=0,u=f,f=[],p=y/++v/2,b?0<=(g=(p-b)/p*y)?p=b:(g=0,M=1):p=Math.floor(p*M),e=p;0<e;e--)r=w*(s=(g+e/p*(y-g-v))/2),n=Math.ceil(r/v),f.push({rowRadius:s,rowLength:r,colCount:n}),_+=n+1;if(u){for(var S=c-this.total-(j?u.length:0);0<S;)u.map(function(t){return{angle:t.colCount/t.rowLength,row:t}}).sort(function(t,e){return e.angle-t.angle}).slice(0,Math.min(S,Math.ceil(u.length/2))).forEach(t);return u.forEach(function(t){var e=t.rowRadius;for(a=(t=t.colCount)?w/t:0,l=0;l<=t;l+=1)h=this.startAngleRad+l*a,o=d[0]+Math.cos(h)*e,i=d[1]+Math.sin(h)*e,m.push({x:o,y:i,angle:h})},this),m.sort(function(t,e){return t.angle-e.angle}),this.itemSize=v,m}},f.prototype.translate=function(t){0===this.total&&(this.center=this.getCenter()),this.slots||(this.slots=[]),c(this.options.startAngle)&&c(this.options.endAngle)?(e.seriesTypes.pie.prototype.translate.apply(this,arguments),this.slots=this.getSlots()):(this.generatePoints(),p(this,"afterTranslate"))},f.defaultOptions=u(l.defaultOptions,{endAngle:void 0,innerSize:"40%",itemPadding:.1,layout:"vertical",marker:u(h.plotOptions.line.marker,{radius:null}),rows:void 0,crisp:!1,showInLegend:!0,startAngle:void 0}),A((o=f).prototype,{markerAttribs:void 0}),o.prototype.pointClass=t,i.registerSeriesType("item",o),o}),e(t,"masters/modules/item-series.src.js",[],function(){})});