"use strict";!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/histogram-bellcurve",["highcharts"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){t=t?t._modules:{};function e(t,e,i,n){t.hasOwnProperty(e)||(t[e]=n.apply(null,i))}e(t,"Series/DerivedComposition.js",[t["Core/Globals.js"],t["Core/Series/Series.js"],t["Core/Utilities.js"]],function(t,e,i){var n,s,t=t.noop,r=i.addEvent,o=i.defined;function a(){e.prototype.init.apply(this,arguments),this.initialised=!1,this.baseSeries=null,this.eventRemovers=[],this.addEvents()}function u(){var t=this.chart,e=this.options.baseSeries,e=o(e)&&(t.series[e]||t.get(e));this.baseSeries=e||null}function p(){var t=this;this.eventRemovers.push(r(this.chart,"afterLinkSeries",function(){t.setBaseSeries(),t.baseSeries&&!t.initialised&&(t.setDerivedData(),t.addBaseSeriesEvents(),t.initialised=!0)}))}function h(){var t=this;this.eventRemovers.push(r(this.baseSeries,"updatedData",function(){t.setDerivedData()}),r(this.baseSeries,"destroy",function(){t.baseSeries=null,t.initialised=!1}))}function d(){this.eventRemovers.forEach(function(t){t()}),e.prototype.destroy.apply(this,arguments)}return i=n=n||{},s=[],i.hasDerivedData=!0,i.setDerivedData=t,i.compose=function(t){var e;return-1===s.indexOf(t)&&(s.push(t),(e=t.prototype).addBaseSeriesEvents=h,e.addEvents=p,e.destroy=d,e.init=a,e.setBaseSeries=u),t},i.init=a,i.setBaseSeries=u,i.addEvents=p,i.addBaseSeriesEvents=h,i.destroy=d,n}),e(t,"Series/Histogram/HistogramSeries.js",[t["Series/DerivedComposition.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e,i){var n,s=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=e.seriesTypes.column,d=i.arrayMax,c=i.arrayMin,l=i.correctFloat,o=i.extend,f=i.isNumber,a=i.merge,v=i.objectEach,u={"square-root":function(t){return Math.ceil(Math.sqrt(t.options.data.length))},sturges:function(t){return Math.ceil(Math.log(t.options.data.length)*Math.LOG2E)},rice:function(t){return Math.ceil(2*Math.pow(t.options.data.length,1/3))}};var p,r=(s(h,p=r),h.prototype.binsNumber=function(){var t=this.options.binsNumber,e=u[t]||"function"==typeof t&&t;return Math.ceil(e&&e(this.baseSeries)||(f(t)?t:u["square-root"](this.baseSeries)))},h.prototype.derivedData=function(t,e,i){var n,s,r,o=l(d(t)),a=l(c(t)),u=[],p={},h=[];for(i=this.binWidth=l(f(i)?i||1:(o-a)/e),this.options.pointRange=Math.max(i,0),n=a;n<o&&(this.userOptions.binWidth||l(o-n)>=i||l(l(a+u.length*i)-n)<=0);n=l(n+i))u.push(n),p[n]=0;return 0!==p[a]&&(u.push(a),p[a]=0),r=u.map(function(t){return parseFloat(t)}),s=function(t){for(var e=1;r[e]<=t;)e++;return r[--e]},t.forEach(function(t){t=l(s(t));p[t]++}),v(p,function(t,e){h.push({x:Number(e),y:t,x2:l(Number(e)+i)})}),h.sort(function(t,e){return t.x-e.x}),h[h.length-1].x2=o,h},h.prototype.setDerivedData=function(){var t=this.baseSeries.yData;t.length?(t=this.derivedData(t,this.binsNumber(),this.options.binWidth),this.setData(t,!1)):this.setData([])},h.defaultOptions=a(r.defaultOptions,{binsNumber:"square-root",binWidth:void 0,pointPadding:0,groupPadding:0,grouping:!1,pointPlacement:"between",tooltip:{headerFormat:"",pointFormat:'<span style="font-size: 10px">{point.x} - {point.x2}</span><br/><span style="color:{point.color}">‚óè</span> {series.name} <b>{point.y}</b><br/>'}}),h);function h(){var t=null!==p&&p.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t.userOptions=void 0,t}return o(r.prototype,{hasDerivedData:t.hasDerivedData}),t.compose(r),e.registerSeriesType("histogram",r),r}),e(t,"Series/Bellcurve/BellcurveSeries.js",[t["Series/DerivedComposition.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e,i){var n,s,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=e.seriesTypes.areaspline,a=i.correctFloat,u=(i.extend,i.isNumber),i=i.merge,o=(r(p,s=o),p.mean=function(t){var e=t.length,t=t.reduce(function(t,e){return t+e},0);return 0<e&&t/e},p.standardDeviation=function(t,i){var e=t.length;return i=u(i)?i:p.mean(t),t=t.reduce(function(t,e){e-=i;return t+e*e},0),1<e&&Math.sqrt(t/(e-1))},p.normalDensity=function(t,e,i){e=t-e;return Math.exp(-e*e/(2*i*i))/(i*Math.sqrt(2*Math.PI))},p.prototype.derivedData=function(t,e){for(var i=this.options.intervals,n=this.options.pointsInInterval,s=t-i*e,r=i*n*2+1,o=e/n,a=[],u=0;u<r;u++)a.push([s,p.normalDensity(s,t,e)]),s+=o;return a},p.prototype.setDerivedData=function(){1<this.baseSeries.yData.length&&(this.setMean(),this.setStandardDeviation(),this.setData(this.derivedData(this.mean,this.standardDeviation),!1))},p.prototype.setMean=function(){this.mean=a(p.mean(this.baseSeries.yData))},p.prototype.setStandardDeviation=function(){this.standardDeviation=a(p.standardDeviation(this.baseSeries.yData,this.mean))},p.defaultOptions=i(o.defaultOptions,{intervals:3,pointsInInterval:3,marker:{enabled:!1}}),p);function p(){var t=null!==s&&s.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return t.compose(o),e.registerSeriesType("bellcurve",o),o}),e(t,"masters/modules/histogram-bellcurve.src.js",[],function(){})});