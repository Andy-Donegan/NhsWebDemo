"use strict";!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/item-series",["highcharts"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){t=t?t._modules:{};function e(t,e,o,i){t.hasOwnProperty(e)||(t[e]=i.apply(null,o))}e(t,"Series/Item/ItemPoint.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e){var i,o,s=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=t.series,t=t.seriesTypes.pie,e=e.extend,s=(o=t.prototype.pointClass,s(n,o),n);function n(){var t=null!==o&&o.apply(this,arguments)||this;return t.graphics=void 0,t.options=void 0,t.series=void 0,t}return e(s.prototype,{haloPath:r.prototype.pointClass.prototype.haloPath}),s}),e(t,"Series/Item/ItemSeries.js",[t["Core/Globals.js"],t["Series/Item/ItemPoint.js"],t["Core/DefaultOptions.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(e,t,o,i,s){var r,n,a=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),h=o.defaultOptions,l=i.seriesTypes.pie,A=s.defined,S=s.extend,p=s.fireEvent,c=s.isNumber,o=s.merge,C=s.objectEach,O=s.pick,h=(a(u,n=l),u.prototype.animate=function(t){t?this.group.attr({opacity:0}):this.group.animate({opacity:1},this.options.animation)},u.prototype.drawDataLabels=function(){this.center&&this.slots?e.seriesTypes.pie.prototype.drawDataLabels.call(this):this.points.forEach(function(t){t.destroyElements({dataLabel:1})})},u.prototype.drawPoints=function(){var d=this,f=this.options,y=d.chart.renderer,g=f.marker,m=this.borderWidth%2?.5:1,v=0,w=this.getRows(),_=Math.ceil(this.total/w),b=this.chart.plotWidth/_,M=this.chart.plotHeight/w,j=this.itemSize||Math.min(b,M);this.points.forEach(function(t){var o,e,i,s=t.marker||{},r=s.symbol||g.symbol,n=O(s.radius,g.radius),a=A(n)?2*n:j,h=a*f.itemPadding;if(t.graphics=o=t.graphics||{},d.chart.styledMode||(e=d.pointAttribs(t,t.selected&&"select")),!t.isNull&&t.visible){t.graphic||(t.graphic=y.g("point").add(d.group));for(var l,p,c,u=0;u<t.y;u++)c=d.center&&d.slots?(p=(l=d.slots.shift()).x-j/2,l.y-j/2):"horizontal"===f.layout?(p=v%_*b,M*Math.floor(v/_)):(p=b*Math.floor(v/w),v%w*M),p+=h,c+=h,l=i=Math.round(a-2*h),d.options.crisp&&(p=Math.round(p)-m,c=Math.round(c)+m),l={x:p,y:c,width:i,height:l},void 0!==n&&(l.r=n),o[u]?o[u].animate(l):o[u]=y.symbol(r,null,null,null,null,{backgroundSize:"within"}).attr(S(l,e)).add(t.graphic),o[u].isActive=!0,v++}C(o,function(t,e){t.isActive?t.isActive=!1:(t.destroy(),delete o[e])})})},u.prototype.getRows=function(){var t,e=this.options.rows;if(!e)if(t=this.chart.plotWidth/this.chart.plotHeight,e=Math.sqrt(this.total),1<t)for(e=Math.ceil(e);0<e&&!(t<this.total/e/e);)e--;else for(e=Math.floor(e);e<this.total&&!(this.total/e/e<t);)e++;return e},u.prototype.getSlots=function(){for(var t,i,s,e,o,r,n,a,h,l,p,c,u,d=this.center,f=d[2],y=d[3],g=this.slots,m=0,v=this.endAngleRad-this.startAngleRad,w=Number.MAX_VALUE,_=this.options.rows,b=(f-y)/f,M=v%(2*Math.PI)==0,j=this.total||0;w>j+(c&&M?c.length:0);)for(p=w,w=g.length=0,c=u,u=[],l=f/++m/2,_?0<=(y=(l-_)/l*f)?l=_:(y=0,b=1):l=Math.floor(l*b),t=l;0<t;t--)o=v*(e=(y+t/l*(f-y-m))/2),r=Math.ceil(o/m),u.push({rowRadius:e,rowLength:o,colCount:r}),w+=r+1;if(c){for(var A=p-this.total-(M?c.length:0);0<A;)c.map(function(t){return{angle:t.colCount/t.rowLength,row:t}}).sort(function(t,e){return e.angle-t.angle}).slice(0,Math.min(A,Math.ceil(c.length/2))).forEach(S);return c.forEach(function(t){var e=t.rowRadius,o=t.colCount;for(n=o?v/o:0,h=0;h<=o;h+=1)a=this.startAngleRad+h*n,i=d[0]+Math.cos(a)*e,s=d[1]+Math.sin(a)*e,g.push({x:i,y:s,angle:a})},this),g.sort(function(t,e){return t.angle-e.angle}),this.itemSize=m,g}function S(t){0<A&&(t.row.colCount--,A--)}},u.prototype.translate=function(t){0===this.total&&(this.center=this.getCenter()),this.slots||(this.slots=[]),c(this.options.startAngle)&&c(this.options.endAngle)?(e.seriesTypes.pie.prototype.translate.apply(this,arguments),this.slots=this.getSlots()):(this.generatePoints(),p(this,"afterTranslate"))},u.defaultOptions=o(l.defaultOptions,{endAngle:void 0,innerSize:"40%",itemPadding:.1,layout:"vertical",marker:o(h.plotOptions.line.marker,{radius:null}),rows:void 0,crisp:!1,showInLegend:!0,startAngle:void 0}),u);function u(){var t=null!==n&&n.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return S(h.prototype,{markerAttribs:void 0}),h.prototype.pointClass=t,i.registerSeriesType("item",h),h}),e(t,"masters/modules/item-series.src.js",[],function(){})});