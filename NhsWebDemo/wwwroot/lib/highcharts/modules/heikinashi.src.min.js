"use strict";!function(i){"object"==typeof module&&module.exports?module.exports=i.default=i:"function"==typeof define&&define.amd?define("highcharts/modules/heikinashi",["highcharts","highcharts/modules/stock"],function(t){return i(t),i.Highcharts=t,i}):i("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){t=t?t._modules:{};function i(t,i,e,o){t.hasOwnProperty(i)||(t[i]=o.apply(null,e))}i(t,"Series/HeikinAshi/HeikinAshiPoint.js",[t["Core/Series/SeriesRegistry.js"]],function(t){var o,i,e=this&&this.__extends||(o=function(t,i){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])})(t,i)},function(t,i){function e(){this.constructor=t}o(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}),t=t.seriesTypes.candlestick;function s(){var t=null!==i&&i.apply(this,arguments)||this;return t.series=void 0,t}return i=t.prototype.pointClass,e(s,i),s}),i(t,"Series/HeikinAshi/HeikinAshiSeries.js",[t["Series/HeikinAshi/HeikinAshiPoint.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"],t["Core/Axis/Axis.js"]],function(t,i,e,o){var s,n,a=this&&this.__extends||(s=function(t,i){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])})(t,i)},function(t,i){function e(){this.constructor=t}s(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}),r=i.seriesTypes.candlestick,h=e.addEvent,e=e.merge,r=(a(p,n=r),p.prototype.getHeikinashiData=function(){var t=this,i=t.allGroupedData||t.yData,e=t.heikiashiData;if(!e.length&&i&&i.length){var o=i[0];this.modifyFirstPointValue(o);for(var s=1;s<i.length;s++){var n=i[s],a=e[s-1];this.modifyDataPoint(n,a)}}t.heikiashiData=e},p.prototype.init=function(){n.prototype.init.apply(this,arguments),this.heikiashiData=[]},p.prototype.modifyFirstPointValue=function(t){var i=(t[0]+t[1]+t[2]+t[3])/4,e=(t[0]+t[3])/2;this.heikiashiData.push([i,t[1],t[2],e])},p.prototype.modifyDataPoint=function(t,i){var e=(i[0]+i[3])/2,o=(t[0]+t[1]+t[2]+t[3])/4,i=Math.max(t[1],o,e),t=Math.min(t[2],o,e);this.heikiashiData.push([e,i,t,o])},p.defaultOptions=e(r.defaultOptions,{dataGrouping:{groupAll:!0}}),p);function p(){var t=null!==n&&n.apply(this,arguments)||this;return t.data=void 0,t.heikiashiData=[],t.options=void 0,t.points=void 0,t.yData=void 0,t.processedYData=void 0,t}return h(r,"afterTranslate",function(){for(var t=this,i=t.points,e=t.heikiashiData,o=t.cropStart||0,s=t.processedYData.length=0;s<i.length;s++){var n=i[s],a=e[s+o];n.open=a[0],n.high=a[1],n.low=a[2],n.close=a[3],t.processedYData.push([n.open,n.high,n.low,n.close])}}),h(r,"updatedData",function(){this.heikiashiData.length&&(this.heikiashiData.length=0)}),h(o,"postProcessData",function(){this.series.forEach(function(t){t.is("heikinashi")&&((t=t).heikiashiData.length=0,t.getHeikinashiData())})}),r.prototype.pointClass=t,i.registerSeriesType("heikinashi",r),r}),i(t,"masters/modules/heikinashi.src.js",[],function(){})});