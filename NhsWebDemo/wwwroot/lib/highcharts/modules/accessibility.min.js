"use strict";!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/accessibility",["highcharts"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){function e(t,e,i,n){t.hasOwnProperty(e)||(t[e]=n.apply(null,i))}e(t=t?t._modules:{},"Accessibility/A11yI18n.js",[t["Core/FormatUtilities.js"],t["Core/Utilities.js"]],function(t,e){var i,n,a=t.format,c=e.pick;function o(t,e,i){var n=[],o=0;do{var r=function(t,e){var i=(t=t.slice(e||0)).indexOf("{"),n=t.indexOf("}");if(-1<i&&i<n)return{statement:t.substring(i+1,n),begin:e+i+1,end:e+n}}(t,o),s=t.substring(o,r&&r.begin-1)}while(s.length&&n.push({value:s,type:"constant"}),r&&n.push({value:r.statement,type:"statement"}),o=r?r.end+1:o+1,r);return n.forEach(function(t){"statement"===t.type&&(t.value=function(t,e){var i=t.indexOf("#each("),n=t.indexOf("#plural("),o=t.indexOf("["),r=t.indexOf("]");if(-1<i){if(r=t.slice(i).indexOf(")")+i,n=t.substring(0,i),o=t.substring(r+1),r=t.substring(i+6,r).split(","),i=Number(r[1]),t="",e=e[r[0]])for(i=(i=isNaN(i)?e.length:i)<0?e.length+i:Math.min(i,e.length),r=0;r<i;++r)t+=n+e[r]+o;return t.length?t:""}if(-1<n){switch(o=t.slice(n).indexOf(")")+n,n=t.substring(n+8,o).split(","),Number(e[n[0]])){case 0:t=c(n[4],n[1]);break;case 1:t=c(n[2],n[1]);break;case 2:t=c(n[3],n[1]);break;default:t=n[1]}return e=t?(e=t).trim&&e.trim()||e.replace(/^\s+|\s+$/g,""):""}return-1<o?(n=t.substring(0,o),o=Number(t.substring(o+1,r)),t=void 0,e=e[n],!isNaN(o)&&e&&(o<0?void 0===(t=e[e.length+o])&&(t=e[0]):void 0===(t=e[o])&&(t=e[e.length-1])),void 0!==t?t:""):"{"+t+"}"}(t.value,e))}),a(n.reduce(function(t,e){return t+e.value},""),e,i)}function r(t,e){t=t.split(".");for(var i=this.options.lang,n=0;n<t.length;++n)i=i&&i[t[n]];return"string"==typeof i?o(i,e,this):""}return e=i=i||{},n=[],e.compose=function(t){return-1===n.indexOf(t)&&(n.push(t),t.prototype.langFormat=r),t},e.i18nFormat=o,i}),e(t,"Accessibility/Utils/HTMLUtilities.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(t,e){function i(t){if("function"==typeof r.MouseEvent)return new r.MouseEvent(t.type,t);if(o.createEvent){var e=o.createEvent("MouseEvent");if(e.initMouseEvent)return e.initMouseEvent(t.type,t.bubbles,t.cancelable,t.view||r,t.detail,t.screenX,t.screenY,t.clientX,t.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget),e}return n(t.type)}function n(t,e){if(e=e||{x:0,y:0},"function"==typeof r.MouseEvent)return new r.MouseEvent(t,{bubbles:!0,cancelable:!0,composed:!0,view:r,detail:"click"===t?1:0,screenX:e.x,screenY:e.y,clientX:e.x,clientY:e.y});if(o.createEvent){var i=o.createEvent("MouseEvent");if(i.initMouseEvent)return i.initMouseEvent(t,!0,!0,r,"click"===t?1:0,e.x,e.y,e.x,e.y,!1,!1,!1,!1,0,null),i}return{type:t}}var o=t.doc,r=t.win,s=e.css;return{addClass:function(t,e){t.classList?t.classList.add(e):t.className.indexOf(e)<0&&(t.className+=" "+e)},cloneMouseEvent:i,cloneTouchEvent:function(t){var e=function(t){for(var e=[],i=0;i<t.length;++i){var n=t.item(i);n&&e.push(n)}return e};return"function"==typeof r.TouchEvent?(e=new r.TouchEvent(t.type,{touches:e(t.touches),targetTouches:e(t.targetTouches),changedTouches:e(t.changedTouches),ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,altKey:t.altKey,metaKey:t.metaKey,bubbles:t.bubbles,cancelable:t.cancelable,composed:t.composed,detail:t.detail,view:t.view}),t.defaultPrevented&&e.preventDefault()):((e=i(t)).touches=t.touches,e.changedTouches=t.changedTouches,e.targetTouches=t.targetTouches),e},escapeStringForHTML:function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},getElement:function(t){return o.getElementById(t)},getFakeMouseEvent:n,getHeadingTagNameForElement:function(t){function n(t){return t=parseInt(t.slice(1),10),"h"+Math.min(6,t+1)}function o(t){var e;t:{for(e=t;e=e.previousSibling;){var i=e.tagName||"";if(/H[1-6]/.test(i)){e=i;break t}}e=""}return e?n(e):(t=t.parentElement)?(e=t.tagName,/H[1-6]/.test(e)?n(e):o(t)):"p"}return o(t)},removeChildNodes:function(t){for(;t.lastChild;)t.removeChild(t.lastChild)},removeClass:function(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp(e,"g"),"")},removeElement:function(t){t&&t.parentNode&&t.parentNode.removeChild(t)},reverseChildNodes:function(t){for(var e=t.childNodes.length;e--;)t.appendChild(t.childNodes[e])},stripHTMLTagsFromString:function(t){return"string"==typeof t?t.replace(/<\/?[^>]+(>|$)/g,""):t},visuallyHideElement:function(t){s(t,{position:"absolute",width:"1px",height:"1px",overflow:"hidden",whiteSpace:"nowrap",clip:"rect(1px, 1px, 1px, 1px)",marginTop:"-3px","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=1)",filter:"alpha(opacity=1)",opacity:.01})}}}),e(t,"Accessibility/Utils/ChartUtilities.js",[t["Core/Globals.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Core/Utilities.js"]],function(t,e,i){function n(t){if(t.points&&t.points.length)return(t=c(t.points,function(t){return!!t.graphic}))&&t.graphic&&t.graphic.element}function o(t){var e=n(t);return e&&e.parentNode||t.graph&&t.graph.element||t.group&&t.group.element}var r=t.doc,s=e.stripHTMLTagsFromString,a=i.defined,c=i.find,l=i.fireEvent;return{fireEventOnWrappedOrUnwrappedElement:function t(e,i){var n=i.type,o=e.hcEvents;r.createEvent&&(e.dispatchEvent||e.fireEvent)?e.dispatchEvent?e.dispatchEvent(i):e.fireEvent(n,i):o&&o[n]?l(e,n,i):e.element&&t(e.element,i)},getChartTitle:function(t){return s(t.options.title.text||t.langFormat("accessibility.defaultChartTitle",{chart:t}))},getAxisDescription:function(t){return t&&(t.userOptions&&t.userOptions.accessibility&&t.userOptions.accessibility.description||t.axisTitle&&t.axisTitle.textStr||t.options.id||t.categories&&"categories"||t.dateTime&&"Time"||"values")},getAxisRangeDescription:function(t){var e,i,n,o=t.options||{};return o.accessibility&&void 0!==o.accessibility.rangeDescription?o.accessibility.rangeDescription:t.categories?(o=t.chart,t=t.dataMax&&t.dataMin?o.langFormat("accessibility.axis.rangeCategories",{chart:o,axis:t,numCategories:t.dataMax-t.dataMin+1}):""):!t.dateTime||0!==t.min&&0!==t.dataMin?(i=(e=t).chart,n=(o=i.options)&&o.accessibility&&o.accessibility.screenReaderSection.axisRangeDateFormat||"",o=function(t){return e.dateTime?i.time.dateFormat(n,e[t]):e[t]},i.langFormat("accessibility.axis.rangeFromTo",{chart:i,axis:e,rangeFrom:o("min"),rangeTo:o("max")})):function(t){var e=t.chart,i={},n="Seconds";i.Seconds=((t.max||0)-(t.min||0))/1e3,i.Minutes=i.Seconds/60,i.Hours=i.Minutes/60,i.Days=i.Hours/24,["Minutes","Hours","Days"].forEach(function(t){2<i[t]&&(n=t)});var o=i[n].toFixed("Seconds"!==n&&"Minutes"!==n?1:0);return e.langFormat("accessibility.axis.timeRange"+n,{chart:e,axis:t,range:o.replace(".0","")})}(t)},getPointFromXY:function(t,e,i){for(var n,o=t.length;o--;)if(n=c(t[o].points||[],function(t){return t.x===e&&t.y===i}))return n},getSeriesFirstPointElement:n,getSeriesFromName:function(t,e){return e?(t.series||[]).filter(function(t){return t.name===e}):t.series},getSeriesA11yElement:o,unhideChartElementFromAT:function t(e,i){i.setAttribute("aria-hidden",!1),i!==e.renderTo&&i.parentNode&&i.parentNode!==r.body&&(Array.prototype.forEach.call(i.parentNode.childNodes,function(t){t.hasAttribute("aria-hidden")||t.setAttribute("aria-hidden",!0)}),t(e,i.parentNode))},hideSeriesFromAT:function(t){(t=o(t))&&t.setAttribute("aria-hidden",!0)},scrollToPoint:function(t){var e,i,n=t.series.xAxis,o=t.series.yAxis,r=n&&n.scrollbar?n:o;(n=r&&r.scrollbar)&&a(n.to)&&a(n.from)&&(o=n.to-n.from,t=a(r.dataMin)&&a(r.dataMax)?(e=r.toPixels(r.dataMin),i=r.toPixels(r.dataMax),(r.toPixels(t["xAxis"===r.coll?"x":"y"]||0)-e)/(i-e)):0,n.updatePosition(t-o/2,t+o/2),l(n,"changed",{from:n.from,to:n.to,trigger:"scrollbar",DOMEvent:null}))}}}),e(t,"Accessibility/Utils/DOMElementProvider.js",[t["Core/Globals.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(t,e){var i=t.doc,n=e.removeElement;return o.prototype.createElement=function(){var t=i.createElement.apply(i,arguments);return this.elements.push(t),t},o.prototype.destroyCreatedElements=function(){this.elements.forEach(function(t){n(t)}),this.elements=[]},o;function o(){this.elements=[]}}),e(t,"Accessibility/Utils/EventProvider.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(e,t){var i=t.addEvent;return n.prototype.addEvent=function(){var t=i.apply(e,arguments);return this.eventRemovers.push(t),t},n.prototype.removeAddedEvents=function(){this.eventRemovers.forEach(function(t){return t()}),this.eventRemovers=[]},n;function n(){this.eventRemovers=[]}}),e(t,"Accessibility/AccessibilityComponent.js",[t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/DOMElementProvider.js"],t["Accessibility/Utils/EventProvider.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Core/Utilities.js"]],function(t,i,n,e,o){var r=t.fireEventOnWrappedOrUnwrappedElement,s=e.getFakeMouseEvent;function a(){this.proxyProvider=this.keyCodes=this.eventProvider=this.domElementProvider=this.chart=void 0}return t=o.extend,a.prototype.initBase=function(t,e){this.chart=t,this.eventProvider=new n,this.domElementProvider=new i,this.proxyProvider=e,this.keyCodes={left:37,right:39,up:38,down:40,enter:13,space:32,esc:27,tab:9,pageUp:33,pageDown:34,end:35,home:36}},a.prototype.addEvent=function(t,e,i,n){return this.eventProvider.addEvent(t,e,i,n)},a.prototype.createElement=function(t,e){return this.domElementProvider.createElement(t,e)},a.prototype.fakeClickEvent=function(t){var e=s("click");r(t,e)},a.prototype.destroyBase=function(){this.domElementProvider.destroyCreatedElements(),this.eventProvider.removeAddedEvents()},t((e=a).prototype,{init:function(){},getKeyboardNavigation:function(){},onChartUpdate:function(){},onChartRender:function(){},destroy:function(){}}),e}),e(t,"Accessibility/KeyboardNavigationHandler.js",[t["Core/Utilities.js"]],function(t){var o=t.find;function e(t,e){this.chart=t,this.keyCodeMap=e.keyCodeMap||[],this.validate=e.validate,this.init=e.init,this.terminate=e.terminate,this.response={success:1,prev:2,next:3,noHandler:4,fail:5}}return e.prototype.run=function(t){var e=t.which||t.keyCode,i=this.response.noHandler,n=o(this.keyCodeMap,function(t){return-1<t[0].indexOf(e)});return n?i=n[1].call(this,e,t):9===e&&(i=this.response[t.shiftKey?"prev":"next"]),i},t=e}),e(t,"Accessibility/Components/ContainerComponent.js",[t["Accessibility/AccessibilityComponent.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Core/Globals.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(t,i,e,n,o){var r,s,a=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),c=e.unhideChartElementFromAT,l=e.getChartTitle,h=n.doc,u=o.stripHTMLTagsFromString;return a(p,s=t),p.prototype.onChartUpdate=function(){this.handleSVGTitleElement(),this.setSVGContainerLabel(),this.setGraphicContainerAttrs(),this.setRenderToAttrs(),this.makeCreditsAccessible()},p.prototype.handleSVGTitleElement=function(){var t,e=this.chart,i="highcharts-title-"+e.index,n=u(e.langFormat("accessibility.svgContainerTitle",{chartTitle:l(e)}));n.length&&((t=this.svgTitleElement=this.svgTitleElement||h.createElementNS("http://www.w3.org/2000/svg","title")).textContent=n,t.id=i,e.renderTo.insertBefore(t,e.renderTo.firstChild))},p.prototype.setSVGContainerLabel=function(){var t=this.chart,e=t.langFormat("accessibility.svgContainerLabel",{chartTitle:l(t)});t.renderer.box&&e.length&&t.renderer.box.setAttribute("aria-label",e)},p.prototype.setGraphicContainerAttrs=function(){var t=this.chart,e=t.langFormat("accessibility.graphicContainerLabel",{chartTitle:l(t)});e.length&&t.container.setAttribute("aria-label",e)},p.prototype.setRenderToAttrs=function(){var t=this.chart;"disabled"!==t.options.accessibility.landmarkVerbosity?t.renderTo.setAttribute("role","region"):t.renderTo.removeAttribute("role"),t.renderTo.setAttribute("aria-label",t.langFormat("accessibility.chartContainerLabel",{title:l(t),chart:t}))},p.prototype.makeCreditsAccessible=function(){var t=this.chart,e=t.credits;e&&(e.textStr&&e.element.setAttribute("aria-label",t.langFormat("accessibility.credits",{creditsStr:u(e.textStr)})),c(t,e.element))},p.prototype.getKeyboardNavigation=function(){var e=this.chart;return new i(e,{keyCodeMap:[],validate:function(){return!0},init:function(){var t=e.accessibility;t&&t.keyboardNavigation.tabindexContainer.focus()}})},p.prototype.destroy=function(){this.chart.renderTo.setAttribute("aria-hidden",!0)},p;function p(){return null!==s&&s.apply(this,arguments)||this}}),e(t,"Accessibility/FocusBorder.js",[t["Core/Renderer/SVG/SVGLabel.js"],t["Core/Utilities.js"]],function(g,t){var e,i,y,n=t.addEvent,f=t.pick;function o(){var t=this.focusElement,e=this.options.accessibility.keyboardNavigation.focusBorder;t&&(t.removeFocusBorder(),e.enabled&&t.addFocusBorder(e.margin,{stroke:e.style.color,strokeWidth:e.style.lineWidth,r:e.style.borderRadius}))}function r(t,e){var i=this.options.accessibility.keyboardNavigation.focusBorder;(e=e||t.element)&&e.focus&&(e.hcEvents&&e.hcEvents.focusin||n(e,"focusin",function(){}),e.focus(),i.hideBrowserFocusOutline&&(e.style.outline="none")),this.focusElement&&this.focusElement.removeFocusBorder(),this.focusElement=t,this.renderFocusBorder()}function s(t,e){this.focusBorder&&this.removeFocusBorder();var i=this.getBBox(),n=f(t,3);i.x+=this.translateX||0,i.y+=this.translateY||0;var o,r,s,a,c,l,h=i.x-n,u=i.y-n,p=i.width+2*n,d=i.height+2*n,m=this instanceof g;"text"!==this.element.nodeName&&!m||(o=!!this.rotation,r=m?{x:o?1:0,y:0}:(s=r=0,"middle"===this.attr("text-anchor")?r=s=.5:this.rotation?r=.25:s=.75,{x:r,y:s}),s=+this.attr("x"),a=+this.attr("y"),isNaN(s)||(h=s-i.width*r.x-n),isNaN(a)||(u=a-i.height*r.y-n),m&&o&&(m=p,p=d,d=m,isNaN(s)||(h=s-i.height*r.x-n),isNaN(a)||(u=a-i.width*r.y-n))),this.focusBorder=this.renderer.rect(h,u,p,d,parseInt((e&&e.r||0).toString(),10)).addClass("highcharts-focus-border").attr({zIndex:99}).add(this.parentGroup),this.renderer.styledMode||this.focusBorder.attr({stroke:e&&e.stroke,"stroke-width":e&&e.strokeWidth}),function(i){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];i.focusBorderUpdateHooks||(i.focusBorderUpdateHooks={},y.forEach(function(t){var e=i[t+="Setter"]||i._defaultSetter;i.focusBorderUpdateHooks[t]=e,i[t]=function(){var t=e.apply(i,arguments);return i.addFocusBorder.apply(i,n),t}}))}(this,t,e),(c=this).focusBorderDestroyHook||(l=c.destroy,c.destroy=function(){return c.focusBorder&&c.focusBorder.destroy&&c.focusBorder.destroy(),l.apply(c,arguments)},c.focusBorderDestroyHook=l)}function a(){var i;(i=this).focusBorderUpdateHooks&&(Object.keys(i.focusBorderUpdateHooks).forEach(function(t){var e=i.focusBorderUpdateHooks[t];e===i._defaultSetter?delete i[t]:i[t]=e}),delete i.focusBorderUpdateHooks),this.focusBorderDestroyHook&&(this.destroy=this.focusBorderDestroyHook,delete this.focusBorderDestroyHook),this.focusBorder&&(this.focusBorder.destroy(),delete this.focusBorder)}return t=e=e||{},i=[],y="x y transform width height r d stroke-width".split(" "),t.compose=function(t,e){-1===i.indexOf(t)&&(i.push(t),(t=t.prototype).renderFocusBorder=o,t.setFocusToElement=r),-1===i.indexOf(e)&&(i.push(e),(e=e.prototype).addFocusBorder=s,e.removeFocusBorder=a)},e}),e(t,"Accessibility/Utils/Announcer.js",[t["Core/Renderer/HTML/AST.js"],t["Accessibility/Utils/DOMElementProvider.js"],t["Core/Globals.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Core/Utilities.js"]],function(i,n,t,e,o){var r=t.doc,s=e.addClass,a=e.visuallyHideElement,c=o.attr;return l.prototype.destroy=function(){this.domElementProvider.destroyCreatedElements()},l.prototype.announce=function(t){var e=this;i.setElementHTML(this.announceRegion,t),this.clearAnnouncementRegionTimer&&clearTimeout(this.clearAnnouncementRegionTimer),this.clearAnnouncementRegionTimer=setTimeout(function(){e.announceRegion.innerHTML=i.emptyHTML,delete e.clearAnnouncementRegionTimer},1e3)},l.prototype.addAnnounceRegion=function(t){var e=this.chart.announcerContainer||this.createAnnouncerContainer(),i=this.domElementProvider.createElement("div");return c(i,{"aria-hidden":!1,"aria-live":t}),this.chart.styledMode?s(i,"highcharts-visually-hidden"):a(i),e.appendChild(i),i},l.prototype.createAnnouncerContainer=function(){var t=this.chart,e=r.createElement("div");return c(e,{"aria-hidden":!1,class:"highcharts-announcer-container"}),e.style.position="relative",t.renderTo.insertBefore(e,t.renderTo.firstChild),t.announcerContainer=e},l;function l(t,e){this.chart=t,this.domElementProvider=new n,this.announceRegion=this.addAnnounceRegion(e)}}),e(t,"Accessibility/Components/AnnotationsA11y.js",[t["Accessibility/Utils/HTMLUtilities.js"]],function(t){function i(t){return(t.annotations||[]).reduce(function(t,e){return t=e.options&&!1!==e.options.visible?t.concat(e.labels):t},[])}function s(t){return t.options&&t.options.accessibility&&t.options.accessibility.description||t.graphic&&t.graphic.text&&t.graphic.text.textStr||""}function e(t){if(e=t.options&&t.options.accessibility&&t.options.accessibility.description)return e;var e=t.chart,i=s(t),n=t.points.filter(function(t){return!!t.graphic}).map(function(t){var e=t.accessibility&&t.accessibility.valueDescription||t.graphic&&t.graphic.element&&t.graphic.element.getAttribute("aria-label")||"";return((t=t&&t.series.name||"")?t+", ":"")+"data point "+e}).filter(function(t){return!!t}),o=n.length,r="accessibility.screenReaderSection.annotations.description"+(1<o?"MultiplePoints":o?"SinglePoint":"NoPoints");return t={annotationText:i,annotation:t,numPoints:o,annotationPoint:n[0],additionalAnnotationPoints:n.slice(1)},e.langFormat(r,t)}function n(t){return i(t).map(function(t){return(t=o(r(e(t))))?"<li>"+t+"</li>":""})}var o=t.escapeStringForHTML,r=t.stripHTMLTagsFromString;return{getAnnotationsInfoHTML:function(t){var e=t.annotations;return e&&e.length?'<ul style="list-style-type: none">'+n(t).join(" ")+"</ul>":""},getAnnotationLabelDescription:e,getAnnotationListItems:n,getPointAnnotationTexts:function(e){var t=i(e.series.chart).filter(function(t){return-1<t.points.indexOf(e)});return t.length?t.map(function(t){return""+s(t)}):[]}}}),e(t,"Accessibility/Components/InfoRegionsComponent.js",[t["Accessibility/A11yI18n.js"],t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/Announcer.js"],t["Accessibility/Components/AnnotationsA11y.js"],t["Core/Renderer/HTML/AST.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Core/FormatUtilities.js"],t["Core/Globals.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Core/Utilities.js"]],function(c,t,i,e,s,n,o,r,a,l){var h,u,p=this&&this.__extends||(h=function(t,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}h(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),d=e.getAnnotationsInfoHTML,m=n.getAxisDescription,g=n.getAxisRangeDescription,y=n.getChartTitle,f=n.unhideChartElementFromAT,b=o.format,v=r.doc,x=a.addClass,A=a.getElement,w=a.getHeadingTagNameForElement,C=a.stripHTMLTagsFromString,E=a.visuallyHideElement,T=l.attr,S=l.pick;return p(P,u=t),P.prototype.init=function(){var t=this.chart,e=this;this.initRegionsDefinitions(),this.addEvent(t,"aftergetTableAST",function(t){e.onDataTableCreated(t)}),this.addEvent(t,"afterViewData",function(t){e.dataTableDiv=t,setTimeout(function(){e.focusDataTable()},300)}),this.announcer=new i(t,"assertive")},P.prototype.initRegionsDefinitions=function(){var i=this;this.screenReaderSections={before:{element:null,buildContent:function(t){var e=t.options.accessibility.screenReaderSection.beforeChartFormatter;return e?e(t):i.defaultBeforeChartFormatter(t)},insertIntoDOM:function(t,e){e.renderTo.insertBefore(t,e.renderTo.firstChild)},afterInserted:function(){void 0!==i.sonifyButtonId&&i.initSonifyButton(i.sonifyButtonId),void 0!==i.dataTableButtonId&&i.initDataTableButton(i.dataTableButtonId)}},after:{element:null,buildContent:function(t){var e=t.options.accessibility.screenReaderSection.afterChartFormatter;return e?e(t):i.defaultAfterChartFormatter()},insertIntoDOM:function(t,e){e.renderTo.insertBefore(t,e.container.nextSibling)},afterInserted:function(){i.chart.accessibility&&i.chart.accessibility.keyboardNavigation.updateExitAnchor()}}}},P.prototype.onChartRender=function(){var e=this;this.linkedDescriptionElement=this.getLinkedDescriptionElement(),this.setLinkedDescriptionAttrs(),Object.keys(this.screenReaderSections).forEach(function(t){e.updateScreenReaderSection(t)})},P.prototype.getLinkedDescriptionElement=function(){var t=this.chart.options.accessibility.linkedDescription;if(t)return"string"!=typeof t?t:(t=b(t,this.chart),1===(t=v.querySelectorAll(t)).length?t[0]:void 0)},P.prototype.setLinkedDescriptionAttrs=function(){var t=this.linkedDescriptionElement;t&&(t.setAttribute("aria-hidden","true"),x(t,"highcharts-linked-description"))},P.prototype.updateScreenReaderSection=function(t){var e=this.chart,i=this.screenReaderSections[t],n=i.buildContent(e),o=i.element=i.element||this.createElement("div"),r=o.firstChild||this.createElement("div");n?(this.setScreenReaderSectionAttribs(o,t),s.setElementHTML(r,n),o.appendChild(r),i.insertIntoDOM(o,e),e.styledMode?x(r,"highcharts-visually-hidden"):E(r),f(e,r),i.afterInserted&&i.afterInserted()):(o.parentNode&&o.parentNode.removeChild(o),delete i.element)},P.prototype.setScreenReaderSectionAttribs=function(t,e){var i=this.chart,n=i.langFormat("accessibility.screenReaderSection."+e+"RegionLabel",{chart:i,chartTitle:y(i)});T(t,{id:"highcharts-screen-reader-region-"+e+"-"+i.index,"aria-label":n}),t.style.position="relative","all"===i.options.accessibility.landmarkVerbosity&&n&&t.setAttribute("role","region")},P.prototype.defaultBeforeChartFormatter=function(){var t=(a=this.chart).options.accessibility.screenReaderSection.beforeChartFormat;if(!t)return"";var e=this.getAxesDescription(),i=a.sonify&&a.options.sonification&&a.options.sonification.enabled,n="highcharts-a11y-sonify-data-btn-"+a.index,o="hc-linkto-highcharts-data-table-"+a.index,r=d(a),s=a.langFormat("accessibility.screenReaderSection.annotations.heading",{chart:a}),e={headingTagName:w(a.renderTo),chartTitle:y(a),typeDescription:this.getTypeDescriptionText(),chartSubtitle:this.getSubtitleText(),chartLongdesc:this.getLongdescText(),xAxisDescription:e.xAxis,yAxisDescription:e.yAxis,playAsSoundButton:i?this.getSonifyButtonText(n):"",viewTableButton:a.getCSV?this.getDataTableButtonText(o):"",annotationsTitle:r?s:"",annotationsList:r},a=c.i18nFormat(t,e,a);return this.dataTableButtonId=o,this.sonifyButtonId=n,a.replace(/<(\w+)[^>]*?>\s*<\/\1>/g,"")},P.prototype.defaultAfterChartFormatter=function(){var t=this.chart,e=t.options.accessibility.screenReaderSection.afterChartFormat;if(!e)return"";var i={endOfChartMarker:this.getEndOfChartMarkerText()};return c.i18nFormat(e,i,t).replace(/<(\w+)[^>]*?>\s*<\/\1>/g,"")},P.prototype.getLinkedDescription=function(){var t=this.linkedDescriptionElement;return C(t&&t.innerHTML||"")},P.prototype.getLongdescText=function(){var t=this.chart.options,e=(e=t.caption)&&e.text,i=this.getLinkedDescription();return t.accessibility.description||i||e||""},P.prototype.getTypeDescriptionText=function(){var t=this.chart;return t.types?t.options.accessibility.typeDescription||function(t,e){var i=e[0],n=t.series&&t.series[0]||{},n={numSeries:t.series.length,numPoints:n.points&&n.points.length,chart:t,mapTitle:n.mapTitle};if(!i)return t.langFormat("accessibility.chartTypes.emptyChart",n);if("map"===i)return n.mapTitle?t.langFormat("accessibility.chartTypes.mapTypeDescription",n):t.langFormat("accessibility.chartTypes.unknownMap",n);if(1<t.types.length)return t.langFormat("accessibility.chartTypes.combinationChart",n);e=e[0];var i=t.langFormat("accessibility.seriesTypeDescriptions."+e,n),o=t.series&&t.series.length<2?"Single":"Multiple";return(t.langFormat("accessibility.chartTypes."+e+o,n)||t.langFormat("accessibility.chartTypes.default"+o,n))+(i?" "+i:"")}(t,t.types):""},P.prototype.getDataTableButtonText=function(t){var e=this.chart;return'<button id="'+t+'">'+(e=e.langFormat("accessibility.table.viewAsDataTableButtonText",{chart:e,chartTitle:y(e)}))+"</button>"},P.prototype.getSonifyButtonText=function(t){var e=this.chart;return e.options.sonification&&!1===e.options.sonification.enabled?"":'<button id="'+t+'">'+(e=e.langFormat("accessibility.sonification.playAsSoundButtonText",{chart:e,chartTitle:y(e)}))+"</button>"},P.prototype.getSubtitleText=function(){var t=this.chart.options.subtitle;return C(t&&t.text||"")},P.prototype.getEndOfChartMarkerText=function(){var t=this.chart,e=t.langFormat("accessibility.screenReaderSection.endOfChartMarker",{chart:t});return'<div id="highcharts-end-of-chart-marker-'+t.index+'">'+e+"</div>"},P.prototype.onDataTableCreated=function(t){var e,i=this.chart;i.options.accessibility.enabled&&(this.viewDataTableButton&&this.viewDataTableButton.setAttribute("aria-expanded","true"),(e=t.tree.attributes||{}).tabindex=-1,e.summary=i.langFormat("accessibility.table.tableSummary",{chart:i}),t.tree.attributes=e)},P.prototype.focusDataTable=function(){var t=this.dataTableDiv;(t=t&&t.getElementsByTagName("table")[0])&&t.focus&&t.focus()},P.prototype.initSonifyButton=function(t){var e=this,i=this.sonifyButton=A(t),n=this.chart;i&&n&&(i.setAttribute("tabindex",-1),i.onclick=function(t){(n.options.accessibility&&n.options.accessibility.screenReaderSection.onPlayAsSoundClick||function(t){i&&(i.setAttribute("aria-hidden","true"),i.setAttribute("aria-label","")),t.preventDefault(),t.stopPropagation(),t=n.langFormat("accessibility.sonification.playAsSoundClickAnnouncement",{chart:n}),e.announcer.announce(t),setTimeout(function(){i&&(i.removeAttribute("aria-hidden"),i.removeAttribute("aria-label")),n.sonify&&n.sonify()},1e3)}).call(this,t,n)})},P.prototype.initDataTableButton=function(t){var e=this.viewDataTableButton=A(t),i=this.chart;t=t.replace("hc-linkto-",""),e&&(T(e,{tabindex:-1,"aria-expanded":!!A(t)}),e.onclick=i.options.accessibility.screenReaderSection.onViewDataTableClick||function(){i.viewData()})},P.prototype.getAxesDescription=function(){var i=this.chart,t=function(t,e){return 1<(t=i[t]).length||t[0]&&S(t[0].options.accessibility&&t[0].options.accessibility.enabled,e)},e=!!i.types&&i.types.indexOf("map")<0,n=!!i.hasCartesianSeries,o=t("xAxis",!i.angular&&n&&e),t=t("yAxis",n&&e),e={};return o&&(e.xAxis=this.getAxisDescriptionText("xAxis")),t&&(e.yAxis=this.getAxisDescriptionText("yAxis")),e},P.prototype.getAxisDescriptionText=function(t){var e=this.chart,i=e[t];return e.langFormat("accessibility.axis."+t+"Description"+(1<i.length?"Plural":"Singular"),{chart:e,names:i.map(function(t){return m(t)}),ranges:i.map(function(t){return g(t)}),numAxes:i.length})},P.prototype.destroy=function(){this.announcer&&this.announcer.destroy()},P;function P(){var t=null!==u&&u.apply(this,arguments)||this;return t.announcer=void 0,t.screenReaderSections={},t}}),e(t,"Accessibility/Components/MenuComponent.js",[t["Core/Chart/Chart.js"],t["Core/Utilities.js"],t["Accessibility/AccessibilityComponent.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(e,t,i,o,n,r){var s,a,c,l=this&&this.__extends||(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),h=t.attr,u=n.getChartTitle,p=n.unhideChartElementFromAT,d=r.getFakeMouseEvent;function m(){return null!==a&&a.apply(this,arguments)||this}function g(){var t=this.exportSVGElements&&this.exportSVGElements[0];t&&(t=t.element).onclick&&t.onclick(d("click"))}function y(){var t=this.exportDivElements;t&&this.exportContextMenu&&(t.forEach(function(t){t&&"highcharts-menu-item"===t.className&&t.onmouseout&&t.onmouseout(d("mouseout"))}),this.highlightedExportItemIx=0,this.exportContextMenu.hideMenu(),this.container.focus())}function f(t){var e=this.exportDivElements&&this.exportDivElements[t],i=this.exportDivElements&&this.exportDivElements[this.highlightedExportItemIx];if(!e||"LI"!==e.tagName||e.children&&e.children.length)return!1;var n=!!(this.renderTo.getElementsByTagName("g")[0]||{}).focus;return e.focus&&n&&e.focus(),i&&i.onmouseout&&i.onmouseout(d("mouseout")),e.onmouseover&&e.onmouseover(d("mouseover")),this.highlightedExportItemIx=t,!0}function b(){if(this.exportDivElements)for(var t=this.exportDivElements.length;t--;)if(this.highlightExportItem(t))return!0;return!1}return l(m,a=i),m.prototype.init=function(){var t=this.chart,e=this;this.addEvent(t,"exportMenuShown",function(){e.onMenuShown()}),this.addEvent(t,"exportMenuHidden",function(){e.onMenuHidden()}),this.createProxyGroup()},m.prototype.onMenuHidden=function(){var t=this.chart.exportContextMenu;t&&t.setAttribute("aria-hidden","true"),this.isExportMenuShown=!1,this.setExportButtonExpandedState("false")},m.prototype.onMenuShown=function(){var t=this.chart,e=t.exportContextMenu;e&&(this.addAccessibleContextMenuAttribs(),p(t,e)),this.isExportMenuShown=!0,this.setExportButtonExpandedState("true")},m.prototype.setExportButtonExpandedState=function(t){this.exportButtonProxy&&this.exportButtonProxy.buttonElement.setAttribute("aria-expanded",t)},m.prototype.onChartRender=function(){var t=this.chart,e=t.focusElement,i=t.accessibility;this.proxyProvider.clearGroup("chartMenu"),this.proxyMenuButton(),this.exportButtonProxy&&e&&e===t.exportingGroup&&(e.focusBorder?t.setFocusToElement(e,this.exportButtonProxy.buttonElement):i&&i.keyboardNavigation.tabindexContainer.focus())},m.prototype.proxyMenuButton=function(){var t=this.chart,e=this.proxyProvider,i=t.exportSVGElements&&t.exportSVGElements[0],n=t.options.exporting,o=t.exportSVGElements&&t.exportSVGElements[0];n&&!1!==n.enabled&&n.accessibility&&n.accessibility.enabled&&o&&o.element&&i&&(this.exportButtonProxy=e.addProxyElement("chartMenu",{click:i},{"aria-label":t.langFormat("accessibility.exporting.menuButtonLabel",{chart:t,chartTitle:u(t)}),"aria-expanded":!1}))},m.prototype.createProxyGroup=function(){this.chart&&this.proxyProvider&&this.proxyProvider.addGroup("chartMenu","div")},m.prototype.addAccessibleContextMenuAttribs=function(){var t=this.chart,e=t.exportDivElements;e&&e.length&&(e.forEach(function(t){t&&("LI"!==t.tagName||t.children&&t.children.length?t.setAttribute("aria-hidden","true"):t.setAttribute("tabindex",-1))}),(e=e[0]&&e[0].parentNode)&&h(e,{"aria-hidden":void 0,"aria-label":t.langFormat("accessibility.exporting.chartMenuLabel",{chart:t}),role:"list"}))},m.prototype.getKeyboardNavigation=function(){var t=this.keyCodes,i=this.chart,n=this;return new o(i,{keyCodeMap:[[[t.left,t.up],function(){return n.onKbdPrevious(this)}],[[t.right,t.down],function(){return n.onKbdNext(this)}],[[t.enter,t.space],function(){return n.onKbdClick(this)}]],validate:function(){return!!i.exporting&&!1!==i.options.exporting.enabled&&!1!==i.options.exporting.accessibility.enabled},init:function(){var t=n.exportButtonProxy,e=n.chart.exportingGroup;t&&e&&i.setFocusToElement(e,t.buttonElement)},terminate:function(){i.hideExportMenu()}})},m.prototype.onKbdPrevious=function(t){var e=this.chart,i=e.options.accessibility;t=t.response;for(var n=e.highlightedExportItemIx||0;n--;)if(e.highlightExportItem(n))return t.success;return i.keyboardNavigation.wrapAround?(e.highlightLastExportItem(),t.success):t.prev},m.prototype.onKbdNext=function(t){var e=this.chart,i=e.options.accessibility;t=t.response;for(var n=(e.highlightedExportItemIx||0)+1;n<e.exportDivElements.length;++n)if(e.highlightExportItem(n))return t.success;return i.keyboardNavigation.wrapAround?(e.highlightExportItem(0),t.success):t.next},m.prototype.onKbdClick=function(t){var e=this.chart,i=e.exportDivElements[e.highlightedExportItemIx],n=(e.exportSVGElements&&e.exportSVGElements[0]).element;return this.isExportMenuShown?this.fakeClickEvent(i):(this.fakeClickEvent(n),e.highlightExportItem(0)),t.response.success},t=(t=m)||{},c=[],t.compose=function(t){-1===c.indexOf(t)&&(c.push(t),(t=e.prototype).hideExportMenu=y,t.highlightExportItem=f,t.highlightLastExportItem=b,t.showExportMenu=g)},t}),e(t,"Accessibility/KeyboardNavigation.js",[t["Core/Globals.js"],t["Accessibility/Components/MenuComponent.js"],t["Core/Utilities.js"],t["Accessibility/Utils/EventProvider.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(e,i,t,o,n){var r,s=e.doc,a=e.win,c=t.addEvent,l=t.fireEvent,h=n.getElement;function u(t,e){this.components=this.chart=void 0,this.currentModuleIx=NaN,this.exitAnchor=this.eventProvider=void 0,this.modules=[],this.tabindexContainer=void 0,this.init(t,e)}function p(){var t=this;l(this,"dismissPopupContent",{},function(){t.tooltip&&t.tooltip.hide(0),t.hideExportMenu()})}function d(t){27===(t.which||t.keyCode)&&e.charts&&e.charts.forEach(function(t){t&&t.dismissPopupContent&&t.dismissPopupContent()})}return u.prototype.init=function(e,t){var i=this,n=this.eventProvider=new o;this.chart=e,this.components=t,this.modules=[],this.currentModuleIx=0,this.update(),n.addEvent(this.tabindexContainer,"keydown",function(t){return i.onKeydown(t)}),n.addEvent(this.tabindexContainer,"focus",function(t){return i.onFocus(t)}),["mouseup","touchend"].forEach(function(t){return n.addEvent(s,t,function(){return i.onMouseUp()})}),["mousedown","touchstart"].forEach(function(t){return n.addEvent(e.renderTo,t,function(){i.isClickingChart=!0})}),n.addEvent(e.renderTo,"mouseover",function(){i.pointerIsOverChart=!0}),n.addEvent(e.renderTo,"mouseout",function(){i.pointerIsOverChart=!1})},u.prototype.update=function(t){var e=(e=this.chart.options.accessibility)&&e.keyboardNavigation,i=this.components;this.updateContainerTabindex(),e&&e.enabled&&t&&t.length?(this.modules=t.reduce(function(t,e){return e=i[e].getKeyboardNavigation(),t.concat(e)},[]),this.updateExitAnchor()):(this.modules=[],this.currentModuleIx=0,this.removeExitAnchor())},u.prototype.onFocus=function(t){var e=this.chart;t=t.relatedTarget&&e.container.contains(t.relatedTarget),this.exiting||this.tabbingInBackwards||this.isClickingChart||t||!this.modules[0]||this.modules[0].init(1),this.exiting=!1},u.prototype.onMouseUp=function(){var t,e;delete this.isClickingChart,this.keyboardReset||this.pointerIsOverChart||(t=this.chart,(e=this.modules&&this.modules[this.currentModuleIx||0])&&e.terminate&&e.terminate(),t.focusElement&&t.focusElement.removeFocusBorder(),this.currentModuleIx=0,this.keyboardReset=!0)},u.prototype.onKeydown=function(t){t=t||a.event;var e,i,n=this.modules&&this.modules.length&&this.modules[this.currentModuleIx];this.exiting=this.keyboardReset=!1,n&&((i=n.run(t))===n.response.success?e=!0:i===n.response.prev?e=this.prev():i===n.response.next&&(e=this.next()),e&&(t.preventDefault(),t.stopPropagation()))},u.prototype.prev=function(){return this.move(-1)},u.prototype.next=function(){return this.move(1)},u.prototype.move=function(t){var e=this.modules&&this.modules[this.currentModuleIx];if(e&&e.terminate&&e.terminate(t),this.chart.focusElement&&this.chart.focusElement.removeFocusBorder(),this.currentModuleIx+=t,e=this.modules&&this.modules[this.currentModuleIx]){if(e.validate&&!e.validate())return this.move(t);if(e.init)return e.init(t),!0}return this.currentModuleIx=0,this.exiting=!0,(0<t?this.exitAnchor:this.tabindexContainer).focus(),!1},u.prototype.updateExitAnchor=function(){var t=h("highcharts-end-of-chart-marker-"+this.chart.index);this.removeExitAnchor(),t?(this.makeElementAnExitAnchor(t),this.exitAnchor=t):this.createExitAnchor()},u.prototype.updateContainerTabindex=function(){var t=this.chart.options.accessibility;t=!((t=t&&t.keyboardNavigation)&&!1===t.enabled);var e=this.chart,i=e.container;e.renderTo.hasAttribute("tabindex")&&(i.removeAttribute("tabindex"),i=e.renderTo);var n=(this.tabindexContainer=i).getAttribute("tabindex");t&&!n?i.setAttribute("tabindex","0"):t||e.container.removeAttribute("tabindex")},u.prototype.makeElementAnExitAnchor=function(t){var e=this.tabindexContainer.getAttribute("tabindex")||0;t.setAttribute("class","highcharts-exit-anchor"),t.setAttribute("tabindex",e),t.setAttribute("aria-hidden",!1),this.addExitAnchorEventsToEl(t)},u.prototype.createExitAnchor=function(){var t=this.chart,e=this.exitAnchor=s.createElement("div");t.renderTo.appendChild(e),this.makeElementAnExitAnchor(e)},u.prototype.removeExitAnchor=function(){this.exitAnchor&&this.exitAnchor.parentNode&&(this.exitAnchor.parentNode.removeChild(this.exitAnchor),delete this.exitAnchor)},u.prototype.addExitAnchorEventsToEl=function(t){var e=this.chart,i=this;this.eventProvider.addEvent(t,"focus",function(t){(t=t||a.event).relatedTarget&&e.container.contains(t.relatedTarget)||i.exiting?i.exiting=!1:(i.tabbingInBackwards=!0,i.tabindexContainer.focus(),delete i.tabbingInBackwards,t.preventDefault(),i.modules&&i.modules.length&&(i.currentModuleIx=i.modules.length-1,(t=i.modules[i.currentModuleIx])&&t.validate&&!t.validate()?i.prev():t&&t.init(-1)))})},u.prototype.destroy=function(){this.removeExitAnchor(),this.eventProvider.removeAddedEvents(),this.chart.container.removeAttribute("tabindex")},t=(t=u)||{},r=[],t.compose=function(t){return i.compose(t),-1===r.indexOf(t)&&(r.push(t),t.prototype.dismissPopupContent=p),-1===r.indexOf(s)&&(r.push(s),c(s,"keydown",d)),t},t}),e(t,"Accessibility/Components/LegendComponent.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Globals.js"],t["Core/Legend/Legend.js"],t["Core/Utilities.js"],t["Accessibility/AccessibilityComponent.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(t,n,i,e,o,r,s,a){function c(t){var e=t.legend&&t.legend.allItems,i=t.options.legend.accessibility||{};return e&&e.length&&(!t.colorAxis||!t.colorAxis.length)&&!1!==i.enabled}var l,h,u,p=this&&this.__extends||(l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),d=t.animObject,m=e.addEvent,g=e.fireEvent,y=e.isNumber,f=e.pick,b=e.syncTimeout,v=s.getChartTitle,x=a.stripHTMLTagsFromString,A=a.addClass,w=a.removeClass;function C(){var t=null!==h&&h.apply(this,arguments)||this;return t.highlightedLegendItemIx=NaN,t}function E(t){var e=this.legend.allItems,i=this.accessibility&&this.accessibility.components.legend.highlightedLegendItemIx,n=e[t];return!!n&&(y(i)&&e[i]&&g(e[i].legendGroup.element,"mouseout"),t=(e=this.legend).allItems[t].pageIx,i=e.currentPage,void 0!==t&&t+1!==i&&e.scroll(1+t-i),t=n.legendItem,e=n.a11yProxyElement&&n.a11yProxyElement.buttonElement,t&&t.element&&e&&this.setFocusToElement(t,e),n.legendGroup&&g(n.legendGroup.element,"mouseover"),!0)}function T(t){var e=t.item;this.chart.options.accessibility.enabled&&e&&e.a11yProxyElement&&e.a11yProxyElement.buttonElement.setAttribute("aria-pressed",t.visible?"true":"false")}return p(C,h=o),C.prototype.init=function(){var e=this;this.recreateProxies(),this.addEvent(i,"afterScroll",function(){this.chart===e.chart&&(e.proxyProvider.updateGroupProxyElementPositions("legend"),e.updateLegendItemProxyVisibility(),-1<e.highlightedLegendItemIx&&this.chart.highlightLegendItem(e.highlightedLegendItemIx))}),this.addEvent(i,"afterPositionItem",function(t){this.chart===e.chart&&this.chart.renderer&&e.updateProxyPositionForItem(t.item)}),this.addEvent(i,"afterRender",function(){this.chart===e.chart&&this.chart.renderer&&e.recreateProxies()&&b(function(){return e.proxyProvider.updateGroupProxyElementPositions("legend")},d(f(this.chart.renderer.globalAnimation,!0)).duration)})},C.prototype.updateLegendItemProxyVisibility=function(){var n=this.chart,o=n.legend,r=o.currentPage||1,s=o.clipHeight||0;(o.allItems||[]).forEach(function(t){var e,i;t.a11yProxyElement&&(e=t.a11yProxyElement.element,i=!1,o.pages&&o.pages.length&&(i=t.pageIx||0,i=(t._legendItemPos?t._legendItemPos[1]:0)+(t=t.legendItem?Math.round(t.legendItem.getBBox().height):0)-o.pages[i]>s||i!==r-1),i?n.styledMode?A(e,"highcharts-a11y-invisible"):e.style.visibility="hidden":(w(e,"highcharts-a11y-invisible"),e.style.visibility=""))})},C.prototype.onChartRender=function(){c(this.chart)||this.removeProxies()},C.prototype.highlightAdjacentLegendPage=function(t){var e=this.chart,i=e.legend;t=(i.currentPage||1)+t;var n=i.pages||[];if(0<t&&t<=n.length)for(var n=i.allItems.length,o=0;o<n;++o)if(i.allItems[o].pageIx+1===t){e.highlightLegendItem(o)&&(this.highlightedLegendItemIx=o);break}},C.prototype.updateProxyPositionForItem=function(t){t.a11yProxyElement&&t.a11yProxyElement.refreshPosition()},C.prototype.recreateProxies=function(){return this.removeProxies(),!!c(this.chart)&&(this.addLegendProxyGroup(),this.proxyLegendItems(),this.updateLegendItemProxyVisibility(),this.updateLegendTitle(),!0)},C.prototype.removeProxies=function(){this.proxyProvider.removeGroup("legend")},C.prototype.updateLegendTitle=function(){var t=this.chart,e=x((t.legend&&t.legend.options.title&&t.legend.options.title.text||"").replace(/<br ?\/?>/g," ")),t=t.langFormat("accessibility.legend.legendLabel"+(e?"":"NoTitle"),{chart:t,legendTitle:e,chartTitle:v(t)});this.proxyProvider.updateGroupAttrs("legend",{"aria-label":t})},C.prototype.addLegendProxyGroup=function(){this.proxyProvider.addGroup("legend","ul",{"aria-label":"_placeholder_",role:"all"===this.chart.options.accessibility.landmarkVerbosity?"region":null})},C.prototype.proxyLegendItems=function(){var e=this;(this.chart.legend&&this.chart.legend.allItems||[]).forEach(function(t){t.legendItem&&t.legendItem.element&&e.proxyLegendItem(t)})},C.prototype.proxyLegendItem=function(t){var e;t.legendItem&&t.legendGroup&&(e=this.chart.langFormat("accessibility.legend.legendItem",{chart:this.chart,itemName:x(t.name),item:t}),t.a11yProxyElement=this.proxyProvider.addProxyElement("legend",{click:t.legendItem,visual:(t.legendGroup.div?t.legendItem:t.legendGroup).element},{tabindex:-1,"aria-pressed":t.visible,"aria-label":e}))},C.prototype.getKeyboardNavigation=function(){var e=this.keyCodes,i=this,t=this.chart;return new r(t,{keyCodeMap:[[[e.left,e.right,e.up,e.down],function(t){return i.onKbdArrowKey(this,t)}],[[e.enter,e.space],function(t){return n.isFirefox&&t===e.space?this.response.success:i.onKbdClick(this)}],[[e.pageDown,e.pageUp],function(t){return i.highlightAdjacentLegendPage(t===e.pageDown?1:-1),this.response.success}]],validate:function(){return i.shouldHaveLegendNavigation()},init:function(t){return i.onKbdNavigationInit(t)},terminate:function(){i.highlightedLegendItemIx=-1,t.legend.allItems.forEach(function(t){return t.setState("",!0)})}})},C.prototype.onKbdArrowKey=function(t,e){var i=this.keyCodes,n=t.response,o=this.chart,r=o.options.accessibility,s=o.legend.allItems.length;return e=e===i.left||e===i.up?-1:1,o.highlightLegendItem(this.highlightedLegendItemIx+e)?(this.highlightedLegendItemIx+=e,n.success):1<s&&r.keyboardNavigation.wrapAround?(t.init(e),n.success):n[0<e?"next":"prev"]},C.prototype.onKbdClick=function(t){var e=this.chart.legend.allItems[this.highlightedLegendItemIx];return e&&e.a11yProxyElement&&e.a11yProxyElement.click(),t.response.success},C.prototype.shouldHaveLegendNavigation=function(){var t=this.chart,e=t.colorAxis&&t.colorAxis.length,i=(t.options.legend||{}).accessibility||{};return!!(t.legend&&t.legend.allItems&&t.legend.display&&!e&&i.enabled&&i.keyboardNavigation&&i.keyboardNavigation.enabled)},C.prototype.onKbdNavigationInit=function(t){var e=this.chart,i=e.legend.allItems.length-1;e.highlightLegendItem(t=0<t?0:i),this.highlightedLegendItemIx=t},t=(t=C)||{},u=[],t.compose=function(t,e){-1===u.indexOf(t)&&(u.push(t),t.prototype.highlightLegendItem=E),-1===u.indexOf(e)&&(u.push(e),m(e,"afterColorizeItem",T))},t}),e(t,"Accessibility/Components/SeriesComponent/SeriesDescriber.js",[t["Accessibility/Components/AnnotationsA11y.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Core/FormatUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Core/Utilities.js"]],function(t,e,i,n,o){function a(t){var e=t.chart.options.accessibility.series.pointDescriptionEnabledThreshold;return!1!==e&&t.points&&t.points.length>=e}function y(t,e){t=(o=(n=t.series).chart).options.accessibility.point||{};var i=n.options.accessibility&&n.options.accessibility.point||{},n=n.tooltipOptions||{},o=o.options.lang;return A(e)?m(e,i.valueDecimals||t.valueDecimals||n.valueDecimals||-1,o.decimalPoint,o.accessibility.thousandsSep||o.thousandsSep):e}function c(t,e){return t.chart.langFormat("accessibility.series."+e+"Description",{name:r(t[e]),series:t})}function l(t){var e,i,n,o,r=t.series,s=r.chart,a=t.series,c=a.chart,l=(l=a.options.accessibility)&&l.point&&l.point.valueDescriptionFormat||c.options.accessibility.point.valueDescriptionFormat;e=(a=w(a.xAxis&&a.xAxis.options.accessibility&&a.xAxis.options.accessibility.enabled,!c.angular))?(e=(o=t.series).chart,i=o.options.accessibility&&o.options.accessibility.point||{},n=e.options.accessibility.point||{},e=(o=o.xAxis&&o.xAxis.dateTime)?(o=o.getXDateFormat(t.x||0,e.options.tooltip.dateTimeLabelFormats),i=i.dateFormatter&&i.dateFormatter(t)||n.dateFormatter&&n.dateFormatter(t)||i.dateFormat||n.dateFormat||o,e.time.dateFormat(i,t.x||0,void 0)):void 0,i=(t.series.xAxis||{}).categories&&C(t.category)&&(""+t.category).replace("<br/>"," "),n=t.id&&t.id.indexOf("highcharts-")<0,o="x, "+t.x,t.name||e||i||(n?t.id:o)):"",i=C(t.index)?t.index+1:"";var h,u,p,d=(n=t.series).chart.options.accessibility.point||{},m=n.chart.options.accessibility&&n.chart.options.accessibility.point||{},g=n.tooltipOptions||{};return o=m.valuePrefix||d.valuePrefix||g.valuePrefix||"",d=m.valueSuffix||d.valueSuffix||g.valueSuffix||"",m=y(t,t[void 0!==t.value?"value":"y"]),n=t.isNull?n.chart.langFormat("accessibility.series.nullPointValue",{point:t}):n.pointArrayMap?(u=o||"",p=d||"",(h=t).series.pointArrayMap.reduce(function(t,e){t+=t.length?", ":"";var i=y(h,w(h[e],h.options[e]));return t+(e+": ")+u+i+p},"")):o+m+d,c=b(l,{point:t,index:i,xDescription:e,value:n,separator:a?", ":""},c),l=(l=t.options&&t.options.accessibility&&t.options.accessibility.description)?" "+l:"",r=1<s.series.length&&r.name?" "+r.name+".":"",s=t.series.chart,e={point:t,annotations:a=f(t)},s=a.length?s.langFormat("accessibility.series.pointAnnotationsDescription",e):"",t.accessibility=t.accessibility||{},(t.accessibility.valueDescription=c)+l+r+(s?" "+s:"")}function s(r){var t,e,s=(e=r.options.accessibility||{},!a(r)&&!e.exposeAsGroupOnly),e=(e=(t=r).chart.options.accessibility.keyboardNavigation.seriesNavigation,!(!t.points||!(t.points.length<e.pointNavigationEnabledThreshold||!1===e.pointNavigationEnabledThreshold)));(s||e)&&r.points.forEach(function(t){var e,i,n,o;!(e=t.graphic&&t.graphic.element)&&(e=t.series&&t.series.is("sunburst"),e=t.isNull&&!e)&&(i=t.series,i=(e=(n=(o=(n=t).index,n.series&&n.series.data&&C(o)&&x(n.series.data,function(t){return!!(t&&void 0!==t.index&&t.index>o&&t.graphic&&t.graphic.element)})||null))&&n.graphic)?e.parentGroup:i.graph||i.group,n=n?{x:w(t.plotX,n.plotX,0),y:w(t.plotY,n.plotY,0)}:{x:w(t.plotX,0),y:w(t.plotY,0)},(n=t.series.chart.renderer.rect(n.x,n.y,1,1)).attr({class:"highcharts-a11y-dummy-point",fill:"none",opacity:0,"fill-opacity":0,"stroke-opacity":0}),e=i&&i.element?(t.graphic=n,t.hasDummyGraphic=!0,n.add(i),i.element.insertBefore(n.element,e?e.element:null),n.element):void 0),i=t.options&&t.options.accessibility&&!1===t.options.accessibility.enabled,e&&(e.setAttribute("tabindex","-1"),r.chart.styledMode||(e.style.outline="none"),s&&!i?(i=(n=t.series).chart.options.accessibility.point||{},n=n.options.accessibility&&n.options.accessibility.point||{},t=v(n.descriptionFormatter&&n.descriptionFormatter(t)||i.descriptionFormatter&&i.descriptionFormatter(t)||l(t)),e.setAttribute("role","img"),e.setAttribute("aria-label",t)):e.setAttribute("aria-hidden",!0))})}function h(e){function t(t){return o[t]&&1<o[t].length&&e[t]}var i,n,o=e.chart,r=o.types||[],s=(n=((i=e).options.accessibility||{}).description)&&i.chart.langFormat("accessibility.series.description",{description:n,series:i})||"",a=c(e,"xAxis"),n=c(e,"yAxis"),i={name:e.name||"",ix:e.index+1,numSeries:o.series&&o.series.length,numPoints:e.points&&e.points.length,series:e},r=1<r.length?"Combination":"";return(o.langFormat("accessibility.series.summary."+e.type+r,i)||o.langFormat("accessibility.series.summary.default"+r,i))+(s?" "+s:"")+(t("yAxis")?" "+n:"")+(t("xAxis")?" "+a:"")}var f=t.getPointAnnotationTexts,r=e.getAxisDescription,u=e.getSeriesFirstPointElement,p=e.getSeriesA11yElement,d=e.unhideChartElementFromAT,b=i.format,m=i.numberFormat,g=n.reverseChildNodes,v=n.stripHTMLTagsFromString,x=o.find,A=o.isNumber,w=o.pick,C=o.defined;return{defaultPointDescriptionFormatter:l,defaultSeriesDescriptionFormatter:h,describeSeries:function(t){var e,i=t.chart,n=u(t),o=p(t),r=i.is3d&&i.is3d();o&&(o.lastChild!==n||r||g(o),s(t),d(i,o),i=(r=t.chart).options.chart,n=1<r.series.length,r=r.options.accessibility.series.describeSingleSeries,e=(t.options.accessibility||{}).exposeAsGroupOnly,i.options3d&&i.options3d.enabled&&n||!(n||r||e||a(t))?o.setAttribute("aria-label",""):(n=(i=t.chart.options.accessibility).landmarkVerbosity,(t.options.accessibility||{}).exposeAsGroupOnly?o.setAttribute("role","img"):"all"===n&&o.setAttribute("role","region"),o.setAttribute("tabindex","-1"),t.chart.styledMode||(o.style.outline="none"),o.setAttribute("aria-label",v(i.series.descriptionFormatter&&i.series.descriptionFormatter(t)||h(t)))))}}}),e(t,"Accessibility/Components/SeriesComponent/NewDataAnnouncer.js",[t["Core/Globals.js"],t["Core/Utilities.js"],t["Accessibility/Utils/Announcer.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/EventProvider.js"],t["Accessibility/Components/SeriesComponent/SeriesDescriber.js"]],function(r,t,i,e,n,o){var s,a=t.addEvent,c=t.defined,l=e.getChartTitle,h=o.defaultPointDescriptionFormatter,u=o.defaultSeriesDescriptionFormatter;function p(t){this.announcer=void 0,this.dirty={allSeries:{}},this.eventProvider=void 0,this.lastAnnouncementTime=0,this.chart=t}function d(t){var e=this.chart,i=this.newDataAnnouncer;i&&i.chart===e&&e.options.accessibility.announceNewData.enabled&&(i.dirty.newPoint=c(i.dirty.newPoint)?void 0:t.point)}function m(){var t=this.chart,e=this.newDataAnnouncer;e&&e.chart===t&&t.options.accessibility.announceNewData.enabled&&(e.dirty.hasDirty=!0,e.dirty.allSeries[this.name+this.index]=this)}return p.prototype.init=function(){var t=this.chart,e=t.options.accessibility.announceNewData.interruptUser?"assertive":"polite";this.lastAnnouncementTime=0,this.dirty={allSeries:{}},this.eventProvider=new n,this.announcer=new i(t,e),this.addEventListeners()},p.prototype.destroy=function(){this.eventProvider.removeAddedEvents(),this.announcer.destroy()},p.prototype.addEventListeners=function(){var e=this,t=this.chart,i=this.eventProvider;i.addEvent(t,"afterDrilldown",function(){e.lastAnnouncementTime=0}),i.addEvent(t,"afterAddSeries",function(t){e.onSeriesAdded(t.series)}),i.addEvent(t,"redraw",function(){e.announceDirtyData()})},p.prototype.onSeriesAdded=function(t){this.chart.options.accessibility.announceNewData.enabled&&(this.dirty.hasDirty=!0,this.dirty.allSeries[t.name+t.index]=t,this.dirty.newSeries=c(this.dirty.newSeries)?void 0:t)},p.prototype.announceDirtyData=function(){var t,e,i,n=this;this.chart.options.accessibility.announceNewData&&this.dirty.hasDirty&&((t=this.dirty.newPoint)&&(t=1===(i=(e=t).series.data.filter(function(t){return e.x===t.x&&e.y===t.y})).length?i[0]:e),this.queueAnnouncement(Object.keys(this.dirty.allSeries).map(function(t){return n.dirty.allSeries[t]}),this.dirty.newSeries,t),this.dirty={allSeries:{}})},p.prototype.queueAnnouncement=function(t,e,i){var n,o,r,s,a=this,c=this.chart.options.accessibility.announceNewData;c.enabled&&(n=+new Date,c=Math.max(0,c.minAnnounceInterval-(n-this.lastAnnouncementTime)),o=this.queuedAnnouncement&&this.queuedAnnouncement.series,r=t,s=(o||[]).concat(r||[]).reduce(function(t,e){return t[e.name+e.index]=e,t},{}),t=Object.keys(s).map(function(t){return s[t]}),(e=this.buildAnnouncementMessage(t,e,i))&&(this.queuedAnnouncement&&clearTimeout(this.queuedAnnouncementTimer),this.queuedAnnouncement={time:n,message:e,series:t},this.queuedAnnouncementTimer=setTimeout(function(){a&&a.announcer&&(a.lastAnnouncementTime=+new Date,a.announcer.announce(a.queuedAnnouncement.message),delete a.queuedAnnouncement,delete a.queuedAnnouncementTimer)},c)))},p.prototype.buildAnnouncementMessage=function(t,e,i){var n=this.chart,o=n.options.accessibility.announceNewData;return o.announcementFormatter&&!1!==(t=o.announcementFormatter(t,e,i))?t.length?t:null:(t=r.charts&&1<r.charts.length?"Multiple":"Single",t=e?"newSeriesAnnounce"+t:i?"newPointAnnounce"+t:"newDataAnnounce",o=l(n),n.langFormat("accessibility.announceNewData."+t,{chartTitle:o,seriesDesc:e?u(e):null,pointDesc:i?h(i):null,point:i,series:e}))},(s=t=(t=p)||{}).composedClasses=[],s.compose=function(t){-1===s.composedClasses.indexOf(t)&&(s.composedClasses.push(t),a(t,"addPoint",d),a(t,"updatedData",m))},t}),e(t,"Accessibility/ProxyElement.js",[t["Core/Globals.js"],t["Core/Utilities.js"],t["Accessibility/Utils/EventProvider.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(t,e,s,i,n){var a=t.doc,o=e.attr,r=e.css,c=e.merge,l=i.fireEventOnWrappedOrUnwrappedElement,h=n.cloneMouseEvent,u=n.cloneTouchEvent,p=n.getFakeMouseEvent,d=n.removeElement;return m.prototype.click=function(){var t=this.getTargetPosition();t.x+=t.width/2,t.y+=t.height/2,t=p("click",t),l(this.target.click,t)},m.prototype.updateTarget=function(t,e){this.target=t,this.updateCSSClassName(),o(this.buttonElement,c({"aria-label":this.getTargetAttr(t.click,"aria-label")},e)),this.eventProvider.removeAddedEvents(),this.addProxyEventsToButton(this.buttonElement,t.click),this.refreshPosition()},m.prototype.refreshPosition=function(){var t=this.getTargetPosition();r(this.buttonElement,{width:(t.width||1)+"px",height:(t.height||1)+"px",left:(Math.round(t.x)||0)+"px",top:(Math.round(t.y)||0)+"px"})},m.prototype.remove=function(){this.eventProvider.removeAddedEvents(),d(this.element)},m.prototype.updateCSSClassName=function(){var t=this.chart.legend;t=-1<((t=t.group&&t.group.div)&&t.className||"").indexOf("highcharts-no-tooltip");var e=-1<(this.getTargetAttr(this.target.click,"class")||"").indexOf("highcharts-no-tooltip");this.buttonElement.className=t||e?"highcharts-a11y-proxy-button highcharts-no-tooltip":"highcharts-a11y-proxy-button"},m.prototype.addProxyEventsToButton=function(e,n){var o=this;"click touchstart touchend touchcancel touchmove mouseover mouseenter mouseleave mouseout".split(" ").forEach(function(t){var i=0===t.indexOf("touch");o.eventProvider.addEvent(e,t,function(t){var e=(i?u:h)(t);n&&l(n,e),t.stopPropagation(),i||t.preventDefault()},{passive:!1})})},m.prototype.hideButtonVisually=function(t){r(t,{borderWidth:0,backgroundColor:"transparent",cursor:"pointer",outline:"none",opacity:.001,filter:"alpha(opacity=1)",zIndex:999,overflow:"hidden",padding:0,margin:0,display:"block",position:"absolute","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=1)"})},m.prototype.getTargetPosition=function(){var t=(t=this.target.click).element||t,e=this.target.visual||t;return(t=this.chart.renderTo)&&e&&e.getBoundingClientRect?(e=e.getBoundingClientRect(),t=t.getBoundingClientRect(),{x:e.left-t.left,y:e.top-t.top,width:e.right-e.left,height:e.bottom-e.top}):{x:0,y:0,width:1,height:1}},m.prototype.getTargetAttr=function(t,e){return(t.element||t).getAttribute(e)},m;function m(t,e,i,n){this.chart=t,this.target=e,i="ul"===(this.groupType=i),this.eventProvider=new s;var o=i?a.createElement("li"):null,r=this.buttonElement=a.createElement("button");t.styledMode||this.hideButtonVisually(r),o?(i&&!t.styledMode&&(o.style.listStyle="none"),o.appendChild(r),this.element=o):this.element=r,this.updateTarget(e,n)}}),e(t,"Accessibility/ProxyProvider.js",[t["Core/Globals.js"],t["Core/Utilities.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/DOMElementProvider.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Accessibility/ProxyElement.js"]],function(t,e,i,n,o,r){var s=t.doc,a=e.attr,c=e.css,l=i.unhideChartElementFromAT,h=o.removeElement,u=o.removeChildNodes;return p.prototype.addProxyElement=function(t,e,i){var n=this.groups[t];if(!n)throw Error("ProxyProvider.addProxyElement: Invalid group key "+t);return t=new r(this.chart,e,n.type,i),n.proxyContainerElement.appendChild(t.element),n.proxyElements.push(t),t},p.prototype.addGroup=function(t,e,i){var n,o;this.groups[t]||(n=this.domElementProvider.createElement(e),i&&i.role&&"div"!==e?(o=this.domElementProvider.createElement("div")).appendChild(n):o=n,o.className="highcharts-a11y-proxy-group highcharts-a11y-proxy-group-"+t.replace(/\W/g,"-"),this.groups[t]={proxyContainerElement:n,groupElement:o,type:e,proxyElements:[]},a(o,i||{}),"ul"===e&&n.setAttribute("role","list"),this.afterChartProxyPosContainer.appendChild(o),this.updateGroupOrder(this.groupOrder))},p.prototype.updateGroupAttrs=function(t,e){var i=this.groups[t];if(!i)throw Error("ProxyProvider.updateGroupAttrs: Invalid group key "+t);a(i.groupElement,e)},p.prototype.updateGroupOrder=function(t){var e,i,n,o=this;this.groupOrder=t.slice(),this.isDOMOrderGroupOrder()||(e=t.indexOf("series"),i=-1<e?t.slice(0,e):t,n=-1<e?t.slice(e+1):[],t=s.activeElement,["before","after"].forEach(function(t){var e=o["before"===t?"beforeChartProxyPosContainer":"afterChartProxyPosContainer"];t="before"===t?i:n,u(e),t.forEach(function(t){(t=o.groups[t])&&e.appendChild(t.groupElement)})}),(this.beforeChartProxyPosContainer.contains(t)||this.afterChartProxyPosContainer.contains(t))&&t&&t.focus&&t.focus())},p.prototype.clearGroup=function(t){var e=this.groups[t];if(!e)throw Error("ProxyProvider.clearGroup: Invalid group key "+t);u(e.proxyContainerElement)},p.prototype.removeGroup=function(t){var e=this.groups[t];e&&(h(e.groupElement),delete this.groups[t])},p.prototype.update=function(){this.updatePosContainerPositions(),this.updateGroupOrder(this.groupOrder),this.updateProxyElementPositions()},p.prototype.updateProxyElementPositions=function(){Object.keys(this.groups).forEach(this.updateGroupProxyElementPositions.bind(this))},p.prototype.updateGroupProxyElementPositions=function(t){(t=this.groups[t])&&t.proxyElements.forEach(function(t){return t.refreshPosition()})},p.prototype.destroy=function(){this.domElementProvider.destroyCreatedElements()},p.prototype.createProxyPosContainer=function(t){var e=this.domElementProvider.createElement("div");return e.setAttribute("aria-hidden","false"),e.className="highcharts-a11y-proxy-container"+(t?"-"+t:""),c(e,{top:"0",left:"0"}),this.chart.styledMode||(e.style.whiteSpace="nowrap",e.style.position="absolute"),e},p.prototype.getCurrentGroupOrderInDOM=function(){var c=this,t=(e=function(t){var e=[];t=t.children;for(var i=0;i<t.length;++i){t:{for(var n=t[i],o=Object.keys(c.groups),r=o.length;r--;){var s=o[r],a=c.groups[s];if(a&&n===a.groupElement){n=s;break t}}n=void 0}n&&e.push(n)}return e})(this.beforeChartProxyPosContainer),e=e(this.afterChartProxyPosContainer);return t.push("series"),t.concat(e)},p.prototype.isDOMOrderGroupOrder=function(){var e=this,t=this.getCurrentGroupOrderInDOM(),i=this.groupOrder.filter(function(t){return"series"===t||!!e.groups[t]}),n=t.length;if(n!==i.length)return!1;for(;n--;)if(t[n]!==i[n])return!1;return!0},p.prototype.updatePosContainerPositions=function(){var t=this.chart,e=t.renderer.box;t.container.insertBefore(this.afterChartProxyPosContainer,e.nextSibling),t.container.insertBefore(this.beforeChartProxyPosContainer,e),l(this.chart,this.afterChartProxyPosContainer),l(this.chart,this.beforeChartProxyPosContainer)},p;function p(t){this.chart=t,this.domElementProvider=new n,this.groups={},this.groupOrder=[],this.beforeChartProxyPosContainer=this.createProxyPosContainer("before"),this.afterChartProxyPosContainer=this.createProxyPosContainer("after"),this.update()}}),e(t,"Extensions/RangeSelector.js",[t["Core/Axis/Axis.js"],t["Core/Chart/Chart.js"],t["Core/Globals.js"],t["Core/DefaultOptions.js"],t["Core/Renderer/SVG/SVGElement.js"],t["Core/Utilities.js"]],function(y,t,d,e,n,i){var m=e.defaultOptions,f=i.addEvent,g=i.createElement,b=i.css,v=i.defined,o=i.destroyObjectProperties,r=i.discardElement,x=i.extend,s=i.find,A=i.fireEvent,T=i.isNumber,w=i.merge,a=i.objectEach,c=i.pad,C=i.pick,l=i.pInt,E=i.splat;x(m,{rangeSelector:{allButtonsEnabled:!1,buttons:void 0,buttonSpacing:5,dropdown:"responsive",enabled:void 0,verticalAlign:"top",buttonTheme:{width:28,height:18,padding:2,zIndex:7},floating:!1,x:0,y:0,height:void 0,inputBoxBorderColor:"none",inputBoxHeight:17,inputBoxWidth:void 0,inputDateFormat:"%b %e, %Y",inputDateParser:void 0,inputEditDateFormat:"%Y-%m-%d",inputEnabled:!0,inputPosition:{align:"right",x:0,y:0},inputSpacing:5,selected:void 0,buttonPosition:{align:"left",x:0,y:0},inputStyle:{color:"#335cad",cursor:"pointer"},labelStyle:{color:"#666666"}}}),x(m.lang,{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"",rangeSelectorTo:"→"});var h,u,p=(S.prototype.clickButton=function(t,e){var i,n,o,r,s,a=this.chart,c=this.buttonOptions[t],l=a.xAxis[0],h=(m=a.scroller&&a.scroller.getUnionExtremes()||l||{}).dataMin,u=m.dataMax,p=l&&Math.round(Math.min(l.max,C(u,l.max))),d=c.type,m=c._range,g=c.dataGrouping;if(null!==h&&null!==u){if(a.fixedRange=m,this.setSelected(t),g&&(this.forcedDataGrouping=!0,y.prototype.setDataGrouping.call(l||{chart:this.chart},g,!1),this.frozenStates=c.preserveDataGrouping),"month"===d||"year"===d)l?(d={range:c,max:p,chart:a,dataMin:h,dataMax:u},n=l.minFromRange.call(d),T(d.newMax)&&(p=d.newMax)):m=c;else if(m)n=Math.max(p-m,h),p=Math.min(n+m,u);else if("ytd"===d){if(!l)return void(this.deferredYTDClick=t);void 0===u&&(h=Number.MAX_VALUE,u=Number.MIN_VALUE,a.series.forEach(function(t){t=t.xData,h=Math.min(t[0],h),u=Math.max(t[t.length-1],u)}),e=!1),n=i=(p=this.getYTDExtremes(u,h,a.time.useUTC)).min,p=p.max}else"all"===d&&l&&(a.navigator&&a.navigator.baseSeries[0]&&(a.navigator.baseSeries[0].xAxis.options.range=void 0),n=h,p=u);v(n)&&(n+=c._offsetMin),v(p)&&(p+=c._offsetMax),this.dropdown&&(this.dropdown.selectedIndex=t+1),l?l.setExtremes(n,p,C(e,!0),void 0,{trigger:"rangeSelectorButton",rangeSelectorButton:c}):(o=E(a.options.xAxis)[0],r=o.range,o.range=m,s=o.min,o.min=i,f(a,"load",function(){o.range=r,o.min=s})),A(this,"afterBtnClick")}},S.prototype.setSelected=function(t){this.selected=this.options.selected=t},S.prototype.init=function(e){function t(){var t=i.minInput,e=i.maxInput;t&&t.blur&&A(t,"blur"),e&&e.blur&&A(e,"blur")}var i=this,n=e.options.rangeSelector,o=n.buttons||i.defaultButtons.slice(),r=n.selected;i.chart=e,i.options=n,i.buttons=[],i.buttonOptions=o,this.eventsToUnbind=[],this.eventsToUnbind.push(f(e.container,"mousedown",t)),this.eventsToUnbind.push(f(e,"resize",t)),o.forEach(i.computeButtonRange),void 0!==r&&o[r]&&this.clickButton(r,!1),this.eventsToUnbind.push(f(e,"load",function(){e.xAxis&&e.xAxis[0]&&f(e.xAxis[0],"setExtremes",function(t){this.max-this.min!==e.fixedRange&&"rangeSelectorButton"!==t.trigger&&"updatedData"!==t.trigger&&i.forcedDataGrouping&&!i.frozenStates&&this.setDataGrouping(!1,!1)})}))},S.prototype.updateButtonStates=function(){var p=this,t=this.chart,d=this.dropdown,m=t.xAxis[0],g=Math.round(m.max-m.min),y=!m.hasVisibleSeries,e=t.scroller&&t.scroller.getUnionExtremes()||m,f=e.dataMin,b=e.dataMax,v=(t=p.getYTDExtremes(b,f,t.time.useUTC)).min,x=t.max,A=p.selected,w=T(A),C=p.options.allButtonsEnabled,E=p.buttons;p.buttonOptions.forEach(function(t,e){var i=t._range,n=t.type,o=t.count||1,r=E[e],s=0,a=t._offsetMax-t._offsetMin;t=e===A;var c=b-f<i,l=i<m.minRange,h=!1,u=!1,i=i===g;("month"===n||"year"===n)&&864e5*{month:28,year:365}[n]*o-a<=g+36e5&&g-36e5<=864e5*{month:31,year:366}[n]*o+a?i=!0:"ytd"===n?(i=x-v+a===g,h=!t):"all"===n&&(i=m.max-m.min>=b-f,u=!t&&w&&i),o=t&&i||i&&!w&&!h||t&&p.frozenStates,(n=!C&&(c||l||u||y))?s=3:o&&(w=!0,s=2),r.state!==s&&(r.setState(s),d&&(d.options[e+1].disabled=n,2===s&&(d.selectedIndex=e+1)),0===s&&A===e&&p.setSelected())})},S.prototype.computeButtonRange=function(t){var e=t.type,i=t.count||1,n={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};n[e]?t._range=n[e]*i:"month"!==e&&"year"!==e||(t._range=864e5*{month:30,year:365}[e]*i),t._offsetMin=C(t.offsetMin,0),t._offsetMax=C(t.offsetMax,0),t._range+=t._offsetMax-t._offsetMin},S.prototype.getInputValue=function(t){t="min"===t?this.minInput:this.maxInput;var e=this.chart.options.rangeSelector,i=this.chart.time;return t?("text"===t.type&&e.inputDateParser||this.defaultInputDateParser)(t.value,i.useUTC,i):0},S.prototype.setInputValue=function(t,e){var i,n=this.options,o=this.chart.time,r="min"===t?this.minInput:this.maxInput;t="min"===t?this.minDateBox:this.maxDateBox,r&&(i=r.getAttribute("data-hc-time"),i=v(i)?Number(i):void 0,v(e)&&(v(i)&&r.setAttribute("data-hc-time-previous",i),r.setAttribute("data-hc-time",e),i=e),r.value=o.dateFormat(this.inputTypeFormats[r.type]||n.inputEditDateFormat,i),t&&t.attr({text:o.dateFormat(n.inputDateFormat,i)}))},S.prototype.setInputExtremes=function(t,e,i){var n,o;(t="min"===t?this.minInput:this.maxInput)&&(n=this.inputTypeFormats[t.type],o=this.chart.time,n&&(e=o.dateFormat(n,e),t.min!==e&&(t.min=e),i=o.dateFormat(n,i),t.max!==i&&(t.max=i)))},S.prototype.showInput=function(t){var e,i,n,o,r="min"===t?this.minDateBox:this.maxDateBox;(t="min"===t?this.minInput:this.maxInput)&&r&&this.inputGroup&&(e="text"===t.type,i=(n=this.inputGroup).translateX,n=n.translateY,o=this.options.inputBoxWidth,b(t,{width:e?r.width+(o?-2:20)+"px":"auto",height:e?r.height-2+"px":"auto",border:"2px solid silver"}),b(t,e&&o?{left:i+r.x+"px",top:n+"px"}:{left:Math.min(Math.round(r.x+i-(t.offsetWidth-r.width)/2),this.chart.chartWidth-t.offsetWidth)+"px",top:n-(t.offsetHeight-r.height)/2+"px"}))},S.prototype.hideInput=function(t){(t="min"===t?this.minInput:this.maxInput)&&b(t,{top:"-9999em",border:0,width:"1px",height:"1px"})},S.prototype.defaultInputDateParser=function(t,e,i){var n,o=t.split("/").join("-").split(" ").join("T");return-1===o.indexOf("T")&&(o+="T00:00"),e?o+="Z":(n=(n=d.isSafari)?!(6<(n=o).length&&(n.lastIndexOf("-")===n.length-6||n.lastIndexOf("+")===n.length-6)):n)&&(o+=(n=new Date(o).getTimezoneOffset()/60)<=0?"+"+c(-n)+":00":"-"+c(n)+":00"),o=Date.parse(o),T(o)||(t=t.split("-"),o=Date.UTC(l(t[0]),l(t[1])-1,l(t[2]))),i&&e&&T(o)&&(o+=i.getTimezoneOffset(o)),o},S.prototype.drawInput=function(s){function e(){var t=c.getInputValue(s),e=a.xAxis[0],i=(n=a.scroller&&a.scroller.xAxis?a.scroller.xAxis:e).dataMin,n=n.dataMax,o=c.maxInput,r=c.minInput;t!==Number(u.getAttribute("data-hc-time-previous"))&&T(t)&&(u.setAttribute("data-hc-time-previous",t),l&&o&&T(i)?t>Number(o.getAttribute("data-hc-time"))?t=void 0:t<i&&(t=i):r&&T(n)&&(t<Number(r.getAttribute("data-hc-time"))?t=void 0:n<t&&(t=n)),void 0!==t&&e.setExtremes(l?t:e.min,l?e.max:t,void 0,void 0,{trigger:"rangeSelectorInput"}))}var a=this.chart,t=this.div,i=this.inputGroup,c=this,n=a.renderer.style||{},o=a.renderer,r=a.options.rangeSelector,l="min"===s,h=m.lang[l?"rangeSelectorFrom":"rangeSelectorTo"]||"",h=o.label(h,0).addClass("highcharts-range-label").attr({padding:h?2:0,height:h?r.inputBoxHeight:0}).add(i),o=o.label("",0).addClass("highcharts-range-input").attr({padding:2,width:r.inputBoxWidth,height:r.inputBoxHeight,"text-align":"center"}).on("click",function(){c.showInput(s),c[s+"Input"].focus()});a.styledMode||o.attr({stroke:r.inputBoxBorderColor,"stroke-width":1}),o.add(i);var u=g("input",{name:s,className:"highcharts-range-selector"},void 0,t);u.setAttribute("type",function(e){if(-1!==e.indexOf("%L"))return"text";var t="aAdewbBmoyY".split("").some(function(t){return-1!==e.indexOf("%"+t)}),i="HkIlMS".split("").some(function(t){return-1!==e.indexOf("%"+t)});return t&&i?"datetime-local":t?"date":i?"time":"text"}(r.inputDateFormat||"%b %e, %Y")),a.styledMode||(h.css(w(n,r.labelStyle)),o.css(w({color:"#333333"},n,r.inputStyle)),b(u,x({position:"absolute",border:0,boxShadow:"0 0 15px rgba(0,0,0,0.3)",width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:n.fontSize,fontFamily:n.fontFamily,top:"-9999em"},r.inputStyle))),u.onfocus=function(){c.showInput(s)};var p=!(u.onblur=function(){u===d.doc.activeElement&&e(),c.hideInput(s),c.setInputValue(s),u.blur()});return u.onchange=function(){p||(e(),c.hideInput(s),u.blur())},u.onkeypress=function(t){13===t.keyCode&&e()},u.onkeydown=function(t){p=!0,38!==t.keyCode&&40!==t.keyCode||e()},u.onkeyup=function(){p=!1},{dateBox:o,input:u,label:h}},S.prototype.getPosition=function(){var t=this.chart,e=t.options.rangeSelector;return{buttonTop:(t="top"===e.verticalAlign?t.plotTop-t.axisOffset[0]:0)+e.buttonPosition.y,inputTop:t+e.inputPosition.y-10}},S.prototype.getYTDExtremes=function(t,e,i){var n=this.chart.time,o=new n.Date(t),r=n.get("FullYear",o);return i=i?n.Date.UTC(r,0,1):+new n.Date(r,0,1),e=Math.max(e,i),o=o.getTime(),{max:Math.min(t||o,o),min:e}},S.prototype.render=function(t,e){var i,n=this.chart,o=n.renderer,r=n.container,s=(c=n.options).rangeSelector,a=C(c.chart.style&&c.chart.style.zIndex,0)+1,c=s.inputEnabled;!1!==s.enabled&&(this.rendered||(this.group=o.g("range-selector-group").attr({zIndex:7}).add(),this.div=g("div",void 0,{position:"relative",height:0,zIndex:a}),this.buttonOptions.length&&this.renderButtons(),r.parentNode&&r.parentNode.insertBefore(this.div,r),c&&(this.inputGroup=o.g("input-group").add(this.group),o=this.drawInput("min"),this.minDateBox=o.dateBox,this.minLabel=o.label,this.minInput=o.input,o=this.drawInput("max"),this.maxDateBox=o.dateBox,this.maxLabel=o.label,this.maxInput=o.input)),c&&(this.setInputValue("min",t),this.setInputValue("max",e),t=n.scroller&&n.scroller.getUnionExtremes()||n.xAxis[0]||{},v(t.dataMin)&&v(t.dataMax)&&(n=n.xAxis[0].minRange||0,this.setInputExtremes("min",t.dataMin,Math.min(t.dataMax,this.getInputValue("max"))-n),this.setInputExtremes("max",Math.max(t.dataMin,this.getInputValue("min"))+n,t.dataMax)),this.inputGroup)&&(i=0,[this.minLabel,this.minDateBox,this.maxLabel,this.maxDateBox].forEach(function(t){var e;!t||(e=t.getBBox().width)&&(t.attr({x:i}),i+=e+s.inputSpacing)})),this.alignElements(),this.rendered=!0)},S.prototype.renderButtons=function(){var r=this,s=this.buttons,t=this.options,e=m.lang,i=this.chart.renderer,a=w(t.buttonTheme),c=a&&a.states,l=a.width||28;delete a.width,delete a.states,this.buttonGroup=i.g("range-selector-buttons").add(this.group);var h=this.dropdown=g("select",void 0,{position:"absolute",width:"1px",height:"1px",padding:0,border:0,top:"-9999em",cursor:"pointer",opacity:1e-4},this.div);f(h,"touchstart",function(){h.style.fontSize="16px"}),[[d.isMS?"mouseover":"mouseenter"],[d.isMS?"mouseout":"mouseleave"],["change","click"]].forEach(function(t){var e=t[0],i=t[1];f(h,e,function(){var t=s[r.currentButtonIndex()];t&&A(t.element,i||e)})}),this.zoomText=i.label(e&&e.rangeSelectorZoom||"",0).attr({padding:t.buttonTheme.padding,height:t.buttonTheme.height,paddingLeft:0,paddingRight:0}).add(this.buttonGroup),this.chart.styledMode||(this.zoomText.css(t.labelStyle),a["stroke-width"]=C(a["stroke-width"],0)),g("option",{textContent:this.zoomText.textStr,disabled:!0},void 0,h),this.buttonOptions.forEach(function(n,o){g("option",{textContent:n.title||n.text},void 0,h),s[o]=i.button(n.text,0,0,function(t){var e,i=n.events&&n.events.click;!1!==(e=i?i.call(n,t):e)&&r.clickButton(o),r.isActive=!0},a,c&&c.hover,c&&c.select,c&&c.disabled).attr({"text-align":"center",width:l}).add(r.buttonGroup),n.title&&s[o].attr("title",n.title)})},S.prototype.alignElements=function(){var t,i,n=this,e=this.buttonGroup,o=this.buttons,r=this.chart,s=this.group,a=this.inputGroup,c=this.options,l=this.zoomText,h=(u=r.options).exporting&&!1!==u.exporting.enabled&&u.navigation&&u.navigation.buttonOptions,u=c.buttonPosition,p=c.inputPosition,d=c.verticalAlign,m=function(t,e){return h&&n.titleCollision(r)&&"top"===d&&"right"===e.align&&e.y-t.getBBox().height-12<(h.y||0)+(h.height||0)+r.spacing[0]?-40:0},g=r.plotLeft;s&&u&&p&&(t=u.x-r.spacing[3],e&&(this.positionButtons(),this.initialButtonGroupWidth||(i=0,l&&(i+=l.getBBox().width+5),o.forEach(function(t,e){i+=t.width,e!==o.length-1&&(i+=c.buttonSpacing)}),this.initialButtonGroupWidth=i),g-=r.spacing[3],this.updateButtonStates(),l=m(e,u),this.alignButtonGroup(l),s.placed=e.placed=r.hasLoaded),e=0,a&&(e=m(a,p),"left"===p.align?t=g:"right"===p.align&&(t=-Math.max(r.axisOffset[1],-e)),a.align({y:p.y,width:a.getBBox().width,align:p.align,x:p.x+t-2},!0,r.spacingBox),a.placed=r.hasLoaded),this.handleCollision(e),s.align({verticalAlign:d},!0,r.spacingBox),a=s.alignAttr.translateY,e=s.getBBox().height+20,m=0,"bottom"===d&&(m=a-(e=e+(m=(m=r.legend&&r.legend.options)&&"bottom"===m.verticalAlign&&m.enabled&&!m.floating?r.legend.legendHeight+C(m.margin,10):0)-20)-(c.floating?0:c.y)-(r.titleOffset?r.titleOffset[2]:0)-10),"top"===d?(c.floating&&(m=0),r.titleOffset&&r.titleOffset[0]&&(m=r.titleOffset[0]),m+=r.margin[0]-r.spacing[0]||0):"middle"===d&&(p.y===u.y?m=a:(p.y||u.y)&&(m=p.y<0||u.y<0?m-Math.min(p.y,u.y):a-e)),s.translate(c.x,c.y+Math.floor(m)),u=this.minInput,p=this.maxInput,a=this.dropdown,c.inputEnabled&&u&&p&&(u.style.marginTop=s.translateY+"px",p.style.marginTop=s.translateY+"px"),a&&(a.style.marginTop=s.translateY+"px"))},S.prototype.alignButtonGroup=function(t,e){var i=this.chart,n=this.buttonGroup,o=this.options.buttonPosition,r=i.plotLeft-i.spacing[3],s=o.x-i.spacing[3];"right"===o.align?s+=t-r:"center"===o.align&&(s-=r/2),n&&n.align({y:o.y,width:C(e,this.initialButtonGroupWidth),align:o.align,x:s},!0,i.spacingBox)},S.prototype.positionButtons=function(){var i=this.buttons,t=this.chart,n=this.options,e=this.zoomText,o=t.hasLoaded?"animate":"attr",r=n.buttonPosition,s=t.plotLeft,a=s;e&&"hidden"!==e.visibility&&(e[o]({x:C(s+r.x,s)}),a+=r.x+e.getBBox().width+5),this.buttonOptions.forEach(function(t,e){"hidden"!==i[e].visibility?(i[e][o]({x:a}),a+=i[e].width+n.buttonSpacing):i[e][o]({x:s})})},S.prototype.handleCollision=function(o){function t(t){if(s&&r){var e=s.alignAttr.translateX+s.alignOptions.x-o+s.getBBox().x+2,i=s.alignOptions.width,n=r.alignAttr.translateX+r.getBBox().x;return e<n+t&&n<e+i&&a.y<l.y+s.getBBox().height}}function e(){s&&r&&s.attr({translateX:s.alignAttr.translateX+(n.axisOffset[1]>=-o?0:-o),translateY:s.alignAttr.translateY+r.getBBox().height+10})}var i=this,n=this.chart,r=this.buttonGroup,s=this.inputGroup,a=(h=this.options).buttonPosition,c=h.dropdown,l=h.inputPosition,h=function(){var e=0;return i.buttons.forEach(function(t){(t=t.getBBox()).width>e&&(e=t.width)}),e};if(r){if("always"===c)return this.collapseButtons(o),void(t(h())&&e());"never"===c&&this.expandButtons()}s&&r?l.align===a.align||t(this.initialButtonGroupWidth+20)?"responsive"===c?(this.collapseButtons(o),t(h())&&e()):e():"responsive"===c&&this.expandButtons():r&&"responsive"===c&&(this.initialButtonGroupWidth>n.plotWidth?this.collapseButtons(o):this.expandButtons())},S.prototype.collapseButtons=function(t){function i(t){return{text:t?t+" ▾":"▾",width:"auto",paddingLeft:C(s.buttonTheme.paddingLeft,c.padding,8),paddingRight:C(s.buttonTheme.paddingRight,c.padding,8)}}var n=this.buttons,e=this.buttonOptions,o=this.chart,r=this.dropdown,s=this.options,a=this.zoomText,c=o.userOptions.rangeSelector&&o.userOptions.rangeSelector.buttonTheme||{};a&&a.hide();var l=!1;e.forEach(function(t,e){2!==(e=n[e]).state?e.hide():(e.show(),e.attr(i(t.text)),l=!0)}),l||(r&&(r.selectedIndex=0),n[0].show(),n[0].attr(i(this.zoomText&&this.zoomText.textStr))),e=s.buttonPosition.align,this.positionButtons(),"right"!==e&&"center"!==e||this.alignButtonGroup(t,n[this.currentButtonIndex()].getBBox().width),this.showDropdown()},S.prototype.expandButtons=function(){var i=this.buttons,t=this.buttonOptions,n=this.options,e=this.zoomText;this.hideDropdown(),e&&e.show(),t.forEach(function(t,e){(e=i[e]).show(),e.attr({text:t.text,width:n.buttonTheme.width||28,paddingLeft:C(n.buttonTheme.paddingLeft,"unset"),paddingRight:C(n.buttonTheme.paddingRight,"unset")}),e.state<2&&e.setState(0)}),this.positionButtons()},S.prototype.currentButtonIndex=function(){var t=this.dropdown;return t&&0<t.selectedIndex?t.selectedIndex-1:0},S.prototype.showDropdown=function(){var t,e=this.buttonGroup,i=this.buttons,n=this.chart,o=this.dropdown;e&&o&&(t=e.translateX,e=e.translateY,i=i[this.currentButtonIndex()].getBBox(),b(o,{left:n.plotLeft+t+"px",top:e+.5+"px",width:i.width+"px",height:i.height+"px"}),this.hasVisibleDropdown=!0)},S.prototype.hideDropdown=function(){var t=this.dropdown;t&&(b(t,{top:"-9999em",width:"1px",height:"1px"}),this.hasVisibleDropdown=!1)},S.prototype.getHeight=function(){var t=this.options,e=this.group,i=t.y,n=t.buttonPosition.y,o=t.inputPosition.y;return t.height||(this.alignElements(),t=e?e.getBBox(!0).height+13+i:0,e=Math.min(o,n),(o<0&&n<0||0<o&&0<n)&&(t+=Math.abs(e)),t)},S.prototype.titleCollision=function(t){return!(t.options.title.text||t.options.subtitle.text)},S.prototype.update=function(t){var e=this.chart;w(!0,e.options.rangeSelector,t),this.destroy(),this.init(e),this.render()},S.prototype.destroy=function(){var i=this,t=i.minInput,e=i.maxInput;i.eventsToUnbind&&(i.eventsToUnbind.forEach(function(t){return t()}),i.eventsToUnbind=void 0),o(i.buttons),t&&(t.onfocus=t.onblur=t.onchange=null),e&&(e.onfocus=e.onblur=e.onchange=null),a(i,function(t,e){t&&"chart"!==e&&(t instanceof n?t.destroy():t instanceof window.HTMLElement&&r(t)),t!==S.prototype[e]&&(i[e]=null)},this)},S);function S(t){this.buttons=void 0,this.buttonOptions=S.prototype.defaultButtons,this.initialButtonGroupWidth=0,this.options=void 0,this.chart=t,this.init(t)}return p.prototype.defaultButtons=[{type:"month",count:1,text:"1m",title:"View 1 month"},{type:"month",count:3,text:"3m",title:"View 3 months"},{type:"month",count:6,text:"6m",title:"View 6 months"},{type:"ytd",text:"YTD",title:"View year to date"},{type:"year",count:1,text:"1y",title:"View 1 year"},{type:"all",text:"All",title:"View all"}],p.prototype.inputTypeFormats={"datetime-local":"%Y-%m-%dT%H:%M:%S",date:"%Y-%m-%d",time:"%H:%M:%S"},y.prototype.minFromRange=function(){function t(t,e){var i="year"===r?"FullYear":"Month",n=new s.Date(t),o=s.get(i,n);return s.set(i,n,o+e),o===s.get(i,n)&&s.set("Date",n,0),n.getTime()-t}var e,i,n=this.range,r=n.type,o=this.max,s=this.chart.time;T(n)?(e=o-n,i=n):(e=o+t(o,-n.count),this.chart&&(this.chart.fixedRange=o-e));var a=C(this.dataMin,Number.MIN_VALUE);return(e=!T(e)?a:e)<=a&&(e=a,void 0===i&&(i=t(e,n.count)),this.newMax=Math.min(e+i,this.dataMax)),e=!T(o)?void 0:e},d.RangeSelector||(h=[],u=function(e){function t(){r&&(i=e.xAxis[0].getExtremes(),n=e.legend,o=r&&r.options.verticalAlign,T(i.min)&&r.render(i.min,i.max),n.display&&"top"===o&&o===n.options.verticalAlign&&((o=w(e.spacingBox)).y="vertical"===n.options.layout?e.plotTop:o.y+r.getHeight(),n.group.placed=!1,n.align(o)))}var i,n,o,r=e.rangeSelector;r&&(s(h,function(t){return t[0]===e})||h.push([e,[f(e.xAxis[0],"afterSetExtremes",function(t){r&&r.render(t.min,t.max)}),f(e,"redraw",t)]]),t())},f(t,"afterGetContainer",function(){this.options.rangeSelector&&this.options.rangeSelector.enabled&&(this.rangeSelector=new p(this))}),f(t,"beforeRender",function(){var t=this.axes,e=this.rangeSelector;e&&(T(e.deferredYTDClick)&&(e.clickButton(e.deferredYTDClick),delete e.deferredYTDClick),t.forEach(function(t){t.updateNames(),t.setScale()}),this.getAxisMargins(),e.render(),t=e.options.verticalAlign,e.options.floating||("bottom"===t?this.extraBottomMargin=!0:"middle"!==t&&(this.extraTopMargin=!0)))}),f(t,"update",function(t){var e=t.options.rangeSelector;t=this.rangeSelector;var i=this.extraBottomMargin,n=this.extraTopMargin;e&&e.enabled&&!v(t)&&this.options.rangeSelector&&(this.options.rangeSelector.enabled=!0,this.rangeSelector=t=new p(this)),this.extraTopMargin=this.extraBottomMargin=!1,t&&(u(this),e=e&&e.verticalAlign||t.options&&t.options.verticalAlign,t.options.floating||("bottom"===e?this.extraBottomMargin=!0:"middle"!==e&&(this.extraTopMargin=!0)),this.extraBottomMargin!==i||this.extraTopMargin!==n)&&(this.isDirtyBox=!0)}),f(t,"render",function(){var t=this.rangeSelector;t&&!t.options.floating&&(t.render(),"bottom"===(t=t.options.verticalAlign)?this.extraBottomMargin=!0:"middle"!==t&&(this.extraTopMargin=!0))}),f(t,"getMargins",function(){var t=this.rangeSelector;t&&(t=t.getHeight(),this.extraTopMargin&&(this.plotTop+=t),this.extraBottomMargin&&(this.marginBottom+=t))}),t.prototype.callbacks.push(u),f(t,"destroy",function(){for(var t=0;t<h.length;t++){var e=h[t];if(e[0]===this){e[1].forEach(function(t){return t()}),h.splice(t,1);break}}}),d.RangeSelector=p),p}),e(t,"Accessibility/Components/RangeSelectorComponent.js",[t["Extensions/RangeSelector.js"],t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/Announcer.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Core/Utilities.js"]],function(i,t,e,n,o,r){var s,a,c,l=this&&this.__extends||(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),h=e.unhideChartElementFromAT,u=e.getAxisRangeDescription,p=r.addEvent,d=r.attr;function m(){var t=null!==a&&a.apply(this,arguments)||this;return t.announcer=void 0,t}function g(t){var e=this.rangeSelector&&this.rangeSelector.buttons||[],i=this.highlightedRangeSelectorItemIx,n=this.rangeSelector&&this.rangeSelector.selected;return void 0!==i&&e[i]&&i!==n&&e[i].setState(this.oldRangeSelectorItemState||0),!!e[this.highlightedRangeSelectorItemIx=t]&&(this.setFocusToElement(e[t].box,e[t].element),t!==n&&(this.oldRangeSelectorItemState=e[t].state,e[t].setState(1)),!0)}function y(){var t=this.chart.accessibility;if(t&&t.components.rangeSelector)return t.components.rangeSelector.onAfterBtnClick()}return l(m,a=t),m.prototype.init=function(){this.announcer=new n(this.chart,"polite")},m.prototype.onChartUpdate=function(){var i=this.chart,n=this,o=i.rangeSelector;o&&(this.updateSelectorVisibility(),this.setDropdownAttrs(),o.buttons&&o.buttons.length&&o.buttons.forEach(function(t){n.setRangeButtonAttrs(t)}),o.maxInput&&o.minInput&&["minInput","maxInput"].forEach(function(t,e){(t=o[t])&&(h(i,t),n.setRangeInputAttrs(t,"accessibility.rangeSelector."+(e?"max":"min")+"InputLabel"))}))},m.prototype.updateSelectorVisibility=function(){var e=this.chart,t=e.rangeSelector,i=t&&t.dropdown,n=t&&t.buttons||[];t&&t.hasVisibleDropdown&&i?(h(e,i),n.forEach(function(t){return t.element.setAttribute("aria-hidden",!0)})):(i&&i.setAttribute("aria-hidden",!0),n.forEach(function(t){return h(e,t.element)}))},m.prototype.setDropdownAttrs=function(){var t=this.chart,e=t.rangeSelector&&t.rangeSelector.dropdown;e&&(t=t.langFormat("accessibility.rangeSelector.dropdownLabel",{rangeTitle:t.options.lang.rangeSelectorZoom}),e.setAttribute("aria-label",t),e.setAttribute("tabindex",-1))},m.prototype.setRangeButtonAttrs=function(t){d(t.element,{tabindex:-1,role:"button"})},m.prototype.setRangeInputAttrs=function(t,e){var i=this.chart;d(t,{tabindex:-1,"aria-label":i.langFormat(e,{chart:i})})},m.prototype.onButtonNavKbdArrowKey=function(t,e){var i=t.response,n=this.keyCodes,o=this.chart,r=o.options.accessibility.keyboardNavigation.wrapAround;return e=e===n.left||e===n.up?-1:1,o.highlightRangeSelectorButton(o.highlightedRangeSelectorItemIx+e)?i.success:r?(t.init(e),i.success):i[0<e?"next":"prev"]},m.prototype.onButtonNavKbdClick=function(t){t=t.response;var e=this.chart;return 3!==e.oldRangeSelectorItemState&&this.fakeClickEvent(e.rangeSelector.buttons[e.highlightedRangeSelectorItemIx].element),t.success},m.prototype.onAfterBtnClick=function(){var t=this.chart,e=u(t.xAxis[0]);(t=t.langFormat("accessibility.rangeSelector.clickButtonAnnouncement",{chart:t,axisRangeDescription:e}))&&this.announcer.announce(t)},m.prototype.onInputKbdMove=function(t){var e=this.chart,i=e.rangeSelector,n=e.highlightedInputRangeIx=(e.highlightedInputRangeIx||0)+t;1<n||n<0?e.accessibility&&(e.accessibility.keyboardNavigation.tabindexContainer.focus(),e.accessibility.keyboardNavigation[t<0?"prev":"next"]()):i&&(t=i[n?"maxDateBox":"minDateBox"],i=i[n?"maxInput":"minInput"],t&&i&&e.setFocusToElement(t,i))},m.prototype.onInputNavInit=function(t){var e,i,n=this,o=this,r=this.chart,s=0<t?0:1,a=r.rangeSelector,c=a&&a[s?"maxDateBox":"minDateBox"];t=a&&a.minInput,a=a&&a.maxInput,r.highlightedInputRangeIx=s,c&&t&&a&&(r.setFocusToElement(c,s?a:t),this.removeInputKeydownHandler&&this.removeInputKeydownHandler(),e=p(t,"keydown",r=function(t){(t.which||t.keyCode)===n.keyCodes.tab&&(t.preventDefault(),t.stopPropagation(),o.onInputKbdMove(t.shiftKey?-1:1))}),i=p(a,"keydown",r),this.removeInputKeydownHandler=function(){e(),i()})},m.prototype.onInputNavTerminate=function(){var t=this.chart.rangeSelector||{};t.maxInput&&t.hideInput("max"),t.minInput&&t.hideInput("min"),this.removeInputKeydownHandler&&(this.removeInputKeydownHandler(),delete this.removeInputKeydownHandler)},m.prototype.initDropdownNav=function(){var i=this,n=this.chart,t=n.rangeSelector,e=t&&t.dropdown;t&&e&&(n.setFocusToElement(t.buttonGroup,e),this.removeDropdownKeydownHandler&&this.removeDropdownKeydownHandler(),this.removeDropdownKeydownHandler=p(e,"keydown",function(t){var e=n.accessibility;(t.which||t.keyCode)===i.keyCodes.tab&&(t.preventDefault(),t.stopPropagation(),e&&(e.keyboardNavigation.tabindexContainer.focus(),e.keyboardNavigation[t.shiftKey?"prev":"next"]()))}))},m.prototype.getRangeSelectorButtonNavigation=function(){var i=this.chart,t=this.keyCodes,n=this;return new o(i,{keyCodeMap:[[[t.left,t.right,t.up,t.down],function(t){return n.onButtonNavKbdArrowKey(this,t)}],[[t.enter,t.space],function(){return n.onButtonNavKbdClick(this)}]],validate:function(){return!!(i.rangeSelector&&i.rangeSelector.buttons&&i.rangeSelector.buttons.length)},init:function(t){var e=i.rangeSelector;e&&e.hasVisibleDropdown?n.initDropdownNav():e&&(e=e.buttons.length-1,i.highlightRangeSelectorButton(0<t?0:e))},terminate:function(){n.removeDropdownKeydownHandler&&(n.removeDropdownKeydownHandler(),delete n.removeDropdownKeydownHandler)}})},m.prototype.getRangeSelectorInputNavigation=function(){var t=this.chart,e=this;return new o(t,{keyCodeMap:[],validate:function(){return!!(t.rangeSelector&&t.rangeSelector.inputGroup&&"hidden"!==t.rangeSelector.inputGroup.element.style.visibility&&!1!==t.options.rangeSelector.inputEnabled&&t.rangeSelector.minInput&&t.rangeSelector.maxInput)},init:function(t){e.onInputNavInit(t)},terminate:function(){e.onInputNavTerminate()}})},m.prototype.getKeyboardNavigation=function(){return[this.getRangeSelectorButtonNavigation(),this.getRangeSelectorInputNavigation()]},m.prototype.destroy=function(){this.removeDropdownKeydownHandler&&this.removeDropdownKeydownHandler(),this.removeInputKeydownHandler&&this.removeInputKeydownHandler(),this.announcer&&this.announcer.destroy()},t=(t=m)||{},c=[],t.compose=function(t,e){-1===c.indexOf(t)&&(c.push(t),t.prototype.highlightRangeSelectorButton=g),-1===c.indexOf(e)&&(c.push(e),p(i,"afterBtnClick",y))},t}),e(t,"Accessibility/Components/SeriesComponent/ForcedMarkers.js",[t["Core/Utilities.js"]],function(t){var e,i,n=t.addEvent,o=t.merge;function r(t){o(!0,t,{marker:{enabled:!0,states:{normal:{opacity:0}}}})}function s(t){return t.marker.states&&t.marker.states.normal&&t.marker.states.normal.opacity}function a(){this.chart.styledMode&&(this.markerGroup&&this.markerGroup[this.a11yMarkersForced?"addClass":"removeClass"]("highcharts-a11y-markers-hidden"),this._hasPointMarkers&&this.points&&this.points.length&&this.points.forEach(function(t){t.graphic&&(t.graphic[t.hasForcedA11yMarker?"addClass":"removeClass"]("highcharts-a11y-marker-hidden"),t.graphic[!1===t.hasForcedA11yMarker?"addClass":"removeClass"]("highcharts-a11y-marker-visible"))}))}function c(t){this.resetA11yMarkerOptions=o(t.options.marker||{},this.userOptions.marker||{})}function l(){var t=this.options,e=!1!==(this.options.accessibility&&this.options.accessibility.enabled);if((e=this.chart.options.accessibility.enabled&&e)&&(e=this.chart.options.accessibility,e=this.points.length<e.series.pointDescriptionEnabledThreshold||!1===e.series.pointDescriptionEnabledThreshold),e){if(t.marker&&!1===t.marker.enabled&&(this.a11yMarkersForced=!0,r(this.options)),this._hasPointMarkers&&this.points&&this.points.length)for(t=this.points.length;t--;){var i=(e=this.points[t]).options,n=e.hasForcedA11yMarker;delete e.hasForcedA11yMarker,i.marker&&(n=n&&0===s(i),i.marker.enabled&&!n?(o(!0,i.marker,{states:{normal:{opacity:s(i)||1}}}),e.hasForcedA11yMarker=!1):!1===i.marker.enabled&&(r(i),e.hasForcedA11yMarker=!0))}}else this.a11yMarkersForced&&(delete this.a11yMarkersForced,(t=this.resetA11yMarkerOptions)&&o(!0,this.options,{marker:{enabled:t.enabled,states:{normal:{opacity:t.states&&t.states.normal&&t.states.normal.opacity}}}}))}return e=e||{},i=[],e.compose=function(t){-1===i.indexOf(t)&&(i.push(t),n(t,"afterSetOptions",c),n(t,"render",l),n(t,"afterRender",a))},e}),e(t,"Accessibility/Components/SeriesComponent/SeriesKeyboardNavigation.js",[t["Core/Series/Point.js"],t["Core/Series/Series.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Globals.js"],t["Core/Utilities.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Accessibility/Utils/EventProvider.js"],t["Accessibility/Utils/ChartUtilities.js"]],function(e,o,t,i,n,r,s,a){function c(t){var e=t.index,i=t.series.points,n=i.length;if(i[e]===t)return e;for(;n--;)if(i[n]===t)return n}function l(t){var e=t.chart.options.accessibility.keyboardNavigation.seriesNavigation,i=t.options.accessibility||{},n=i.keyboardNavigation;return n&&!1===n.enabled||!1===i.enabled||!1===t.options.enableMouseTracking||!t.visible||e.pointNavigationEnabledThreshold&&e.pointNavigationEnabledThreshold<=t.points.length}function h(t){var e=t.series.chart.options.accessibility,i=t.options.accessibility&&!1===t.options.accessibility.enabled;return t.isNull&&e.keyboardNavigation.seriesNavigation.skipNullPoints||!1===t.visible||!1===t.isInside||i||l(t.series)}function u(t){return delete t.highlightedPoint,t.series.reduce(function(t,e){return t||e.highlightFirstValidPoint()},!1)}var p,d=t.seriesTypes,m=i.doc,g=n.defined,y=n.fireEvent,f=a.getPointFromXY,b=a.getSeriesFromName,v=a.scrollToPoint;function x(t,e){this.keyCodes=e,this.chart=t}function A(t){var e=this.series,i=this.highlightedPoint,n=i&&c(i)||0,o=i&&i.series.points||[],r=(r=this.series&&this.series[this.series.length-1])&&r.points&&r.points[r.points.length-1];if(!e[0]||!e[0].points)return!1;if(i){if(e=e[i.series.index+(t?1:-1)],!(n=!(n=o[n+(t?1:-1)])&&e?e.points[t?0:e.points.length-1]:n))return!1}else n=t?e[0].points[0]:r;return h(n)?(l(e=n.series)?this.highlightedPoint=t?e.points[e.points.length-1]:e.points[0]:this.highlightedPoint=n,this.highlightAdjacentPoint(t)):n.highlight()}function w(o){var r,s=this.highlightedPoint,a=1/0;return!(!g(s.plotX)||!g(s.plotY))&&(this.series.forEach(function(n){l(n)||n.points.forEach(function(t){var e,i;g(t.plotY)&&g(t.plotX)&&t!==s&&(e=t.plotY-s.plotY,i=Math.abs(t.plotX-s.plotX),i=Math.abs(e)*Math.abs(e)+i*i*4,n.yAxis&&n.yAxis.reversed&&(e*=-1),!(e<=0&&o||0<=e&&!o||i<5||h(t))&&i<a&&(a=i,r=t))})}),!!r&&r.highlight())}function C(t){var e=this.highlightedPoint,i=this.series&&this.series[this.series.length-1],n=i&&i.points&&i.points[i.points.length-1];return this.highlightedPoint?!!(i=this.series[e.series.index+(t?-1:1)])&&(!!(n=function(t,e,i,n){function o(t){return!(g(t.plotX)&&g(t.plotY))}var r=1/0,s=e.points.length;if(!o(t)){for(;s--;){var a,c=e.points[s];!o(c)&&(c=(t.plotX-c.plotX)*(t.plotX-c.plotX)*(i||1)+(t.plotY-c.plotY)*(t.plotY-c.plotY)*(n||1))<r&&(r=c,a=s)}return g(a)?e.points[a]:void 0}}(e,i,4))&&(l(i)?(n.highlight(),(t=this.highlightAdjacentSeries(t))||(e.highlight(),!1)):(n.highlight(),n.series.highlightFirstValidPoint()))):(i=t?this.series&&this.series[0]:i,!!(n=t?i&&i.points&&i.points[0]:n)&&n.highlight())}function E(){var t=this.series.chart;return this.isNull?t.tooltip&&t.tooltip.hide(0):this.onMouseOver(),v(this),this.graphic&&t.setFocusToElement(this.graphic),t.highlightedPoint=this}function T(){var t=this.chart.highlightedPoint,e=(t&&t.series)===this?c(t):0,i=(t=this.points).length;if(t&&i){for(var n=e;n<i;++n)if(!h(t[n]))return t[n].highlight();for(;0<=e;--e)if(!h(t[e]))return t[e].highlight()}return!1}return x.prototype.init=function(){var i=this,n=this.chart,t=this.eventProvider=new s;t.addEvent(o,"destroy",function(){return i.onSeriesDestroy(this)}),t.addEvent(n,"afterDrilldown",function(){u(this),this.focusElement&&this.focusElement.removeFocusBorder()}),t.addEvent(n,"drilldown",function(t){var e=(t=t.point).series;i.lastDrilledDownPoint={x:t.x,y:t.y,seriesName:e?e.name:""}}),t.addEvent(n,"drillupall",function(){setTimeout(function(){i.onDrillupAll()},10)}),t.addEvent(e,"afterSetState",function(){var t=this.graphic&&this.graphic.element,e=m.activeElement,i=(i=e&&e.getAttribute("class"))&&-1<i.indexOf("highcharts-a11y-proxy-button");n.highlightedPoint===this&&e!==t&&!i&&t&&t.focus&&t.focus()})},x.prototype.onDrillupAll=function(){var t,e=this.lastDrilledDownPoint,i=this.chart,n=e&&b(i,e.seriesName);e&&n&&g(e.x)&&g(e.y)&&(t=f(n,e.x,e.y)),i.container&&i.container.focus(),t&&t.highlight&&t.highlight(),i.focusElement&&i.focusElement.removeFocusBorder()},x.prototype.getKeyboardNavigationHandler=function(){var e=this,i=this.keyCodes,n=this.chart,t=n.inverted;return new r(n,{keyCodeMap:[[t?[i.up,i.down]:[i.left,i.right],function(t){return e.onKbdSideways(this,t)}],[t?[i.left,i.right]:[i.up,i.down],function(t){return e.onKbdVertical(this,t)}],[[i.enter,i.space],function(t,e){return(t=n.highlightedPoint)&&(e.point=t,y(t.series,"click",e),t.firePointEvent("click")),this.response.success}],[[i.home],function(){return u(n),this.response.success}],[[i.end],function(){for(var t=n.series.length;t--&&(n.highlightedPoint=n.series[t].points[n.series[t].points.length-1],!n.series[t].highlightFirstValidPoint()););return this.response.success}],[[i.pageDown,i.pageUp],function(t){return n.highlightAdjacentSeries(t===i.pageDown),this.response.success}]],init:function(){return u(n),this.response.success},terminate:function(){return e.onHandlerTerminate()}})},x.prototype.onKbdSideways=function(t,e){var i=this.keyCodes;return this.attemptHighlightAdjacentPoint(t,e===i.right||e===i.down)},x.prototype.onKbdVertical=function(t,e){var i=this.chart,n=this.keyCodes;return e=e===n.down||e===n.right,(n=i.options.accessibility.keyboardNavigation.seriesNavigation).mode&&"serialize"===n.mode?this.attemptHighlightAdjacentPoint(t,e):(i[i.highlightedPoint&&i.highlightedPoint.series.keyboardMoveVertical?"highlightAdjacentPointVertical":"highlightAdjacentSeries"](e),t.response.success)},x.prototype.onHandlerTerminate=function(){var t=this.chart;t.tooltip&&t.tooltip.hide(0);var e=t.highlightedPoint&&t.highlightedPoint.series;e&&e.onMouseOut&&e.onMouseOut(),t.highlightedPoint&&t.highlightedPoint.onMouseOut&&t.highlightedPoint.onMouseOut(),delete t.highlightedPoint},x.prototype.attemptHighlightAdjacentPoint=function(t,e){var i=this.chart,n=i.options.accessibility.keyboardNavigation.wrapAround;return i.highlightAdjacentPoint(e)?t.response.success:n?t.init(e?1:-1):t.response[e?"next":"prev"]},x.prototype.onSeriesDestroy=function(t){var e=this.chart;e.highlightedPoint&&e.highlightedPoint.series===t&&(delete e.highlightedPoint,e.focusElement&&e.focusElement.removeFocusBorder())},x.prototype.destroy=function(){this.eventProvider.removeAddedEvents()},t=(t=x)||{},p=[],t.compose=function(t,e,i){-1===p.indexOf(t)&&(p.push(t),(t=t.prototype).highlightAdjacentPoint=A,t.highlightAdjacentPointVertical=w,t.highlightAdjacentSeries=C),-1===p.indexOf(e)&&(p.push(e),e.prototype.highlight=E),-1===p.indexOf(i)&&(p.push(i),(e=i.prototype).keyboardMoveVertical=!0,["column","gantt","pie"].forEach(function(t){d[t]&&(d[t].prototype.keyboardMoveVertical=!1)}),e.highlightFirstValidPoint=T)},t}),e(t,"Accessibility/Components/SeriesComponent/SeriesComponent.js",[t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Components/SeriesComponent/ForcedMarkers.js"],t["Accessibility/Components/SeriesComponent/NewDataAnnouncer.js"],t["Accessibility/Components/SeriesComponent/SeriesDescriber.js"],t["Accessibility/Components/SeriesComponent/SeriesKeyboardNavigation.js"],t["Core/Tooltip.js"]],function(t,e,n,o,i,r,s){var a,c,l=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),h=e.hideSeriesFromAT,u=i.describeSeries;return l(p,c=t),p.compose=function(t,e,i){o.compose(i),n.compose(i),r.compose(t,e,i)},p.prototype.init=function(){this.newDataAnnouncer=new o(this.chart),this.newDataAnnouncer.init(),this.keyboardNavigation=new r(this.chart,this.keyCodes),this.keyboardNavigation.init(),this.hideTooltipFromATWhenShown(),this.hideSeriesLabelsFromATWhenShown()},p.prototype.hideTooltipFromATWhenShown=function(){var t=this;this.addEvent(s,"refresh",function(){this.chart===t.chart&&this.label&&this.label.element&&this.label.element.setAttribute("aria-hidden",!0)})},p.prototype.hideSeriesLabelsFromATWhenShown=function(){this.addEvent(this.chart,"afterDrawSeriesLabels",function(){this.series.forEach(function(t){t.labelBySeries&&t.labelBySeries.attr("aria-hidden",!0)})})},p.prototype.onChartRender=function(){this.chart.series.forEach(function(t){(!1!==(t.options.accessibility&&t.options.accessibility.enabled)&&t.visible?u:h)(t)})},p.prototype.getKeyboardNavigation=function(){return this.keyboardNavigation.getKeyboardNavigationHandler()},p.prototype.destroy=function(){this.newDataAnnouncer.destroy(),this.keyboardNavigation.destroy()},p;function p(){return null!==c&&c.apply(this,arguments)||this}}),e(t,"Accessibility/Components/ZoomComponent.js",[t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Core/Globals.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Core/Utilities.js"]],function(t,e,i,s,n){var o,r,a,c=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),l=e.unhideChartElementFromAT,h=n.attr,u=n.pick;function p(){var t=null!==r&&r.apply(this,arguments)||this;return t.focusedMapNavButtonIx=-1,t}function d(t,e){var i=e||3,n=((e=this.getExtremes()).max-e.min)/i*t,o=(i=e.max+n)-(n=e.min+n);t<0&&n<e.dataMin?i=(n=e.dataMin)+o:0<t&&i>e.dataMax&&(n=(i=e.dataMax)-o),this.setExtremes(n,i)}return c(p,r=t),p.prototype.init=function(){var e=this,i=this.chart;this.proxyProvider.addGroup("zoom","div"),["afterShowResetZoom","afterDrilldown","drillupall"].forEach(function(t){e.addEvent(i,t,function(){e.updateProxyOverlays()})})},p.prototype.onChartUpdate=function(){var i=this.chart,n=this;i.mapNavButtons&&i.mapNavButtons.forEach(function(t,e){l(i,t.element),n.setMapNavButtonAttrs(t.element,"accessibility.zoom.mapZoom"+(e?"Out":"In"))})},p.prototype.setMapNavButtonAttrs=function(t,e){var i=this.chart;e=i.langFormat(e,{chart:i}),h(t,{tabindex:-1,role:"button","aria-label":e})},p.prototype.onChartRender=function(){this.updateProxyOverlays()},p.prototype.updateProxyOverlays=function(){var t=this.chart;this.proxyProvider.clearGroup("zoom"),t.resetZoomButton&&this.createZoomProxyButton(t.resetZoomButton,"resetZoomProxyButton",t.langFormat("accessibility.zoom.resetZoomButton",{chart:t})),t.drillUpButton&&this.createZoomProxyButton(t.drillUpButton,"drillUpProxyButton",t.langFormat("accessibility.drillUpButton",{chart:t,buttonText:t.getDrilldownBackText()}))},p.prototype.createZoomProxyButton=function(t,e,i){this[e]=this.proxyProvider.addProxyElement("zoom",{click:t},{"aria-label":i,tabindex:-1})},p.prototype.getMapZoomNavigation=function(){var t=this.keyCodes,e=this.chart,i=this;return new s(e,{keyCodeMap:[[[t.up,t.down,t.left,t.right],function(t){return i.onMapKbdArrow(this,t)}],[[t.tab],function(t,e){return i.onMapKbdTab(this,e)}],[[t.space,t.enter],function(){return i.onMapKbdClick(this)}]],validate:function(){return!!(e.mapZoom&&e.mapNavButtons&&e.mapNavButtons.length)},init:function(t){return i.onMapNavInit(t)}})},p.prototype.onMapKbdArrow=function(t,e){var i=this.keyCodes;return this.chart[e===i.up||e===i.down?"yAxis":"xAxis"][0].panStep(e===i.left||e===i.up?-1:1),t.response.success},p.prototype.onMapKbdTab=function(t,e){var i=this.chart;t=t.response;var n=(e=e.shiftKey)&&!this.focusedMapNavButtonIx||!e&&this.focusedMapNavButtonIx;return i.mapNavButtons[this.focusedMapNavButtonIx].setState(0),n?(i.mapZoom(),t[e?"prev":"next"]):(this.focusedMapNavButtonIx+=e?-1:1,e=i.mapNavButtons[this.focusedMapNavButtonIx],i.setFocusToElement(e.box,e.element),e.setState(2),t.success)},p.prototype.onMapKbdClick=function(t){return this.fakeClickEvent(this.chart.mapNavButtons[this.focusedMapNavButtonIx].element),t.response.success},p.prototype.onMapNavInit=function(t){var e=this.chart,i=e.mapNavButtons[0],n=e.mapNavButtons[1],i=0<t?i:n;e.setFocusToElement(i.box,i.element),i.setState(2),this.focusedMapNavButtonIx=0<t?0:1},p.prototype.simpleButtonNavigation=function(t,e,i){var n=this.keyCodes,o=this,r=this.chart;return new s(r,{keyCodeMap:[[[n.tab,n.up,n.down,n.left,n.right],function(t,e){return this.response[t===n.tab&&e.shiftKey||t===n.left||t===n.up?"prev":"next"]}],[[n.space,n.enter],function(){var t=i(this,r);return u(t,this.response.success)}]],validate:function(){return r[t]&&r[t].box&&o[e].buttonElement},init:function(){r.setFocusToElement(r[t].box,o[e].buttonElement)}})},p.prototype.getKeyboardNavigation=function(){return[this.simpleButtonNavigation("resetZoomButton","resetZoomProxyButton",function(t,e){e.zoomOut()}),this.simpleButtonNavigation("drillUpButton","drillUpProxyButton",function(t,e){return e.drillUp(),t.response.prev}),this.getMapZoomNavigation()]},(a=t=(t=p)||{}).composedClasses=[],a.compose=function(t){-1===a.composedClasses.indexOf(t)&&(a.composedClasses.push(t),t.prototype.panStep=d)},t}),e(t,"Accessibility/HighContrastMode.js",[t["Core/Globals.js"]],function(t){var i=t.doc,n=t.isMS,o=t.win;return{isHighContrastModeActive:function(){var t=/(Edg)/.test(o.navigator.userAgent);if(o.matchMedia&&t)return o.matchMedia("(-ms-high-contrast: active)").matches;if(n&&o.getComputedStyle){(t=i.createElement("div")).style.backgroundImage="url(data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==)",i.body.appendChild(t);var e=(t.currentStyle||o.getComputedStyle(t)).backgroundImage;return i.body.removeChild(t),"none"===e}return!1},setHighContrastTheme:function(t){t.highContrastModeActive=!0;var i=t.options.accessibility.highContrastTheme;t.update(i,!1),t.series.forEach(function(t){var e=i.plotOptions[t.type]||{};t.update({color:e.color||"windowText",colors:[e.color||"windowText"],borderColor:e.borderColor||"window"}),t.points.forEach(function(t){t.options&&t.options.color&&t.update({color:e.color||"windowText",borderColor:e.borderColor||"window"},!1)})}),t.redraw()}}}),e(t,"Accessibility/HighContrastTheme.js",[],function(){return{chart:{backgroundColor:"window"},title:{style:{color:"windowText"}},subtitle:{style:{color:"windowText"}},colorAxis:{minColor:"windowText",maxColor:"windowText",stops:[]},colors:["windowText"],xAxis:{gridLineColor:"windowText",labels:{style:{color:"windowText"}},lineColor:"windowText",minorGridLineColor:"windowText",tickColor:"windowText",title:{style:{color:"windowText"}}},yAxis:{gridLineColor:"windowText",labels:{style:{color:"windowText"}},lineColor:"windowText",minorGridLineColor:"windowText",tickColor:"windowText",title:{style:{color:"windowText"}}},tooltip:{backgroundColor:"window",borderColor:"windowText",style:{color:"windowText"}},plotOptions:{series:{lineColor:"windowText",fillColor:"window",borderColor:"windowText",edgeColor:"windowText",borderWidth:1,dataLabels:{connectorColor:"windowText",color:"windowText",style:{color:"windowText",textOutline:"none"}},marker:{lineColor:"windowText",fillColor:"windowText"}},pie:{color:"window",colors:["window"],borderColor:"windowText",borderWidth:1},boxplot:{fillColor:"window"},candlestick:{lineColor:"windowText",fillColor:"window"},errorbar:{fillColor:"window"}},legend:{backgroundColor:"window",itemStyle:{color:"windowText"},itemHoverStyle:{color:"windowText"},itemHiddenStyle:{color:"#555"},title:{style:{color:"windowText"}}},credits:{style:{color:"windowText"}},labels:{style:{color:"windowText"}},drilldown:{activeAxisLabelStyle:{color:"windowText"},activeDataLabelStyle:{color:"windowText"}},navigation:{buttonOptions:{symbolStroke:"windowText",theme:{fill:"window"}}},rangeSelector:{buttonTheme:{fill:"window",stroke:"windowText",style:{color:"windowText"},states:{hover:{fill:"window",stroke:"windowText",style:{color:"windowText"}},select:{fill:"#444",stroke:"windowText",style:{color:"windowText"}}}},inputBoxBorderColor:"windowText",inputStyle:{backgroundColor:"window",color:"windowText"},labelStyle:{color:"windowText"}},navigator:{handles:{backgroundColor:"window",borderColor:"windowText"},outlineColor:"windowText",maskFill:"transparent",series:{color:"windowText",lineColor:"windowText"},xAxis:{gridLineColor:"windowText"}},scrollbar:{barBackgroundColor:"#444",barBorderColor:"windowText",buttonArrowColor:"windowText",buttonBackgroundColor:"window",buttonBorderColor:"windowText",rifleColor:"windowText",trackBackgroundColor:"window",trackBorderColor:"windowText"}}}),e(t,"Accessibility/Options/Options.js",[],function(){return{accessibility:{enabled:!0,screenReaderSection:{beforeChartFormat:"<{headingTagName}>{chartTitle}</{headingTagName}><div>{typeDescription}</div><div>{chartSubtitle}</div><div>{chartLongdesc}</div><div>{playAsSoundButton}</div><div>{viewTableButton}</div><div>{xAxisDescription}</div><div>{yAxisDescription}</div><div>{annotationsTitle}{annotationsList}</div>",afterChartFormat:"{endOfChartMarker}",axisRangeDateFormat:"%Y-%m-%d %H:%M:%S"},series:{describeSingleSeries:!1,pointDescriptionEnabledThreshold:200},point:{valueDescriptionFormat:"{index}. {xDescription}{separator}{value}."},landmarkVerbosity:"all",linkedDescription:'*[data-highcharts-chart="{index}"] + .highcharts-description',keyboardNavigation:{enabled:!0,focusBorder:{enabled:!0,hideBrowserFocusOutline:!0,style:{color:"#335cad",lineWidth:2,borderRadius:3},margin:2},order:["series","zoom","rangeSelector","legend","chartMenu"],wrapAround:!0,seriesNavigation:{skipNullPoints:!0,pointNavigationEnabledThreshold:!1}},announceNewData:{enabled:!1,minAnnounceInterval:5e3,interruptUser:!1}},legend:{accessibility:{enabled:!0,keyboardNavigation:{enabled:!0}}},exporting:{accessibility:{enabled:!0}}}}),e(t,"Accessibility/Options/LangOptions.js",[],function(){return{accessibility:{defaultChartTitle:"Chart",chartContainerLabel:"{title}. Highcharts interactive chart.",svgContainerLabel:"Interactive chart",drillUpButton:"{buttonText}",credits:"Chart credits: {creditsStr}",thousandsSep:",",svgContainerTitle:"",graphicContainerLabel:"",screenReaderSection:{beforeRegionLabel:"Chart screen reader information, {chartTitle}.",afterRegionLabel:"",annotations:{heading:"Chart annotations summary",descriptionSinglePoint:"{annotationText}. Related to {annotationPoint}",descriptionMultiplePoints:"{annotationText}. Related to {annotationPoint}{ Also related to, #each(additionalAnnotationPoints)}",descriptionNoPoints:"{annotationText}"},endOfChartMarker:"End of interactive chart."},sonification:{playAsSoundButtonText:"Play as sound, {chartTitle}",playAsSoundClickAnnouncement:"Play"},legend:{legendLabelNoTitle:"Toggle series visibility, {chartTitle}",legendLabel:"Chart legend: {legendTitle}",legendItem:"Show {itemName}"},zoom:{mapZoomIn:"Zoom chart",mapZoomOut:"Zoom out chart",resetZoomButton:"Reset zoom"},rangeSelector:{dropdownLabel:"{rangeTitle}",minInputLabel:"Select start date.",maxInputLabel:"Select end date.",clickButtonAnnouncement:"Viewing {axisRangeDescription}"},table:{viewAsDataTableButtonText:"View as data table, {chartTitle}",tableSummary:"Table representation of chart."},announceNewData:{newDataAnnounce:"Updated data for chart {chartTitle}",newSeriesAnnounceSingle:"New data series: {seriesDesc}",newPointAnnounceSingle:"New data point: {pointDesc}",newSeriesAnnounceMultiple:"New data series in chart {chartTitle}: {seriesDesc}",newPointAnnounceMultiple:"New data point in chart {chartTitle}: {pointDesc}"},seriesTypeDescriptions:{boxplot:"Box plot charts are typically used to display groups of statistical data. Each data point in the chart can have up to 5 values: minimum, lower quartile, median, upper quartile, and maximum.",arearange:"Arearange charts are line charts displaying a range between a lower and higher value for each point.",areasplinerange:"These charts are line charts displaying a range between a lower and higher value for each point.",bubble:"Bubble charts are scatter charts where each data point also has a size value.",columnrange:"Columnrange charts are column charts displaying a range between a lower and higher value for each point.",errorbar:"Errorbar series are used to display the variability of the data.",funnel:"Funnel charts are used to display reduction of data in stages.",pyramid:"Pyramid charts consist of a single pyramid with item heights corresponding to each point value.",waterfall:"A waterfall chart is a column chart where each column contributes towards a total end value."},chartTypes:{emptyChart:"Empty chart",mapTypeDescription:"Map of {mapTitle} with {numSeries} data series.",unknownMap:"Map of unspecified region with {numSeries} data series.",combinationChart:"Combination chart with {numSeries} data series.",defaultSingle:"Chart with {numPoints} data {#plural(numPoints, points, point)}.",defaultMultiple:"Chart with {numSeries} data series.",splineSingle:"Line chart with {numPoints} data {#plural(numPoints, points, point)}.",splineMultiple:"Line chart with {numSeries} lines.",lineSingle:"Line chart with {numPoints} data {#plural(numPoints, points, point)}.",lineMultiple:"Line chart with {numSeries} lines.",columnSingle:"Bar chart with {numPoints} {#plural(numPoints, bars, bar)}.",columnMultiple:"Bar chart with {numSeries} data series.",barSingle:"Bar chart with {numPoints} {#plural(numPoints, bars, bar)}.",barMultiple:"Bar chart with {numSeries} data series.",pieSingle:"Pie chart with {numPoints} {#plural(numPoints, slices, slice)}.",pieMultiple:"Pie chart with {numSeries} pies.",scatterSingle:"Scatter chart with {numPoints} {#plural(numPoints, points, point)}.",scatterMultiple:"Scatter chart with {numSeries} data series.",boxplotSingle:"Boxplot with {numPoints} {#plural(numPoints, boxes, box)}.",boxplotMultiple:"Boxplot with {numSeries} data series.",bubbleSingle:"Bubble chart with {numPoints} {#plural(numPoints, bubbles, bubble)}.",bubbleMultiple:"Bubble chart with {numSeries} data series."},axis:{xAxisDescriptionSingular:"The chart has 1 X axis displaying {names[0]}. {ranges[0]}",xAxisDescriptionPlural:"The chart has {numAxes} X axes displaying {#each(names, -1) }and {names[-1]}.",yAxisDescriptionSingular:"The chart has 1 Y axis displaying {names[0]}. {ranges[0]}",yAxisDescriptionPlural:"The chart has {numAxes} Y axes displaying {#each(names, -1) }and {names[-1]}.",timeRangeDays:"Range: {range} days.",timeRangeHours:"Range: {range} hours.",timeRangeMinutes:"Range: {range} minutes.",timeRangeSeconds:"Range: {range} seconds.",rangeFromTo:"Range: {rangeFrom} to {rangeTo}.",rangeCategories:"Range: {numCategories} categories."},exporting:{chartMenuLabel:"Chart menu",menuButtonLabel:"View chart menu, {chartTitle}"},series:{summary:{default:"{name}, series {ix} of {numSeries} with {numPoints} data {#plural(numPoints, points, point)}.",defaultCombination:"{name}, series {ix} of {numSeries} with {numPoints} data {#plural(numPoints, points, point)}.",line:"{name}, line {ix} of {numSeries} with {numPoints} data {#plural(numPoints, points, point)}.",lineCombination:"{name}, series {ix} of {numSeries}. Line with {numPoints} data {#plural(numPoints, points, point)}.",spline:"{name}, line {ix} of {numSeries} with {numPoints} data {#plural(numPoints, points, point)}.",splineCombination:"{name}, series {ix} of {numSeries}. Line with {numPoints} data {#plural(numPoints, points, point)}.",column:"{name}, bar series {ix} of {numSeries} with {numPoints} {#plural(numPoints, bars, bar)}.",columnCombination:"{name}, series {ix} of {numSeries}. Bar series with {numPoints} {#plural(numPoints, bars, bar)}.",bar:"{name}, bar series {ix} of {numSeries} with {numPoints} {#plural(numPoints, bars, bar)}.",barCombination:"{name}, series {ix} of {numSeries}. Bar series with {numPoints} {#plural(numPoints, bars, bar)}.",pie:"{name}, pie {ix} of {numSeries} with {numPoints} {#plural(numPoints, slices, slice)}.",pieCombination:"{name}, series {ix} of {numSeries}. Pie with {numPoints} {#plural(numPoints, slices, slice)}.",scatter:"{name}, scatter plot {ix} of {numSeries} with {numPoints} {#plural(numPoints, points, point)}.",scatterCombination:"{name}, series {ix} of {numSeries}, scatter plot with {numPoints} {#plural(numPoints, points, point)}.",boxplot:"{name}, boxplot {ix} of {numSeries} with {numPoints} {#plural(numPoints, boxes, box)}.",boxplotCombination:"{name}, series {ix} of {numSeries}. Boxplot with {numPoints} {#plural(numPoints, boxes, box)}.",bubble:"{name}, bubble series {ix} of {numSeries} with {numPoints} {#plural(numPoints, bubbles, bubble)}.",bubbleCombination:"{name}, series {ix} of {numSeries}. Bubble series with {numPoints} {#plural(numPoints, bubbles, bubble)}.",map:"{name}, map {ix} of {numSeries} with {numPoints} {#plural(numPoints, areas, area)}.",mapCombination:"{name}, series {ix} of {numSeries}. Map with {numPoints} {#plural(numPoints, areas, area)}.",mapline:"{name}, line {ix} of {numSeries} with {numPoints} data {#plural(numPoints, points, point)}.",maplineCombination:"{name}, series {ix} of {numSeries}. Line with {numPoints} data {#plural(numPoints, points, point)}.",mapbubble:"{name}, bubble series {ix} of {numSeries} with {numPoints} {#plural(numPoints, bubbles, bubble)}.",mapbubbleCombination:"{name}, series {ix} of {numSeries}. Bubble series with {numPoints} {#plural(numPoints, bubbles, bubble)}."},description:"{description}",xAxisDescription:"X axis, {name}",yAxisDescription:"Y axis, {name}",nullPointValue:"No value",pointAnnotationsDescription:"{Annotation: #each(annotations). }"}}}}),e(t,"Accessibility/Options/DeprecatedOptions.js",[t["Core/Utilities.js"]],function(t){function c(t,e,i){for(var n,o=0;o<e.length-1;++o)t=t[n=e[o]]=r(t[n],{});t[e[e.length-1]]=i}function a(i,n,o,r){function t(t,e){return e.reduce(function(t,e){return t[e]},t)}var s=t(i.options,n),a=t(i.options,o);Object.keys(r).forEach(function(t){var e=s[t];void 0!==e&&(c(a,r[t],e),l(32,!1,i,((e={})[n.join(".")+"."+t]=o.join(".")+"."+r[t].join("."),e)))})}var l=t.error,r=t.pick;return function(t){var i,n,o,e,r,s;n=(i=t).options.chart,o=i.options.accessibility||{},["description","typeDescription"].forEach(function(t){var e;n[t]&&(o[t]=n[t],l(32,!1,i,((e={})["chart."+t]="use accessibility."+t,e)))}),(e=t).axes.forEach(function(t){(t=t.options)&&t.description&&(t.accessibility=t.accessibility||{},t.accessibility.description=t.description,l(32,!1,e,{"axis.description":"use axis.accessibility.description"}))}),t.series&&(s={description:["accessibility","description"],exposeElementToA11y:["accessibility","exposeAsGroupOnly"],pointDescriptionFormatter:["accessibility","point","descriptionFormatter"],skipKeyboardNavigation:["accessibility","keyboardNavigation","enabled"],"accessibility.pointDescriptionFormatter":["accessibility","point","descriptionFormatter"]},(r=t).series.forEach(function(i){Object.keys(s).forEach(function(t){var e=i.options[t];void 0!==(e="accessibility.pointDescriptionFormatter"===t?i.options.accessibility&&i.options.accessibility.pointDescriptionFormatter:e)&&(c(i.options,s[t],"skipKeyboardNavigation"===t?!e:e),l(32,!1,r,((e={})["series."+t]="series."+s[t].join("."),e)))})})),a(t,["accessibility"],["accessibility"],{pointDateFormat:["point","dateFormat"],pointDateFormatter:["point","dateFormatter"],pointDescriptionFormatter:["point","descriptionFormatter"],pointDescriptionThreshold:["series","pointDescriptionEnabledThreshold"],pointNavigationThreshold:["keyboardNavigation","seriesNavigation","pointNavigationEnabledThreshold"],pointValueDecimals:["point","valueDecimals"],pointValuePrefix:["point","valuePrefix"],pointValueSuffix:["point","valueSuffix"],screenReaderSectionFormatter:["screenReaderSection","beforeChartFormatter"],describeSingleSeries:["series","describeSingleSeries"],seriesDescriptionFormatter:["series","descriptionFormatter"],onTableAnchorClick:["screenReaderSection","onViewDataTableClick"],axisRangeDateFormat:["screenReaderSection","axisRangeDateFormat"]}),a(t,["accessibility","keyboardNavigation"],["accessibility","keyboardNavigation","seriesNavigation"],{skipNullPoints:["skipNullPoints"],mode:["mode"]}),a(t,["lang","accessibility"],["lang","accessibility"],{legendItem:["legend","legendItem"],legendLabel:["legend","legendLabel"],mapZoomIn:["zoom","mapZoomIn"],mapZoomOut:["zoom","mapZoomOut"],resetZoomButton:["zoom","resetZoomButton"],screenReaderRegionLabel:["screenReaderSection","beforeRegionLabel"],rangeSelectorButton:["rangeSelector","buttonText"],rangeSelectorMaxInput:["rangeSelector","maxInputLabel"],rangeSelectorMinInput:["rangeSelector","minInputLabel"],svgContainerEnd:["screenReaderSection","endOfChartMarker"],viewAsDataTable:["table","viewAsDataTableButtonText"],tableSummary:["table","tableSummary"]})}}),e(t,"Accessibility/Accessibility.js",[t["Core/DefaultOptions.js"],t["Core/Globals.js"],t["Core/Utilities.js"],t["Accessibility/A11yI18n.js"],t["Accessibility/Components/ContainerComponent.js"],t["Accessibility/FocusBorder.js"],t["Accessibility/Components/InfoRegionsComponent.js"],t["Accessibility/KeyboardNavigation.js"],t["Accessibility/Components/LegendComponent.js"],t["Accessibility/Components/MenuComponent.js"],t["Accessibility/Components/SeriesComponent/NewDataAnnouncer.js"],t["Accessibility/ProxyProvider.js"],t["Accessibility/Components/RangeSelectorComponent.js"],t["Accessibility/Components/SeriesComponent/SeriesComponent.js"],t["Accessibility/Components/ZoomComponent.js"],t["Accessibility/HighContrastMode.js"],t["Accessibility/HighContrastTheme.js"],t["Accessibility/Options/Options.js"],t["Accessibility/Options/LangOptions.js"],t["Accessibility/Options/DeprecatedOptions.js"]],function(t,e,i,a,o,c,r,l,h,u,p,n,d,m,g,s,y,f,b,v){t=t.defaultOptions;var x,A,w=e.doc,C=i.addEvent,E=i.extend,T=i.fireEvent,S=i.merge;function P(t){this.proxyProvider=this.keyboardNavigation=this.components=this.chart=void 0,this.init(t)}function M(){this.accessibility&&this.accessibility.destroy()}function k(){this.a11yDirty&&this.renderTo&&(delete this.a11yDirty,this.updateA11yEnabled());var e=this.accessibility;e&&!e.zombie&&(e.proxyProvider.updateProxyElementPositions(),e.getComponentOrder().forEach(function(t){e.components[t].onChartRender()}))}function B(t){(t=t.options.accessibility)&&(t.customComponents&&(this.options.accessibility.customComponents=t.customComponents,delete t.customComponents),S(!0,this.options.accessibility,t),this.accessibility&&this.accessibility.destroy&&(this.accessibility.destroy(),delete this.accessibility)),this.a11yDirty=!0}function D(){var t=this.accessibility,e=this.options.accessibility;e&&e.enabled?t&&!t.zombie?t.update():(this.accessibility=t=new x(this),t.zombie||t.update()):t?(t.destroy&&t.destroy(),delete this.accessibility):this.renderTo.setAttribute("aria-hidden",!0)}function I(){this.series.chart.accessibility&&(this.series.chart.a11yDirty=!0)}return P.prototype.init=function(t){this.chart=t,w.addEventListener&&t.renderer.isSVG?(v(t),this.proxyProvider=new n(this.chart),this.initComponents(),this.keyboardNavigation=new l(t,this.components)):(this.zombie=!0,this.components={},t.renderTo.setAttribute("aria-hidden",!0))},P.prototype.initComponents=function(){var e=this.chart,i=this.proxyProvider,t=e.options.accessibility;this.components={container:new o,infoRegions:new r,legend:new h,chartMenu:new u,rangeSelector:new d,series:new m,zoom:new g},t.customComponents&&E(this.components,t.customComponents);var n=this.components;this.getComponentOrder().forEach(function(t){n[t].initBase(e,i),n[t].init()})},P.prototype.getComponentOrder=function(){if(!this.components)return[];if(!this.components.series)return Object.keys(this.components);var t=Object.keys(this.components).filter(function(t){return"series"!==t});return["series"].concat(t)},P.prototype.update=function(){var e=this.components,i=this.chart,t=i.options.accessibility;T(i,"beforeA11yUpdate"),i.types=this.getChartTypes(),t=t.keyboardNavigation.order,this.proxyProvider.updateGroupOrder(t),this.getComponentOrder().forEach(function(t){e[t].onChartUpdate(),T(i,"afterA11yComponentUpdate",{name:t,component:e[t]})}),this.keyboardNavigation.update(t),!i.highContrastModeActive&&s.isHighContrastModeActive()&&s.setHighContrastTheme(i),T(i,"afterA11yUpdate",{accessibility:this})},P.prototype.destroy=function(){var t=this.chart||{},e=this.components;Object.keys(e).forEach(function(t){e[t].destroy(),e[t].destroyBase()}),this.proxyProvider&&this.proxyProvider.destroy(),this.keyboardNavigation&&this.keyboardNavigation.destroy(),t.renderTo&&t.renderTo.setAttribute("aria-hidden",!0),t.focusElement&&t.focusElement.removeFocusBorder()},P.prototype.getChartTypes=function(){var e={};return this.chart.series.forEach(function(t){e[t.type]=1}),Object.keys(e)},x=e=(e=P)||{},A=[],x.i18nFormat=a.i18nFormat,x.compose=function(t,e,i,n,o,r,s){l.compose(e),p.compose(o),h.compose(e,i),u.compose(e),m.compose(e,n,o),g.compose(t),a.compose(e),c.compose(e,r),s&&d.compose(e,s),-1===A.indexOf(e)&&(A.push(e),e.prototype.updateA11yEnabled=D,C(e,"destroy",M),C(e,"render",k),C(e,"update",B),["addSeries","init"].forEach(function(t){C(e,t,function(){this.a11yDirty=!0})}),["afterDrilldown","drillupall"].forEach(function(t){C(e,t,function(){var t=this.accessibility;t&&!t.zombie&&t.update()})})),-1===A.indexOf(n)&&(A.push(n),C(n,"update",I)),-1===A.indexOf(o)&&(A.push(o),["update","updatedData","remove"].forEach(function(t){C(o,t,function(){this.chart.accessibility&&(this.chart.a11yDirty=!0)})}))},S(!0,t,f,{accessibility:{highContrastTheme:y},lang:b}),e}),e(t,"masters/modules/accessibility.src.js",[t["Core/Globals.js"],t["Accessibility/Accessibility.js"],t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Accessibility/Components/SeriesComponent/SeriesDescriber.js"]],function(t,e,i,n,o,r,s){t.i18nFormat=e.i18nFormat,t.A11yChartUtilities=n,t.A11yHTMLUtilities=o,t.AccessibilityComponent=i,t.KeyboardNavigationHandler=r,t.SeriesAccessibilityDescriber=s,e.compose(t.Axis,t.Chart,t.Legend,t.Point,t.Series,t.SVGElement,t.RangeSelector)})});