"use strict";!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/funnel",["highcharts"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){t=t?t._modules:{};function e(t,e,i,o){t.hasOwnProperty(e)||(t[e]=o.apply(null,i))}e(t,"Series/Funnel/FunnelSeries.js",[t["Core/Chart/Chart.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e,c,i){var o,n,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),D=e.noop,f=c.series,r=c.seriesTypes.pie,s=i.addEvent,l=i.extend,S=i.fireEvent,p=i.isArray,e=i.merge,w=i.pick,r=(a(d,n=r),d.prototype.alignDataLabel=function(t,e,i,o,n){var a=t.series,r=a.options.reversed,s=t.dlBox||t.shapeArgs,l=i.align,c=i.verticalAlign,p=((a.options||{}).dataLabels||{}).inside,d=a.center[1],h=r?2*d-t.plotY:t.plotY,u=a.getWidthAt(h-s.height/2+e.height),d="middle"===c?(s.topWidth-s.bottomWidth)/4:(u-s.bottomWidth)/2,a=s.y,h=s.x,u=w(e.height,e.getBBox().height);"middle"===c?a=s.y-s.height/2+u/2:"top"===c&&(a=s.y-s.height+u+i.padding),("top"===c&&!r||"bottom"===c&&r||"middle"===c)&&("right"===l?h=s.x-i.padding+d:"left"===l&&(h=s.x+i.padding-d)),o={x:h,y:r?a-s.height:a,width:s.bottomWidth,height:s.height},i.verticalAlign="bottom",p&&!t.visible||f.prototype.alignDataLabel.call(this,t,e,i,o,n),p&&(!t.visible&&t.dataLabel&&(t.dataLabel.placed=!1),t.contrastColor&&e.css({color:t.contrastColor}))},d.prototype.drawDataLabels=function(){var t,e,i,o,n,a=this,r=a.data,s=a.options.dataLabels.distance,l=r.length;for(a.center[2]-=2*s;l--;)e=(t=(i=r[l]).half)?1:-1,n=i.plotY,i.labelDistance=w(i.options.dataLabels&&i.options.dataLabels.distance,s),a.maxLabelDistance=Math.max(i.labelDistance,a.maxLabelDistance||0),o=a.getX(n,t,i),i.labelPosition={natural:{x:0,y:n},final:{},alignment:t?"right":"left",connectorPosition:{breakAt:{x:o+(i.labelDistance-5)*e,y:n},touchingSliceAt:{x:o+i.labelDistance*e,y:n}}};c.seriesTypes[a.options.dataLabels.inside?"column":"pie"].prototype.drawDataLabels.call(this)},d.prototype.translate=function(){var e,i,o,n,a,r,s,l,c,p=0,d=this,t=d.chart,h=d.options,u=h.reversed,f=h.ignoreHiddenPoint,g=t.plotWidth,y=t.plotHeight,b=0,t=h.center,v=O(t[0],g),m=O(t[1],y),L=O(h.width,g),_=O(h.height,y),x=O(h.neckWidth,g),A=O(h.neckHeight,y),W=m-_/2+_-A,y=d.data,j="left"===h.dataLabels.position?1:0;function O(t,e){return/%$/.test(t)?e*parseInt(t,10)/100:parseInt(t,10)}d.getWidthAt=function(t){return W<t||_===A?x:x+(L-x)*(1-(t-(m-_/2))/(_-A))},d.getX=function(t,e,i){return v+(e?-1:1)*(d.getWidthAt(u?2*m-t:t)/2+i.labelDistance)},d.center=[v,m,_],d.centerX=v,y.forEach(function(t){f&&!1===t.visible||(p+=t.y)}),y.forEach(function(t){c=null,i=p?t.y/p:0,s=(n=m-_/2+b*_)+i*_,e=d.getWidthAt(n),a=(o=v-e/2)+e,e=d.getWidthAt(s),l=(r=v-e/2)+e,W<n?(o=r=v-x/2,a=l=v+x/2):W<s&&(c=s,e=d.getWidthAt(W),l=(r=v-e/2)+e,s=W),u&&(n=2*m-n,s=2*m-s,null!==c&&(c=2*m-c)),e=[["M",o,n],["L",a,n],["L",l,s]],null!==c&&e.push(["L",l,c],["L",r,c]),e.push(["L",r,s],["Z"]),t.shapeType="path",t.shapeArgs={d:e},t.percentage=100*i,t.plotX=v,t.plotY=(n+(c||s))/2,t.tooltipPos=[v,t.plotY],t.dlBox={x:r,y:n,topWidth:a-o,bottomWidth:l-r,height:Math.abs(w(c,s)-n),width:NaN},t.slice=D,t.half=j,f&&!1===t.visible||(b+=i)}),S(d,"afterTranslate")},d.prototype.sortByAngle=function(t){t.sort(function(t,e){return t.plotY-e.plotY})},d.defaultOptions=e(r.defaultOptions,{animation:!1,center:["50%","50%"],width:"90%",neckWidth:"30%",height:"100%",neckHeight:"25%",reversed:!1,size:!0,dataLabels:{connectorWidth:1,verticalAlign:"middle"},states:{select:{color:"#cccccc",borderColor:"#000000"}}}),d);function d(){var t=null!==n&&n.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return l(r.prototype,{animate:D}),s(t,"afterHideAllOverlappingLabels",function(){this.series.forEach(function(t){var e=t.options&&t.options.dataLabels;p(e)&&(e=e[0]),t.is("pie")&&t.placeDataLabels&&e&&!e.inside&&t.placeDataLabels()})}),c.registerSeriesType("funnel",r),r}),e(t,"Series/Pyramid/PyramidSeries.js",[t["Series/Funnel/FunnelSeries.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e,i){var o,n,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),i=i.merge,t=(a(r,n=t),r.defaultOptions=i(t.defaultOptions,{neckWidth:"0%",neckHeight:"0%",reversed:!0}),r);function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return e.registerSeriesType("pyramid",t),t}),e(t,"masters/modules/funnel.src.js",[],function(){})});