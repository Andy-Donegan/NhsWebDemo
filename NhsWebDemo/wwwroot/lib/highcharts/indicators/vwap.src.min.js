"use strict";!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/indicators/vwap",["highcharts","highcharts/modules/stock"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){t=t?t._modules:{};function e(t,e,o,r){t.hasOwnProperty(e)||(t[e]=r.apply(null,o))}e(t,"Stock/Indicators/VWAP/VWAPIndicator.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e){var r,o,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),n=t.seriesTypes.sma,a=e.error,u=e.isArray,e=e.merge,n=(i(s,o=n),s.prototype.getValues=function(t,e){var o=t.chart,r=t.xData,i=t.yData,n=e.period,s=!0;if(t=o.get(e.volumeSeriesID))return u(i[0])||(s=!1),this.calculateVWAPValues(s,r,i,t,n);a("Series "+e.volumeSeriesID+" not found! Check `volumeSeriesID`.",!0,o)},s.prototype.calculateVWAPValues=function(t,e,o,r,i){for(var n,s,a=r.yData,u=r.xData.length,r=e.length,c=[],p=[],h=[],l=[],f=[],d=r<=u?r:u,y=0,v=0;y<d;y++)s=t?(o[y][1]+o[y][2]+o[y][3])/3:o[y],s*=a[y],n=v?c[y-1]+s:s,s=v?p[y-1]+a[y]:a[y],c.push(n),p.push(s),f.push([e[y],n/s]),h.push(f[y][0]),l.push(f[y][1]),++v===i&&(v=0);return{values:f,xData:h,yData:l}},s.defaultOptions=e(n.defaultOptions,{params:{index:void 0,period:30,volumeSeriesID:"volume"}}),s);function s(){var t=null!==o&&o.apply(this,arguments)||this;return t.data=void 0,t.points=void 0,t.options=void 0,t}return t.registerSeriesType("vwap",n),n}),e(t,"masters/indicators/vwap.src.js",[],function(){})});