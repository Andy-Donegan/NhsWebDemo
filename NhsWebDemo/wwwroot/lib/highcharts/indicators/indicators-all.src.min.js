"use strict";!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/indicators/indicators-all",["highcharts","highcharts/modules/stock"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){t=t?t._modules:{};function e(t,e,o,r){t.hasOwnProperty(e)||(t[e]=r.apply(null,o))}e(t,"Stock/Indicators/SMA/SMAComposition.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e){t.series,t.seriesTypes.ohlc.prototype,e.addEvent,e.extend}),e(t,"Stock/Indicators/SMA/SMAIndicator.js",[t["Core/Chart/Chart.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(e,t,o){var r,n,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=t.seriesTypes.line,a=o.addEvent,p=o.error,l=o.extend,y=o.isArray,u=o.merge,c=o.pick,d=o.splat,s=(i(h,n=s),h.prototype.destroy=function(){this.dataEventsToUnbind.forEach(function(t){t()}),n.prototype.destroy.apply(this,arguments)},h.prototype.getName=function(){var t=this.name,o=[];return t||((this.nameComponents||[]).forEach(function(t,e){o.push(this.options.params[t]+c(this.nameSuffixes[e],""))},this),t=(this.nameBase||this.type.toUpperCase())+(this.nameComponents?" ("+o.join(", ")+")":"")),t},h.prototype.getValues=function(t,e){var o,r,n=e.period,i=t.xData,s=t.yData,a=s.length,p=0,l=0,u=[],c=[],d=[],h=-1;if(!(i.length<n)){for(y(s[0])&&(h=e.index||0);p<n-1;)l+=h<0?s[p]:s[p][h],p++;for(o=p;o<a;o++)l+=h<0?s[o]:s[o][h],r=[i[o],l/n],u.push(r),c.push(r[0]),d.push(r[1]),l-=h<0?s[o-p]:s[o-p][h];return{values:u,xData:c,yData:d}}},h.prototype.init=function(o,t){var r=this;n.prototype.init.call(r,o,t);t=a(e,"afterLinkSeries",function(){var t,e=!!r.dataEventsToUnbind.length;if(!r.linkedParent)return p("Series "+r.options.linkedTo+" not found! Check `linkedTo`.",!1,o);e||(r.dataEventsToUnbind.push(a(r.linkedParent,"updatedData",function(){r.recalculateValues()})),r.calculateOn.xAxis&&r.dataEventsToUnbind.push(a(r.linkedParent.xAxis,r.calculateOn.xAxis,function(){r.recalculateValues()}))),"init"===r.calculateOn.chart?r.processedYData||r.recalculateValues():e||(t=a(r.chart,r.calculateOn.chart,function(){r.recalculateValues(),t()}))},{order:0});r.dataEventsToUnbind=[],r.eventsToUnbind.push(t)},h.prototype.recalculateValues=function(){var t,e,o,r,n=this,i=n.points||[],s=(n.xData||[]).length,a=n.getValues(n.linkedParent,n.options.params)||{values:[],xData:[],yData:[]},p=[],l=!0;if(s&&!n.hasGroupedData&&n.visible&&n.points)if(n.cropped){for(n.xAxis&&(e=n.xAxis.min,o=n.xAxis.max),t=n.cropData(a.xData,a.yData,e,o),r=0;r<t.xData.length;r++)p.push([t.xData[r]].concat(d(t.yData[r])));e=a.xData.indexOf(n.xData[0]),o=a.xData.indexOf(n.xData[n.xData.length-1]),-1===e&&o===a.xData.length-2&&p[0][0]===i[0].x&&p.shift(),n.updateData(p)}else a.xData.length!==s-1&&a.xData.length!==s+1&&(l=!1,n.updateData(a.values));l&&(n.xData=a.xData,n.yData=a.yData,n.options.data=a.values),n.calculateOn.xAxis&&n.processedXData&&(delete n.processedXData,n.isDirty=!0,n.redraw()),n.isDirtyData=!1},h.prototype.processData=function(){var t=this,e=t.options.compareToMain,o=t.linkedParent;n.prototype.processData.apply(t,arguments),t.dataModify&&o&&o.dataModify&&o.dataModify.compareValue&&e&&(t.dataModify.compareValue=o.dataModify.compareValue)},h.defaultOptions=u(s.defaultOptions,{name:void 0,tooltip:{valueDecimals:4},linkedTo:void 0,compareToMain:!1,params:{index:3,period:14}}),h);function h(){var t=null!==n&&n.apply(this,arguments)||this;return t.data=void 0,t.dataEventsToUnbind=void 0,t.linkedParent=void 0,t.options=void 0,t.points=void 0,t}return l(s.prototype,{calculateOn:{chart:"init"},hasDerivedData:!0,nameComponents:["period"],nameSuffixes:[],useCommonDataGrouping:!0}),t.registerSeriesType("sma",s),s}),e(t,"Stock/Indicators/EMA/EMAIndicator.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e){var r,o,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=t.seriesTypes.sma,a=e.correctFloat,f=e.isArray,e=e.merge,i=(n(s,o=i),s.prototype.accumulatePeriodPoints=function(t,e,o){for(var r=0,n=0;n<t;)r+=e<0?o[n]:o[n][e],n++;return r},s.prototype.calculateEma=function(t,e,o,r,n,i,s){t=t[o-1],i=i<0?e[o-1]:e[o-1][i];return[t,void 0===n?s:a(i*r+n*(1-r))]},s.prototype.getValues=function(t,e){var o,r,n,i,s=e.period,a=t.xData,p=t.yData,l=p?p.length:0,u=2/(s+1),c=[],d=[],h=[],y=-1;if(!(l<s)){for(f(p[0])&&(y=e.index||0),o=this.accumulatePeriodPoints(s,y,p)/s,i=s;i<l+1;i++)n=this.calculateEma(a,p,i,u,r,y,o),c.push(n),d.push(n[0]),h.push(n[1]),r=n[1];return{values:c,xData:d,yData:h}}},s.defaultOptions=e(i.defaultOptions,{params:{index:3,period:9}}),s);function s(){var t=null!==o&&o.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return t.registerSeriesType("ema",i),i}),e(t,"Stock/Indicators/AD/ADIndicator.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e){var r,o,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=t.seriesTypes.sma,y=e.error,s=e.extend,e=e.merge,i=(n(f,o=i),f.populateAverage=function(t,e,o,r,n){var i=e[r][1],s=e[r][2],e=e[r][3],o=o[r];return[t[r],e===i&&e===s||i===s?0:(2*e-s-i)/(i-s)*o]},f.prototype.getValues=function(t,e){var o,r,n,i=e.period,s=t.xData,a=t.yData,p=e.volumeSeriesID,e=t.chart.get(p),l=e&&e.yData,u=a?a.length:0,c=[],d=[],h=[];if(!(s.length<=i&&u&&4!==a[0].length)){if(e){for(r=i;r<u;r++)o=c.length,n=f.populateAverage(s,a,l,r,i),0<o&&(n[1]+=c[o-1][1]),c.push(n),d.push(n[0]),h.push(n[1]);return{values:c,xData:d,yData:h}}y("Series "+p+" not found! Check `volumeSeriesID`.",!0,t.chart)}},f.defaultOptions=e(i.defaultOptions,{params:{index:void 0,volumeSeriesID:"volume"}}),f);function f(){var t=null!==o&&o.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return s(i.prototype,{nameComponents:!1,nameBase:"Accumulation/Distribution"}),t.registerSeriesType("ad",i),i}),e(t,"Stock/Indicators/AO/AOIndicator.js",[t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e,o){var r,n,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=t.noop,a=e.seriesTypes,p=a.sma,l=a.column,t=o.extend,a=o.merge,y=o.correctFloat,f=o.isArray,p=(i(u,n=p),u.prototype.drawGraph=function(){var t,e=this.options,o=this.points,r=this.userOptions.color,n=e.greaterBarColor,i=e.lowerBarColor,e=o[0];if(!r&&e)for(e.color=n,t=1;t<o.length;t++)o[t].y>o[t-1].y?o[t].color=n:o[t].y<o[t-1].y?o[t].color=i:o[t].color=o[t-1].color},u.prototype.getValues=function(t){var e,o,r,n,i,s=t.xData||[],a=t.yData||[],p=a.length,l=[],u=[],c=[],d=0,h=0;if(!(s.length<=34)&&f(a[0])&&4===a[0].length){for(n=0;n<33;n++)r=(a[n][1]+a[n][2])/2,29<=n&&(d=y(d+r)),h=y(h+r);for(i=33;i<p;i++)r=(a[i][1]+a[i][2])/2,d=y(d+r),h=y(h+r),e=y(d/5-h/34),l.push([s[i],e]),u.push(s[i]),c.push(e),o=i+1-34,d=y(d-(a[e=i+1-5][1]+a[e][2])/2),h=y(h-(a[o][1]+a[o][2])/2);return{values:l,xData:u,yData:c}}},u.defaultOptions=a(p.defaultOptions,{params:{index:void 0,period:void 0},greaterBarColor:"#06b535",lowerBarColor:"#f21313",threshold:0,groupPadding:.2,pointPadding:.2,crisp:!1,states:{hover:{halo:{size:0}}}}),u);function u(){var t=null!==n&&n.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return t(p.prototype,{nameBase:"AO",nameComponents:!1,markerAttribs:s,getColumnMetrics:l.prototype.getColumnMetrics,crispCol:l.prototype.crispCol,translate:l.prototype.translate,drawPoints:l.prototype.drawPoints}),e.registerSeriesType("ao",p),p}),e(t,"Stock/Indicators/MultipleLinesComposition.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(d,t){var e,o,r,n,i,h=d.seriesTypes.sma,y=t.defined,f=t.error,v=t.merge;function s(t){var e,o=this,r=[],n=[];if(t=t||this.points,o.fillGraph&&o.nextPoints){if((e=h.prototype.getGraphPath.call(o,o.nextPoints))&&e.length){e[0][0]="L";for(var r=h.prototype.getGraphPath.call(o,t),i=(n=e.slice(0,r.length)).length-1;0<=i;i--)r.push(n[i])}}else r=h.prototype.getGraphPath.apply(o,arguments);return r}function a(){var o,r=this,t=r.pointValKey,e=r.linesApiNames,n=r.areaLinesNames,i=r.points,s=r.options,a=r.graph,p={options:{gapSize:s.gapSize}},l=[],u=r.getTranslatedLinesNames(t),c=i.length;u.forEach(function(t,e){for(l[e]=[];c--;)o=i[c],l[e].push({x:o.x,plotX:o.plotX,plotY:o[t],isNull:!y(o[t])});c=i.length}),this.userOptions.fillColor&&n.length&&(t=u.indexOf(g(n[0])),t=l[t],u=1===n.length?i:l[u.indexOf(g(n[1]))],n=r.color,r.points=u,r.nextPoints=t,r.color=this.userOptions.fillColor,r.options=v(i,p),r.graph=r.area,r.fillGraph=!0,d.seriesTypes.sma.prototype.drawGraph.call(r),r.area=r.graph,delete r.nextPoints,delete r.fillGraph,r.color=n),e.forEach(function(t,e){l[e]?(r.points=l[e],s[t]?r.options=v(s[t].styles,p):f('Error: "There is no '+t+' in DOCS options declared. Check if linesApiNames are consistent with your DOCS line names." at mixin/multiple-line.js:34'),r.graph=r["graph"+t],h.prototype.drawGraph.call(r),r["graph"+t]=r.graph):f('Error: "'+t+" doesn't have equivalent in pointArrayMap. To many elements in linesApiNames relative to pointArrayMap.\"")}),r.points=i,r.options=s,r.graph=a,h.prototype.drawGraph.call(r)}function p(e){var o=[];return(this.pointArrayMap||[]).forEach(function(t){t!==e&&o.push(g(t))}),o}function g(t){return"plot"+t.charAt(0).toUpperCase()+t.slice(1)}function l(e){var o=[];return(this.pointArrayMap||[]).forEach(function(t){o.push(e[t])}),o}function u(){var r,n=this,t=n.pointArrayMap,i=n.getTranslatedLinesNames();h.prototype.translate.apply(n,arguments),n.points.forEach(function(o){t.forEach(function(t,e){r=o[t],null!==(r=n.dataModify?n.dataModify.modifyValue(r):r)&&(o[i[e]]=n.yAxis.toPixels(r,!0))})})}return e=e||{},o=[],r=["bottomLine"],n=["top","bottom"],i=["top"],e.compose=function(t){var e;return-1===o.indexOf(t)&&(o.push(t),(e=t.prototype).linesApiNames=e.linesApiNames||r.slice(),e.pointArrayMap=e.pointArrayMap||n.slice(),e.pointValKey=e.pointValKey||"top",e.areaLinesNames=e.areaLinesNames||i.slice(),e.drawGraph=a,e.getGraphPath=s,e.toYData=l,e.translate=u,e.getTranslatedLinesNames=p),t},e}),e(t,"Stock/Indicators/Aroon/AroonIndicator.js",[t["Stock/Indicators/MultipleLinesComposition.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e,o){var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=e.seriesTypes.sma,s=o.extend,a=o.merge,d=o.pick;function h(t,e){for(var o=t[0],r=0,n=1;n<t.length;n++)("max"===e&&t[n]>=o||"min"===e&&t[n]<=o)&&(o=t[n],r=n);return r}var p,i=(n(l,p=i),l.prototype.getValues=function(t,e){for(var o,r,n=e.period,i=t.xData,s=t.yData,a=s?s.length:0,p=[],l=[],u=[],c=n-1;c<a;c++)r=h((o=s.slice(c-n+1,c+2)).map(function(t){return d(t[2],t)}),"min"),o=h(o.map(function(t){return d(t[1],t)}),"max")/n*100,r=r/n*100,i[c+1]&&(p.push([i[c+1],o,r]),l.push(i[c+1]),u.push([o,r]));return{values:p,xData:l,yData:u}},l.defaultOptions=a(i.defaultOptions,{params:{index:void 0,period:25},marker:{enabled:!1},tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b><br/>Aroon Up: {point.y}<br/>Aroon Down: {point.aroonDown}<br/>'},aroonDown:{styles:{lineWidth:1,lineColor:void 0}},dataGrouping:{approximation:"averages"}}),l);function l(){var t=null!==p&&p.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return s(i.prototype,{areaLinesNames:[],linesApiNames:["aroonDown"],nameBase:"Aroon",pointArrayMap:["y","aroonDown"],pointValKey:"y"}),t.compose(i),e.registerSeriesType("aroon",i),i}),e(t,"Stock/Indicators/AroonOscillator/AroonOscillatorIndicator.js",[t["Stock/Indicators/MultipleLinesComposition.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e,o){var r,n,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=e.seriesTypes.aroon,a=o.extend,o=o.merge,l=e.seriesTypes.aroon,o=(i(p,n=s),p.prototype.getValues=function(t,e){for(var o,r,n=[],i=[],s=[],a=l.prototype.getValues.call(this,t,e),p=0;p<a.yData.length;p++)o=a.yData[p][0],r=a.yData[p][1],n.push([a.xData[p],r=o-r]),i.push(a.xData[p]),s.push(r);return{values:n,xData:i,yData:s}},p.defaultOptions=o(s.defaultOptions,{tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b>: {point.y}'}}),p);function p(){var t=null!==n&&n.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return a(o.prototype,{nameBase:"Aroon Oscillator",linesApiNames:[],pointArrayMap:["y"],pointValKey:"y"}),t.compose(s),e.registerSeriesType("aroonoscillator",o),o}),e(t,"Stock/Indicators/ATR/ATRIndicator.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e){var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),n=t.seriesTypes.sma,g=e.isArray,e=e.merge;function m(t,e){var o=t,r=e,t=o[1]-o[2],e=void 0===r?0:Math.abs(o[1]-r[3]),r=void 0===r?0:Math.abs(o[2]-r[3]);return Math.max(t,e,r)}var i,n=(o(s,i=n),s.prototype.getValues=function(t,e){var o,r,n,i,s=e.period,a=t.xData,p=t.yData,l=p?p.length:0,u=1,c=0,d=0,h=[],y=[],f=[],v=[[a[0],p[0]]];if(!(a.length<=s)&&g(p[0])&&4===p[0].length){for(o=1;o<=l;o++)n=(n=a)[i=o],i=p[i],v.push([n,i]),s<u?(r=s,n=c,c=(r=[a[(i=o)-1],(n*(r-1)+m(p[i-1],p[i-2]))/r])[1],h.push(r),y.push(r[0]),f.push(r[1])):(s===u?(h.push([a[o-1],c=d/(o-1)]),y.push(a[o-1]),f.push(c)):d+=m(p[o-1],p[o-2]),u++);return{values:h,xData:y,yData:f}}},s.defaultOptions=e(n.defaultOptions,{params:{index:void 0}}),s);function s(){var t=null!==i&&i.apply(this,arguments)||this;return t.data=void 0,t.points=void 0,t.options=void 0,t}return t.registerSeriesType("atr",n),n}),e(t,"Stock/Indicators/BB/BBIndicator.js",[t["Stock/Indicators/MultipleLinesComposition.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,v,e){var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),n=v.seriesTypes.sma,i=e.extend,g=e.isArray,s=e.merge;var a,n=(o(p,a=n),p.prototype.init=function(){v.seriesTypes.sma.prototype.init.apply(this,arguments),this.options=s({topLine:{styles:{lineColor:this.color}},bottomLine:{styles:{lineColor:this.color}}},this.options)},p.prototype.getValues=function(t,e){var o,r,n,i,s,a,p=e.period,l=e.standardDeviation,u=t.xData,c=t.yData,d=c?c.length:0,h=[],y=[],f=[];if(!(u.length<p)){for(i=g(c[0]),a=p;a<=d;a++)r=u.slice(a-p,a),n=c.slice(a-p,a),o=(s=v.seriesTypes.sma.prototype.getValues.call(this,{xData:r,yData:n},e)).xData[0],r=s.yData[0],s=function(t,e,o,r){for(var n,i=0,s=t.length,a=0;a<s;a++)i+=(n=(o?t[a][e]:t[a])-r)*n;return i/=s-1,Math.sqrt(i)}(n,e.index,i,r),h.push([o,n=r+l*s,r,s=r-l*s]),y.push(o),f.push([n,r,s]);return{values:h,xData:y,yData:f}}},p.defaultOptions=s(n.defaultOptions,{params:{period:20,standardDeviation:2,index:3},bottomLine:{styles:{lineWidth:1,lineColor:void 0}},topLine:{styles:{lineWidth:1,lineColor:void 0}},tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b><br/>Top: {point.top}<br/>Middle: {point.middle}<br/>Bottom: {point.bottom}<br/>'},marker:{enabled:!1},dataGrouping:{approximation:"averages"}}),p);function p(){var t=null!==a&&a.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return i(n.prototype,{areaLinesNames:["top","bottom"],pointArrayMap:["top","middle","bottom"],pointValKey:"middle",nameComponents:["period","standardDeviation"],linesApiNames:["topLine","bottomLine"]}),t.compose(n),v.registerSeriesType("bb",n),n}),e(t,"Stock/Indicators/CCI/CCIIndicator.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e){var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),n=t.seriesTypes.sma,g=e.isArray,e=e.merge;var i,n=(o(s,i=n),s.prototype.getValues=function(t,e){var o,r,n,i,s,a,p=e.period,l=t.xData,u=t.yData,c=u?u.length:0,d=[],h=1,y=[],f=[],v=[];if(!(l.length<=p)&&g(u[0])&&4===u[0].length){for(;h<p;)r=u[h-1],d.push((r[1]+r[2]+r[3])/3),h++;for(a=p;a<=c;a++)i=((r=u[a-1])[1]+r[2]+r[3])/3,s=d.push(i),s=function(t,e){for(var o=t.length,r=0,n=0;n<o;n++)r+=Math.abs(e-t[n]);return r}(o=d.slice(s-p),n=o.reduce(function(t,e){return t+e},0)/p)/p,y.push([l[a-1],s=(i-n)/(.015*s)]),f.push(l[a-1]),v.push(s);return{values:y,xData:f,yData:v}}},s.defaultOptions=e(n.defaultOptions,{params:{index:void 0}}),s);function s(){var t=null!==i&&i.apply(this,arguments)||this;return t.data=void 0,t.points=void 0,t.options=void 0,t}return t.registerSeriesType("cci",n),n}),e(t,"Stock/Indicators/CMF/CMFIndicator.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e){var r,o,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=t.seriesTypes.sma,e=e.merge,i=(n(s,o=i),s.prototype.isValid=function(){var t=this.chart,e=this.options,o=this.linkedParent,r=this.volumeSeries||(this.volumeSeries=t.get(e.params.volumeSeriesID)),t=o&&o.yData&&4===o.yData[0].length;function n(t){return t.xData&&t.xData.length>=e.params.period}return!!(o&&r&&n(o)&&n(r)&&t)},s.prototype.getValues=function(t,e){if(this.isValid())return this.getMoneyFlow(t.xData,t.yData,this.volumeSeries.yData,e.period)},s.prototype.getMoneyFlow=function(t,e,o,r){var i,n,s=e.length,a=[],p=0,l=0,u=[],c=[],d=[],h=-1;function y(t,e){var o=t[1],r=t[2],n=t[3];return null!==e&&null!==o&&null!==r&&null!==n&&o!==r?(n-r-(o-n))/(o-r)*e:(h=i,null)}if(0<r&&r<=s){for(i=0;i<r;i++)a[i]=y(e[i],o[i]),p+=o[i],l+=a[i];for(u.push(t[i-1]),c.push(r<=i-h&&0!==p?l/p:null),d.push([u[0],c[0]]);i<s;i++)a[i]=y(e[i],o[i]),p-=o[i-r],p+=o[i],l-=a[i-r],l+=a[i],n=[t[i],r<=i-h?l/p:null],u.push(n[0]),c.push(n[1]),d.push([n[0],n[1]])}return{values:d,xData:u,yData:c}},s.defaultOptions=e(i.defaultOptions,{params:{index:void 0,volumeSeriesID:"volume"}}),s);function s(){var t=null!==o&&o.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t.volumeSeries=void 0,t.linkedParent=void 0,t.yData=void 0,t.nameBase="Chaikin Money Flow",t}return t.registerSeriesType("cmf",i),i}),e(t,"Stock/Indicators/DMI/DMIIndicator.js",[t["Stock/Indicators/MultipleLinesComposition.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e,o){var r,n,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=e.seriesTypes.sma,a=o.correctFloat,p=o.extend,S=o.isArray,o=o.merge,s=(i(l,n=s),l.prototype.calculateDM=function(t,e,o){var r=t[e][1],n=t[e][2],i=t[e-1][1],e=t[e-1][2],n=e-n<r-i?o?Math.max(r-i,0):0:o?0:Math.max(e-n,0);return a(n)},l.prototype.calculateDI=function(t,e){return t/e*100},l.prototype.calculateDX=function(t,e){return a(Math.abs(t-e)/Math.abs(t+e)*100)},l.prototype.smoothValues=function(t,e,o){return a(t-t/o+e)},l.prototype.getTR=function(t,e){return a(Math.max(t[1]-t[2],e?Math.abs(t[1]-e[3]):0,e?Math.abs(t[2]-e[3]):0))},l.prototype.getValues=function(t,e){var o=e.period,r=t.xData,n=t.yData,i=n?n.length:0,s=[],a=[],p=[];if(!(r.length<=o)&&S(n[0])&&4===n[0].length){for(var l=0,u=0,c=0,d=1;d<i;d++){var h,y,f,v=void 0,g=void 0,m=void 0,_=void 0,x=void 0,D=void 0;d<=o?(l+=v=this.calculateDM(n,d,!0),u+=g=this.calculateDM(n,d),c+=m=this.getTR(n[d],n[d-1]),d===o&&(_=this.calculateDI(l,c),x=this.calculateDI(u,c),D=this.calculateDX(l,u),s.push([r[d],D,_,x]),a.push(r[d]),p.push([D,_,x]))):(v=this.calculateDM(n,d,!0),g=this.calculateDM(n,d),m=this.getTR(n[d],n[d-1]),h=this.smoothValues(l,v,o),y=this.smoothValues(u,g,o),f=this.smoothValues(c,m,o),u=y,_=this.calculateDI(l=h,c=f),x=this.calculateDI(u,c),D=this.calculateDX(l,u),s.push([r[d],D,_,x]),a.push(r[d]),p.push([D,_,x]))}return{values:s,xData:a,yData:p}}},l.defaultOptions=o(s.defaultOptions,{params:{index:void 0},marker:{enabled:!1},tooltip:{pointFormat:'<span style="color: {point.color}">●</span><b> {series.name}</b><br/><span style="color: {point.color}">DX</span>: {point.y}<br/><span style="color: {point.series.options.plusDILine.styles.lineColor}">+DI</span>: {point.plusDI}<br/><span style="color: {point.series.options.minusDILine.styles.lineColor}">-DI</span>: {point.minusDI}<br/>'},plusDILine:{styles:{lineWidth:1,lineColor:"#06b535"}},minusDILine:{styles:{lineWidth:1,lineColor:"#f21313"}},dataGrouping:{approximation:"averages"}}),l);function l(){var t=null!==n&&n.apply(this,arguments)||this;return t.options=void 0,t}return p(s.prototype,{areaLinesNames:[],nameBase:"DMI",linesApiNames:["plusDILine","minusDILine"],pointArrayMap:["y","plusDI","minusDI"],parallelArrays:["x","y","plusDI","minusDI"],pointValKey:"y"}),t.compose(s),e.registerSeriesType("dmi",s),s}),e(t,"Stock/Indicators/DPO/DPOIndicator.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e){var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),n=t.seriesTypes.sma,i=e.extend,s=e.merge,a=e.correctFloat,v=e.pick;function g(t,e,o,r,n){o=v(e[o][r],e[o]);return a(n?t-o:t+o)}var p,n=(o(l,p=n),l.prototype.getValues=function(t,e){var o,r,n,i,s=e.period,a=e.index,p=s+Math.floor(s/2+1),l=t.xData||[],u=t.yData||[],c=u.length,d=[],h=[],y=[],f=0;if(!(l.length<=p)){for(n=0;n<s-1;n++)f=g(f,u,n,a);for(i=0;i<=c-p;i++)r=i+p-1,f=g(f,u,i+s-1,a),o=v(u[r][a],u[r])-f/s,f=g(f,u,i,a,!0),d.push([l[r],o]),h.push(l[r]),y.push(o);return{values:d,xData:h,yData:y}}},l.defaultOptions=s(n.defaultOptions,{params:{index:0,period:21}}),l);function l(){var t=null!==p&&p.apply(this,arguments)||this;return t.options=void 0,t.data=void 0,t.points=void 0,t}return i(n.prototype,{nameBase:"DPO"}),t.registerSeriesType("dpo",n),n}),e(t,"Stock/Indicators/Chaikin/ChaikinIndicator.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e){var r,o,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=t.seriesTypes,d=i.ad,h=i.ema,y=e.correctFloat,s=e.extend,i=e.merge,f=e.error,i=(n(a,o=h),a.prototype.getValues=function(t,e){var o,r,n,i,s,a=e.periods,p=e.period,l=[],u=[],c=[];if(2!==a.length||a[1]<=a[0])f('Error: "Chaikin requires two periods. Notice, first period should be lower than the second one."');else if((p=d.prototype.getValues.call(this,t,{volumeSeriesID:e.volumeSeriesID,period:p}))&&(r=h.prototype.getValues.call(this,p,{period:a[0]}),n=h.prototype.getValues.call(this,p,{period:a[1]}),r&&n)){for(o=a[1]-a[0],s=0;s<n.yData.length;s++)i=y(r.yData[s+o]-n.yData[s]),l.push([n.xData[s],i]),u.push(n.xData[s]),c.push(i);return{values:l,xData:u,yData:c}}},a.defaultOptions=i(h.defaultOptions,{params:{index:void 0,volumeSeriesID:"volume",period:9,periods:[3,10]}}),a);function a(){var t=null!==o&&o.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return s(i.prototype,{nameBase:"Chaikin Osc",nameComponents:["periods"]}),t.registerSeriesType("chaikin",i),i}),e(t,"Stock/Indicators/CMO/CMOIndicator.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e){var r,o,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=t.seriesTypes.sma,v=e.isNumber,e=e.merge,i=(n(s,o=i),s.prototype.getValues=function(t,e){var o,r=e.period,n=t.xData,t=t.yData,i=t?t.length:0,s=[],a=[],p=[],l=e.index;if(!(n.length<r)){for(var u,c,d=v(t[0])?t:(l=Math.min(l,t[0].length-1),t.map(function(t){return t[l]})),h=0,y=0,f=r;0<f;f--)d[f]>d[f-1]?h+=d[f]-d[f-1]:d[f]<d[f-1]&&(y+=d[f-1]-d[f]);for(c=0<h+y?100*(h-y)/(h+y):0,a.push(n[r]),p.push(c),s.push([n[r],c]),o=r+1;o<i;o++)u=Math.abs(d[o-r-1]-d[o-r]),d[o]>d[o-1]?h+=d[o]-d[o-1]:d[o]<d[o-1]&&(y+=d[o-1]-d[o]),d[o-r]>d[o-r-1]?h-=u:y-=u,c=0<h+y?100*(h-y)/(h+y):0,a.push(n[o]),p.push(c),s.push([n[o],c]);return{values:s,xData:a,yData:p}}},s.defaultOptions=e(i.defaultOptions,{params:{period:20,index:3}}),s);function s(){var t=null!==o&&o.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return t.registerSeriesType("cmo",i),i}),e(t,"Stock/Indicators/DEMA/DEMAIndicator.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e){var r,o,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),x=t.seriesTypes.ema,D=e.correctFloat,S=e.isArray,e=e.merge,e=(n(i,o=x),i.prototype.getEMA=function(t,e,o,r,n,i){return x.prototype.calculateEma(i||[],t,void 0===n?1:n,this.EMApercent,e,void 0===r?-1:r,o)},i.prototype.getValues=function(t,e){var o,r,n,i,s,a=e.period,p=2*a,l=t.xData,u=t.yData,c=u?u.length:0,d=-1,h=0,y=0,f=[],v=[],g=[],m=0,_=[];if(this.EMApercent=2/(a+1),!(c<2*a-1)){for(S(u[0])&&(d=e.index||0),y=(h=x.prototype.accumulatePeriodPoints(a,d,u))/a,h=0,i=a;i<c+2;i++)i<c+1&&(m=this.getEMA(u,r,y,d,i)[1],_.push(m)),r=m,i<p?h+=m:(m=_[i-a-1],o=this.getEMA([m],n,y=i===p?h/a:y)[1],s=[l[i-2],D(2*m-o)],f.push(s),v.push(s[0]),g.push(s[1]),n=o);return{values:f,xData:v,yData:g}}},i.defaultOptions=e(x.defaultOptions),i);function i(){var t=null!==o&&o.apply(this,arguments)||this;return t.EMApercent=void 0,t.data=void 0,t.options=void 0,t.points=void 0,t}return t.registerSeriesType("dema",e),e}),e(t,"Stock/Indicators/TEMA/TEMAIndicator.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e){var r,o,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),D=t.seriesTypes.ema,i=e.correctFloat,S=e.isArray,e=e.merge,e=(n(s,o=D),s.prototype.getEMA=function(t,e,o,r,n,i){return D.prototype.calculateEma(i||[],t,void 0===n?1:n,this.EMApercent,e,void 0===r?-1:r,o)},s.prototype.getTemaPoint=function(t,e,o,r){return[t[r-3],i(3*o.level1-3*o.level2+o.level3)]},s.prototype.getValues=function(t,e){var o,r,n,i,s=e.period,a=2*s,p=3*s,l=t.xData,u=t.yData,c=u?u.length:0,d=-1,h=0,y=0,f=[],v=[],g=[],m=[],_=[],x={};if(this.EMApercent=2/(s+1),!(c<3*s-2)){for(S(u[0])&&(d=e.index||0),y=(h=D.prototype.accumulatePeriodPoints(s,d,u))/s,h=0,n=s;n<c+3;n++)n<c+1&&(x.level1=this.getEMA(u,o,y,d,n)[1],m.push(x.level1)),o=x.level1,n<a?h+=x.level1:(n===a&&(y=h/s,h=0),x.level1=m[n-s-1],x.level2=this.getEMA([x.level1],r,y)[1],_.push(x.level2),r=x.level2,n<p?h+=x.level2:(n===p&&(y=h/s),n===c+1&&(x.level1=m[n-s-1],x.level2=this.getEMA([x.level1],r,y)[1],_.push(x.level2)),x.level1=m[n-s-2],x.level2=_[n-2*s-1],x.level3=this.getEMA([x.level2],x.prevLevel3,y)[1],(i=this.getTemaPoint(l,p,x,n))&&(f.push(i),v.push(i[0]),g.push(i[1])),x.prevLevel3=x.level3));return{values:f,xData:v,yData:g}}},s.defaultOptions=e(D.defaultOptions),s);function s(){var t=null!==o&&o.apply(this,arguments)||this;return t.EMApercent=void 0,t.data=void 0,t.options=void 0,t.points=void 0,t}return t.registerSeriesType("tema",e),e}),e(t,"Stock/Indicators/TRIX/TRIXIndicator.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e){var r,o,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=t.seriesTypes.tema,s=e.correctFloat,e=e.merge,i=(n(a,o=i),a.prototype.getTemaPoint=function(t,e,o,r){if(e<r)return[t[r-3],0!==o.prevLevel3?s(o.level3-o.prevLevel3)/o.prevLevel3*100:null]},a.defaultOptions=e(i.defaultOptions),a);function a(){var t=null!==o&&o.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return t.registerSeriesType("trix",i),i}),e(t,"Stock/Indicators/APO/APOIndicator.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e){var r,o,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=t.seriesTypes.ema,i=e.extend,s=e.merge,d=e.error,s=(n(a,o=c),a.prototype.getValues=function(t,e){var o,r,n,i,s,a=e.periods,e=e.index,p=[],l=[],u=[];if(2!==a.length||a[1]<=a[0])d('Error: "APO requires two periods. Notice, first period should be lower than the second one."');else if(r=c.prototype.getValues.call(this,t,{index:e,period:a[0]}),n=c.prototype.getValues.call(this,t,{index:e,period:a[1]}),r&&n){for(o=a[1]-a[0],s=0;s<n.yData.length;s++)i=r.yData[s+o]-n.yData[s],p.push([n.xData[s],i]),l.push(n.xData[s]),u.push(i);return{values:p,xData:l,yData:u}}},a.defaultOptions=s(c.defaultOptions,{params:{period:void 0,periods:[10,20]}}),a);function a(){var t=null!==o&&o.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return i(s.prototype,{nameBase:"APO",nameComponents:["periods"]}),t.registerSeriesType("apo",s),s}),e(t,"Stock/Indicators/IKH/IKHIndicator.js",[t["Core/Color/Color.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,n,w,e){var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=t.parse,s=w.seriesTypes.sma,L=e.defined,t=e.extend,C=e.isArray,a=e.isNumber,V=e.merge,E=e.objectEach;function A(t){return{high:t.reduce(function(t,e){return Math.max(t,e[1])},-1/0),low:t.reduce(function(t,e){return Math.min(t,e[2])},1/0)}}function R(t){var e=t.indicator;e.points=t.points,e.nextPoints=t.nextPoints,e.color=t.color,e.options=V(t.options.senkouSpan.styles,t.gap),e.graph=t.graph,e.fillGraph=!0,w.seriesTypes.sma.prototype.drawGraph.call(e)}n.approximations["ichimoku-averages"]=function(){var o,r=[];return[].forEach.call(arguments,function(t,e){r.push(n.approximations.average(t)),o=!o&&void 0===r[e]}),o?void 0:r};var p,s=(o(l,p=s),l.prototype.init=function(){w.seriesTypes.sma.prototype.init.apply(this,arguments),this.options=V({tenkanLine:{styles:{lineColor:this.color}},kijunLine:{styles:{lineColor:this.color}},chikouLine:{styles:{lineColor:this.color}},senkouSpanA:{styles:{lineColor:this.color,fill:i(this.color).setOpacity(.5).get()}},senkouSpanB:{styles:{lineColor:this.color,fill:i(this.color).setOpacity(.5).get()}},senkouSpan:{styles:{fill:i(this.color).setOpacity(.2).get()}}},this.options)},l.prototype.toYData=function(t){return[t.tenkanSen,t.kijunSen,t.chikouSpan,t.senkouSpanA,t.senkouSpanB]},l.prototype.translate=function(){var r=this;w.seriesTypes.sma.prototype.translate.apply(r),r.points.forEach(function(o){r.pointArrayMap.forEach(function(t){var e=o[t];a(e)&&(o["plot"+t]=r.yAxis.toPixels(e,!0),o.plotY=o["plot"+t],o.tooltipPos=[o.plotX,o["plot"+t]],o.isNull=!1)})})},l.prototype.drawGraph=function(){var t,e,o,r,n,i,s,a,p,l,u,c,d,h,y,f=this,v=f.points,g=v.length,m=f.options,_=f.graph,x=f.color,D={options:{gapSize:m.gapSize}},S=f.pointArrayMap.length,O=[[],[],[],[],[],[]],C={tenkanLine:O[0],kijunLine:O[1],chikouLine:O[2],senkouSpanA:O[3],senkouSpanB:O[4],senkouSpan:O[5]},A=[],P=f.options.senkouSpan,j=P.color||P.styles.fill,b=P.negativeColor,T=[[],[]],I=[[],[]],k=0;for(f.ikhMap=C;g--;){for(e=v[g],o=0;o<S;o++)t=f.pointArrayMap[o],L(e[t])&&O[o].push({plotX:e.plotX,plotY:e["plot"+t],isNull:!1});b&&g!==v.length-1&&(d=C.senkouSpanB.length-1,y={plotX:(h=function(t,e,o,r){if(t&&e&&o&&r){var n=e.plotX-t.plotX,i=e.plotY-t.plotY,s=r.plotX-o.plotX,a=r.plotY-o.plotY,p=t.plotX-o.plotX,e=t.plotY-o.plotY,r=void 0,o=void 0,o=(s*e-a*p)/(-s*i+n*a);if(0<=(r=(-i*p+n*e)/(-s*i+n*a))&&r<=1&&0<=o&&o<=1)return{plotX:t.plotX+o*n,plotY:t.plotY+o*i}}return!1}(C.senkouSpanA[d-1],C.senkouSpanA[d],C.senkouSpanB[d-1],C.senkouSpanB[d])).plotX,plotY:h.plotY,isNull:!1,intersectPoint:!0},h&&(C.senkouSpanA.splice(d,0,y),C.senkouSpanB.splice(d,0,y),A.push(d)))}if(E(C,function(t,e){m[e]&&"senkouSpan"!==e&&(f.points=O[k],f.options=V(m[e].styles,D),f.graph=f["graph"+e],f.fillGraph=!1,f.color=x,w.seriesTypes.sma.prototype.drawGraph.call(f),f["graph"+e]=f.graph),k++}),f.graphCollection&&f.graphCollection.forEach(function(t){f[t].destroy(),delete f[t]}),f.graphCollection=[],b&&C.senkouSpanA[0]&&C.senkouSpanB[0]){for(A.unshift(0),A.push(C.senkouSpanA.length-1),u=0;u<A.length-1;u++)if(r=A[u],M=A[u+1],n=C.senkouSpanB.slice(r,M+1),i=C.senkouSpanA.slice(r,M+1),1<=Math.floor(n.length/2)){var M=Math.floor(n.length/2);if(n[M].plotY===i[M].plotY){for(c=a=s=0;c<n.length;c++)s+=n[c].plotY,a+=i[c].plotY;T[l=a<s?0:1]=T[l].concat(n),I[l]=I[l].concat(i)}else l=n[M].plotY>i[M].plotY?0:1,T[l]=T[l].concat(n),I[l]=I[l].concat(i)}else l=n[0].plotY>i[0].plotY?0:1,T[l]=T[l].concat(n),I[l]=I[l].concat(i);["graphsenkouSpanColor","graphsenkouSpanNegativeColor"].forEach(function(t,e){T[e].length&&I[e].length&&(p=0===e?j:b,R({indicator:f,points:T[e],nextPoints:I[e],color:p,options:m,gap:D,graph:f[t]}),f[t]=f.graph,f.graphCollection.push(t))})}else R({indicator:f,points:C.senkouSpanB,nextPoints:C.senkouSpanA,color:j,options:m,gap:D,graph:f.graphsenkouSpan}),f.graphsenkouSpan=f.graph;delete f.nextPoints,delete f.fillGraph,f.points=v,f.options=m,f.graph=_,f.color=x},l.prototype.getGraphPath=function(t){var e,o=this,r=[],n=[];if(t=t||this.points,o.fillGraph&&o.nextPoints){if((e=w.seriesTypes.sma.prototype.getGraphPath.call(o,o.nextPoints))&&e.length){e[0][0]="L";for(var r=w.seriesTypes.sma.prototype.getGraphPath.call(o,t),i=(n=e.slice(0,r.length)).length-1;0<=i;i--)r.push(n[i])}}else r=w.seriesTypes.sma.prototype.getGraphPath.apply(o,arguments);return r},l.prototype.getValues=function(t,e){var o,r,n,i,s,a,p,l,u,c,d,h,y,f=e.period,v=e.periodTenkan,g=e.periodSenkouSpanB,m=t.xData,_=t.yData,t=t.xAxis,x=_&&_.length||0,D=(t.series.forEach(function(t){if(t.xData)for(h=t.xData,c=t.xIncrement?1:h.length-1,y=c;0<y;y--)d=h[y]-h[y-1],(void 0===u||d<u)&&(u=d)}),u),S=[],O=[];if(!(m.length<=f)&&C(_[0])&&4===_[0].length){for(o=m[0]-f*D,n=0;n<f;n++)O.push(o+n*D);for(n=0;n<x;n++)v<=n&&(i=((i=A(_.slice(n-v,n))).high+i.low)/2),f<=n&&(p=(i+(s=((p=A(_.slice(n-f,n))).high+p.low)/2))/2),g<=n&&(l=((a=A(_.slice(n-g,n))).high+a.low)/2),a=_[n][3],r=m[n],void 0===S[n]&&(S[n]=[]),void 0===S[n+f]&&(S[n+f]=[]),S[n+f][0]=i,S[n+f][1]=s,S[n+f][2]=void 0,S[n][2]=a,n<=f&&(S[n+f][3]=void 0,S[n+f][4]=void 0),void 0===S[n+2*f]&&(S[n+2*f]=[]),S[n+2*f][3]=p,S[n+2*f][4]=l,O.push(r);for(n=1;n<=f;n++)O.push(r+n*D);return{values:S,xData:O,yData:S}}},l.defaultOptions=V(s.defaultOptions,{params:{index:void 0,period:26,periodTenkan:9,periodSenkouSpanB:52},marker:{enabled:!1},tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b> {series.name}</b><br/>TENKAN SEN: {point.tenkanSen:.3f}<br/>KIJUN SEN: {point.kijunSen:.3f}<br/>CHIKOU SPAN: {point.chikouSpan:.3f}<br/>SENKOU SPAN A: {point.senkouSpanA:.3f}<br/>SENKOU SPAN B: {point.senkouSpanB:.3f}<br/>'},tenkanLine:{styles:{lineWidth:1,lineColor:void 0}},kijunLine:{styles:{lineWidth:1,lineColor:void 0}},chikouLine:{styles:{lineWidth:1,lineColor:void 0}},senkouSpanA:{styles:{lineWidth:1,lineColor:void 0}},senkouSpanB:{styles:{lineWidth:1,lineColor:void 0}},senkouSpan:{styles:{fill:"rgba(255, 0, 0, 0.5)"}},dataGrouping:{approximation:"ichimoku-averages"}}),l);function l(){var t=null!==p&&p.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t.graphCollection=void 0,t.graphsenkouSpan=void 0,t.ikhMap=void 0,t.nextPoints=void 0,t}return t(s.prototype,{pointArrayMap:["tenkanSen","kijunSen","chikouSpan","senkouSpanA","senkouSpanB"],pointValKey:"tenkanSen",nameComponents:["periodSenkouSpanB","period","periodTenkan"]}),w.registerSeriesType("ikh",s),s}),e(t,"Stock/Indicators/KeltnerChannels/KeltnerChannelsIndicator.js",[t["Stock/Indicators/MultipleLinesComposition.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,g,e){var r,o,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=g.seriesTypes.sma,m=e.correctFloat,s=e.extend,a=e.merge,i=(n(p,o=i),p.prototype.init=function(){g.seriesTypes.sma.prototype.init.apply(this,arguments),this.options=a({topLine:{styles:{lineColor:this.color}},bottomLine:{styles:{lineColor:this.color}}},this.options)},p.prototype.getValues=function(t,e){var o,r,n,i,s,a=e.period,p=e.periodATR,l=e.multiplierATR,u=e.index,e=t.yData,c=e?e.length:0,d=[],h=g.seriesTypes.ema.prototype.getValues(t,{period:a,index:u}),y=g.seriesTypes.atr.prototype.getValues(t,{period:p}),f=[],v=[];if(!(c<a)){for(s=a;s<=c;s++)n=h.values[s-a],i=y.values[s-p],r=n[0],o=m(n[1]+l*i[1]),i=m(n[1]-l*i[1]),n=n[1],d.push([r,o,n,i]),f.push(r),v.push([o,n,i]);return{values:d,xData:f,yData:v}}},p.defaultOptions=a(i.defaultOptions,{params:{index:0,period:20,periodATR:10,multiplierATR:2},bottomLine:{styles:{lineWidth:1,lineColor:void 0}},topLine:{styles:{lineWidth:1,lineColor:void 0}},tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b><br/>Upper Channel: {point.top}<br/>EMA({series.options.params.period}): {point.middle}<br/>Lower Channel: {point.bottom}<br/>'},marker:{enabled:!1},dataGrouping:{approximation:"averages"},lineWidth:1}),p);function p(){var t=null!==o&&o.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return s(i.prototype,{nameBase:"Keltner Channels",areaLinesNames:["top","bottom"],nameComponents:["period","periodATR","multiplierATR"],linesApiNames:["topLine","bottomLine"],pointArrayMap:["top","middle","bottom"],pointValKey:"middle"}),t.compose(i),g.registerSeriesType("keltnerchannels",i),i}),e(t,"Stock/Indicators/Klinger/KlingerIndicator.js",[t["Stock/Indicators/MultipleLinesComposition.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e,o){var r,n,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=e.seriesTypes,a=s.sma,p=s.ema,_=o.correctFloat,l=o.error,s=o.extend,u=o.isArray,o=o.merge,a=(i(c,n=a),c.prototype.calculateTrend=function(t,e){return t[e][1]+t[e][2]+t[e][3]>t[e-1][1]+t[e-1][2]+t[e-1][3]?1:-1},c.prototype.isValidData=function(t){var e=this.chart,o=this.options,r=this.linkedParent,t=u(t)&&4===t.length,e=this.volumeSeries||(this.volumeSeries=e.get(o.params.volumeSeriesID));return e||l("Series "+o.params.volumeSeriesID+" not found! Check `volumeSeriesID`.",!0,r.chart),!(![r,e].every(function(t){return t&&t.xData&&t.xData.length>=o.params.slowAvgPeriod})||!t)},c.prototype.getCM=function(t,e,o,r,n){return _(e+(o===r?t:n))},c.prototype.getDM=function(t,e){return _(t-e)},c.prototype.getVolumeForce=function(t){for(var e,o,r,n,i=[],s=1,a=0,p=t[0][1]-t[0][2],l=0;s<t.length;s++)n=this.calculateTrend(t,s),o=this.getDM(t[s][1],t[s][2]),e=this.getCM(a,o,n,l,p),r=this.volumeSeries.yData[s]*n*Math.abs(2*(o/e-1))*100,i.push([r]),l=n,a=e,p=o;return i},c.prototype.getEMA=function(t,e,o,r,n,i,s){return p.prototype.calculateEma(s||[],t,void 0===i?1:i,r,e,void 0===n?-1:n,o)},c.prototype.getSMA=function(t,e,o){return p.prototype.accumulatePeriodPoints(t,e,o)/t},c.prototype.getValues=function(t,e){var o,r=[],n=t.xData,i=t.yData,s=[],a=[],p=[],l=0,u=0,c=void 0,d=void 0,h=null;if(this.isValidData(i[0])){for(var y=this.getVolumeForce(i),f=this.getSMA(e.fastAvgPeriod,0,y),v=this.getSMA(e.slowAvgPeriod,0,y),g=2/(e.fastAvgPeriod+1),m=2/(e.slowAvgPeriod+1);l<i.length;l++)l>=e.fastAvgPeriod&&(c=u=this.getEMA(y,c,f,g,0,l,n)[1]),l>=e.slowAvgPeriod&&(o=this.getEMA(y,d,v,m,0,l,n)[1],o=_(u-(d=o)),p.push(o),p.length>=e.signalPeriod&&(h=p.slice(-e.signalPeriod).reduce(function(t,e){return t+e})/e.signalPeriod),r.push([n[l],o,h]),s.push(n[l]),a.push([o,h]));return{values:r,xData:s,yData:a}}},c.defaultOptions=o(a.defaultOptions,{params:{fastAvgPeriod:34,slowAvgPeriod:55,signalPeriod:13,volumeSeriesID:"volume"},signalLine:{styles:{lineWidth:1,lineColor:"#ff0000"}},dataGrouping:{approximation:"averages"},tooltip:{pointFormat:'<span style="color: {point.color}">●</span><b> {series.name}</b><br/><span style="color: {point.color}">Klinger</span>: {point.y}<br/><span style="color: {point.series.options.signalLine.styles.lineColor}">Signal</span>: {point.signal}<br/>'}}),c);function c(){var t=null!==n&&n.apply(this,arguments)||this;return t.data=void 0,t.points=void 0,t.options=void 0,t.volumeSeries=void 0,t}return s(a.prototype,{areaLinesNames:[],linesApiNames:["signalLine"],nameBase:"Klinger",nameComponents:["fastAvgPeriod","slowAvgPeriod"],pointArrayMap:["y","signal"],parallelArrays:["x","y","signal"],pointValKey:"y"}),t.compose(a),e.registerSeriesType("klinger",a),a}),e(t,"Stock/Indicators/MACD/MACDIndicator.js",[t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,c,e){var r,n,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=t.noop,s=c.seriesTypes,a=s.sma,s=(s.column,e.extend),d=e.correctFloat,h=e.defined,p=e.merge,a=(o(l,n=a),l.prototype.init=function(){c.seriesTypes.sma.prototype.init.apply(this,arguments),this.options&&(this.options=p({signalLine:{styles:{lineColor:this.color}},macdLine:{styles:{color:this.color}}},this.options),this.macdZones={zones:this.options.macdLine.zones,startIndex:0},this.signalZones={zones:this.macdZones.zones.concat(this.options.signalLine.zones),startIndex:this.macdZones.zones.length},this.resetZones=!0)},l.prototype.toYData=function(t){return[t.y,t.signal,t.MACD]},l.prototype.translate=function(){var r=this,n=["plotSignal","plotMACD"];t.seriesTypes.column.prototype.translate.apply(r),r.points.forEach(function(o){[o.signal,o.MACD].forEach(function(t,e){null!==t&&(o[n[e]]=r.yAxis.toPixels(t,!0))})})},l.prototype.destroy=function(){this.graph=null,this.graphmacd=this.graphmacd&&this.graphmacd.destroy(),this.graphsignal=this.graphsignal&&this.graphsignal.destroy(),c.seriesTypes.sma.prototype.destroy.apply(this,arguments)},l.prototype.drawGraph=function(){for(var t,o=this,e=o.points,r=e.length,n=o.options,i=o.zones,s={options:{gapSize:n.gapSize}},a=[[],[]];r--;)t=e[r],h(t.plotMACD)&&a[0].push({plotX:t.plotX,plotY:t.plotMACD,isNull:!h(t.plotMACD)}),h(t.plotSignal)&&a[1].push({plotX:t.plotX,plotY:t.plotSignal,isNull:!h(t.plotMACD)});["macd","signal"].forEach(function(t,e){o.points=a[e],o.options=p(n[t+"Line"].styles,s),o.graph=o["graph"+t],o.currentLineZone=t+"Zones",o.zones=o[o.currentLineZone].zones,c.seriesTypes.sma.prototype.drawGraph.call(o),o["graph"+t]=o.graph}),o.points=e,o.options=n,o.zones=i,o.currentLineZone=null},l.prototype.getZonesGraphs=function(t){var e=n.prototype.getZonesGraphs.call(this,t),o=e;return this.currentLineZone&&((o=e.splice(this[this.currentLineZone].startIndex+1)).length?o.splice(0,0,t[0]):o=[t[0]]),o},l.prototype.applyZones=function(){var t=this.zones;this.zones=this.signalZones.zones,c.seriesTypes.sma.prototype.applyZones.call(this),this.graphmacd&&this.options.macdLine.zones.length&&this.graphmacd.hide(),this.zones=t},l.prototype.getValues=function(t,e){var o,r,n,i,s=e.longPeriod-e.shortPeriod,a=0,p=[],l=[],u=[];if(!(t.xData.length<e.longPeriod+e.signalPeriod)){for(r=c.seriesTypes.ema.prototype.getValues(t,{period:e.shortPeriod,index:e.index}),n=c.seriesTypes.ema.prototype.getValues(t,{period:e.longPeriod,index:e.index}),r=r.values,n=n.values,i=0;i<=r.length;i++)h(n[i])&&h(n[i][1])&&h(r[i+s])&&h(r[i+s][0])&&p.push([r[i+s][0],0,null,r[i+s][1]-n[i][1]]);for(i=0;i<p.length;i++)l.push(p[i][0]),u.push([0,null,p[i][3]]);for(o=c.seriesTypes.ema.prototype.getValues({xData:l,yData:u},{period:e.signalPeriod,index:2}).values,i=0;i<p.length;i++)p[i][0]>=o[0][0]&&(p[i][2]=o[a][1],u[i]=[0,o[a][1],p[i][3]],null===p[i][3]?(p[i][1]=0,u[i][0]=0):(p[i][1]=d(p[i][3]-o[a][1]),u[i][0]=d(p[i][3]-o[a][1])),a++);return{values:p,xData:l,yData:u}}},l.defaultOptions=p(a.defaultOptions,{params:{shortPeriod:12,longPeriod:26,signalPeriod:9,period:26},signalLine:{zones:[],styles:{lineWidth:1,lineColor:void 0}},macdLine:{zones:[],styles:{lineWidth:1,lineColor:void 0}},threshold:0,groupPadding:.1,pointPadding:.1,crisp:!1,states:{hover:{halo:{size:0}}},tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b> {series.name}</b><br/>Value: {point.MACD}<br/>Signal: {point.signal}<br/>Histogram: {point.y}<br/>'},dataGrouping:{approximation:"averages"},minPointLength:0}),l);function l(){var t=null!==n&&n.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t.currentLineZone=void 0,t.graphmacd=void 0,t.graphsignal=void 0,t.macdZones=void 0,t.signalZones=void 0,t}return s(a.prototype,{nameComponents:["longPeriod","shortPeriod","signalPeriod"],pointArrayMap:["y","signal","MACD"],parallelArrays:["x","y","signal","MACD"],pointValKey:"y",markerAttribs:i,getColumnMetrics:t.seriesTypes.column.prototype.getColumnMetrics,crispCol:t.seriesTypes.column.prototype.crispCol,drawPoints:t.seriesTypes.column.prototype.drawPoints}),c.registerSeriesType("macd",a),a}),e(t,"Stock/Indicators/MFI/MFIIndicator.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e){var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),n=t.seriesTypes.sma,i=e.extend,s=e.merge,S=e.error,O=e.isArray;function C(t){return t.reduce(function(t,e){return t+e})}function A(t){return(t[1]+t[2]+t[3])/3}var a,n=(o(p,a=n),p.prototype.getValues=function(t,e){var o,r,n,i,s,a,p=e.period,l=t.xData,u=t.yData,c=u?u.length:0,d=e.decimals,h=1,y=t.chart.get(e.volumeSeriesID),f=y&&y.yData,v=[],g=!1,m=[],_=[],x=[],D=[];if(y){if(!(l.length<=p)&&O(u[0])&&4===u[0].length&&f){for(o=A(u[h]);h<p+1;)r=o,n=(o=A(u[h]))*f[h],x.push((g=r<=o)?n:0),D.push(g?0:n),h++;for(a=h-1;a<c;a++)h-1<a&&(x.shift(),D.shift(),r=o,n=(o=A(u[a]))*f[a],x.push((g=r<o)?n:0),D.push(g?0:n)),s=C(D),i=C(x),s=parseFloat((100-100/(1+i/s)).toFixed(d)),v.push([l[a],s]),m.push(l[a]),_.push(s);return{values:v,xData:m,yData:_}}}else S("Series "+e.volumeSeriesID+" not found! Check `volumeSeriesID`.",!0,t.chart)},p.defaultOptions=s(n.defaultOptions,{params:{index:void 0,volumeSeriesID:"volume",decimals:4}}),p);function p(){var t=null!==a&&a.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return i(n.prototype,{nameBase:"Money Flow Index"}),t.registerSeriesType("mfi",n),n}),e(t,"Stock/Indicators/Momentum/MomentumIndicator.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e){var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),n=t.seriesTypes.sma,i=e.extend,d=e.isArray,e=e.merge;function h(t,e,o,r,n){n=e[o-1][n]-e[o-r-1][n];return[t[o-1],n]}var s,n=(o(a,s=n),a.prototype.getValues=function(t,e){var o,r,n=e.period,i=e.index,s=t.xData,a=t.yData,p=a?a.length:0,l=(a[0],[]),u=[],c=[];if(!(s.length<=n)&&d(a[0])){for(a[0][i],o=n+1;o<p;o++)r=h(s,a,o,n,i),l.push(r),u.push(r[0]),c.push(r[1]);return r=h(s,a,o,n,i),l.push(r),u.push(r[0]),c.push(r[1]),{values:l,xData:u,yData:c}}},a.defaultOptions=e(n.defaultOptions,{params:{index:3}}),a);function a(){var t=null!==s&&s.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return i(n.prototype,{nameBase:"Momentum"}),t.registerSeriesType("momentum",n),n}),e(t,"Stock/Indicators/NATR/NATRIndicator.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e){var r,o,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=t.seriesTypes.atr,i=e.merge,i=(e.extend,n(s,o=a),s.prototype.getValues=function(t,e){var o=a.prototype.getValues.apply(this,arguments),r=o.values.length,n=e.period-1,i=t.yData,s=0;if(o){for(;s<r;s++)o.yData[s]=o.values[s][1]/i[n][3]*100,o.values[s][1]=o.yData[s],n++;return o}},s.defaultOptions=i(a.defaultOptions,{tooltip:{valueSuffix:"%"}}),s);function s(){var t=null!==o&&o.apply(this,arguments)||this;return t.data=void 0,t.points=void 0,t.options=void 0,t}return t.registerSeriesType("natr",i),i}),e(t,"Stock/Indicators/OBV/OBVIndicator.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e){var r,o,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=t.seriesTypes.sma,v=e.isNumber,g=e.error,s=e.extend,e=e.merge,i=(n(a,o=i),a.prototype.getValues=function(t,e){var o,r,n,i=t.chart.get(e.volumeSeriesID),s=t.xData,a=t.yData,p=[],l=[],u=[],c=!v(a[0]),d=1,h=0,y=0,f=0;if(i){for(n=i.yData,o=[s[0],h],f=c?a[0][3]:a[0],p.push(o),l.push(s[0]),u.push(o[1]);d<a.length;d++)y=f<(r=c?a[d][3]:a[d])?h+n[d]:r===f?h:h-n[d],o=[s[d],y],h=y,f=r,p.push(o),l.push(s[d]),u.push(o[1]);return{values:p,xData:l,yData:u}}g("Series "+e.volumeSeriesID+" not found! Check `volumeSeriesID`.",!0,t.chart)},a.defaultOptions=e(i.defaultOptions,{marker:{enabled:!1},params:{index:void 0,period:void 0,volumeSeriesID:"volume"},tooltip:{valueDecimals:0}}),a);function a(){var t=null!==o&&o.apply(this,arguments)||this;return t.data=void 0,t.points=void 0,t.options=void 0,t}return s(i.prototype,{nameComponents:void 0}),t.registerSeriesType("obv",i),i}),e(t,"Stock/Indicators/PivotPoints/PivotPointsPoint.js",[t["Core/Series/SeriesRegistry.js"]],function(i){var r,e,t=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),o=i.seriesTypes.sma;function n(t,e){var o,r=t.series.pointArrayMap,n=r.length;for(i.seriesTypes.sma.prototype.pointClass.prototype[e].call(t);n--;)t[o="dataLabel"+r[n]]&&t[o].element&&t[o].destroy(),t[o]=null}function s(){var t=null!==e&&e.apply(this,arguments)||this;return t.P=void 0,t.pivotLine=void 0,t.series=void 0,t}return e=o.prototype.pointClass,t(s,e),s.prototype.destroyElements=function(){n(this,"destroyElements")},s.prototype.destroy=function(){n(this,"destroyElements")},s}),e(t,"Stock/Indicators/PivotPoints/PivotPointsIndicator.js",[t["Stock/Indicators/PivotPoints/PivotPointsPoint.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,u,e){var r,o,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=u.seriesTypes.sma,s=e.merge,a=e.extend,c=e.defined,f=e.isArray,i=(n(p,o=i),p.prototype.toYData=function(t){return[t.P]},p.prototype.translate=function(){var o=this;u.seriesTypes.sma.prototype.translate.apply(o),o.points.forEach(function(e){o.pointArrayMap.forEach(function(t){c(e[t])&&(e["plot"+t]=o.yAxis.toPixels(e[t],!0))})}),o.plotEndPoint=o.xAxis.toPixels(o.endPoint,!0)},p.prototype.getGraphPath=function(t){for(var e,o,r,n=this,i=t.length,s=[[],[],[],[],[],[],[],[],[]],a=[],p=n.plotEndPoint,l=n.pointArrayMap.length;i--;){for(o=t[i],r=0;r<l;r++)e=n.pointArrayMap[r],c(o[e])&&s[r].push({plotX:o.plotX,plotY:o["plot"+e],isNull:!1},{plotX:p,plotY:o["plot"+e],isNull:!1},{plotX:p,plotY:null,isNull:!0});p=o.plotX}return s.forEach(function(t){a=a.concat(u.seriesTypes.sma.prototype.getGraphPath.call(n,t))}),a},p.prototype.drawDataLabels=function(){var o,r,n,i,s=this,a=s.pointArrayMap;s.options.dataLabels.enabled&&(r=s.points.length,a.concat([!1]).forEach(function(t,e){for(i=r;i--;)n=s.points[i],t?(n.y=n[t],n.pivotLine=t,n.plotY=n["plot"+t],o=n["dataLabel"+t],e&&(n["dataLabel"+a[e-1]]=n.dataLabel),n.dataLabels||(n.dataLabels=[]),n.dataLabels[0]=n.dataLabel=o=o&&o.element?o:null):n["dataLabel"+a[e-1]]=n.dataLabel;u.seriesTypes.sma.prototype.drawDataLabels.apply(s,arguments)}))},p.prototype.getValues=function(t,e){var o,r,n,i,s,a=e.period,p=t.xData,l=t.yData,u=l?l.length:0,c=this[e.algorithm+"Placement"],d=[],h=[],y=[];if(!(p.length<a)&&f(l[0])&&4===l[0].length){for(s=a+1;s<=u+a;s+=a)n=p.slice(s-a-1,s),i=l.slice(s-a-1,s),o=n[(r=n.length)-1],i=c(this.getPivotAndHLC(i)),i=d.push([o].concat(i)),h.push(o),y.push(d[i-1].slice(1));return this.endPoint=n[0]+(o-n[0])/r*a,{values:d,xData:h,yData:y}}},p.prototype.getPivotAndHLC=function(t){var e=-1/0,o=1/0,r=t[t.length-1][3];return t.forEach(function(t){e=Math.max(e,t[1]),o=Math.min(o,t[2])}),[(e+o+r)/3,e,o,r]},p.prototype.standardPlacement=function(t){var e=t[1]-t[2];return[null,null,t[0]+e,2*t[0]-t[2],t[0],2*t[0]-t[1],t[0]-e,null,null]},p.prototype.camarillaPlacement=function(t){var e=t[1]-t[2];return[t[3]+1.5*e,t[3]+1.25*e,t[3]+1.1666*e,t[3]+1.0833*e,t[0],t[3]-1.0833*e,t[3]-1.1666*e,t[3]-1.25*e,t[3]-1.5*e]},p.prototype.fibonacciPlacement=function(t){var e=t[1]-t[2];return[null,t[0]+e,t[0]+.618*e,t[0]+.382*e,t[0],t[0]-.382*e,t[0]-.618*e,t[0]-e,null]},p.defaultOptions=s(i.defaultOptions,{params:{index:void 0,period:28,algorithm:"standard"},marker:{enabled:!1},enableMouseTracking:!1,dataLabels:{enabled:!0,format:"{point.pivotLine}"},dataGrouping:{approximation:"averages"}}),p);function p(){var t=null!==o&&o.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t.endPoint=void 0,t.plotEndPoint=void 0,t}return a(i.prototype,{nameBase:"Pivot Points",pointArrayMap:["R4","R3","R2","R1","P","S1","S2","S3","S4"],pointValKey:"P",pointClass:t}),u.registerSeriesType("pivotpoints",i),i}),e(t,"Stock/Indicators/PPO/PPOIndicator.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e){var r,o,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=t.seriesTypes.ema,d=e.correctFloat,i=e.extend,s=e.merge,h=e.error,s=(n(a,o=c),a.prototype.getValues=function(t,e){var o,r,n,i,s,a=e.periods,e=e.index,p=[],l=[],u=[];if(2!==a.length||a[1]<=a[0])h('Error: "PPO requires two periods. Notice, first period should be lower than the second one."');else if(r=c.prototype.getValues.call(this,t,{index:e,period:a[0]}),n=c.prototype.getValues.call(this,t,{index:e,period:a[1]}),r&&n){for(o=a[1]-a[0],s=0;s<n.yData.length;s++)i=d((r.yData[s+o]-n.yData[s])/n.yData[s]*100),p.push([n.xData[s],i]),l.push(n.xData[s]),u.push(i);return{values:p,xData:l,yData:u}}},a.defaultOptions=s(c.defaultOptions,{params:{period:void 0,periods:[12,26]}}),a);function a(){var t=null!==o&&o.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return i(s.prototype,{nameBase:"PPO",nameComponents:["periods"]}),t.registerSeriesType("ppo",s),s}),e(t,"Stock/Indicators/ArrayUtilities.js",[],function(){return{getArrayExtremes:function(t,o,r){return t.reduce(function(t,e){return[Math.min(t[0],e[o]),Math.max(t[1],e[r])]},[Number.MAX_VALUE,-Number.MAX_VALUE])}}}),e(t,"Stock/Indicators/PC/PCIndicator.js",[t["Stock/Indicators/ArrayUtilities.js"],t["Stock/Indicators/MultipleLinesComposition.js"],t["Core/Color/Palettes.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(y,t,e,o,r){var n,i,s=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=o.seriesTypes.sma,p=r.merge,r=r.extend,e=(s(l,i=a),l.prototype.getValues=function(t,e){var o,r,n,i,s,a=e.period,p=t.xData,l=t.yData,u=l?l.length:0,c=[],d=[],h=[];if(!(u<a)){for(s=a;s<=u;s++)r=p[s-1],n=l.slice(s-a,s),o=(i=y.getArrayExtremes(n,2,1))[1],n=i[0],c.push([r,o,i=(o+n)/2,n]),d.push(r),h.push([o,i,n]);return{values:c,xData:d,yData:h}}},l.defaultOptions=p(a.defaultOptions,{params:{index:void 0,period:20},lineWidth:1,topLine:{styles:{lineColor:e.colors[2],lineWidth:1}},bottomLine:{styles:{lineColor:e.colors[8],lineWidth:1}},dataGrouping:{approximation:"averages"}}),l);function l(){var t=null!==i&&i.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return r(e.prototype,{areaLinesNames:["top","bottom"],nameBase:"Price Channel",nameComponents:["period"],linesApiNames:["topLine","bottomLine"],pointArrayMap:["top","middle","bottom"],pointValKey:"middle"}),t.compose(e),o.registerSeriesType("pc",e),e}),e(t,"Stock/Indicators/PriceEnvelopes/PriceEnvelopesIndicator.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(v,t){var r,e,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),n=v.seriesTypes.sma,i=t.extend,g=t.isArray,p=t.merge,n=(o(s,e=n),s.prototype.init=function(){v.seriesTypes.sma.prototype.init.apply(this,arguments),this.options=p({topLine:{styles:{lineColor:this.color}},bottomLine:{styles:{lineColor:this.color}}},this.options)},s.prototype.toYData=function(t){return[t.top,t.middle,t.bottom]},s.prototype.translate=function(){var r=this,n=["plotTop","plotMiddle","plotBottom"];v.seriesTypes.sma.prototype.translate.apply(r),r.points.forEach(function(o){[o.top,o.middle,o.bottom].forEach(function(t,e){null!==t&&(o[n[e]]=r.yAxis.toPixels(t,!0))})})},s.prototype.drawGraph=function(){for(var t,o=this,e=o.points,r=e.length,n=o.options,i=o.graph,s={options:{gapSize:n.gapSize}},a=[[],[]];r--;)t=e[r],a[0].push({plotX:t.plotX,plotY:t.plotTop,isNull:t.isNull}),a[1].push({plotX:t.plotX,plotY:t.plotBottom,isNull:t.isNull});["topLine","bottomLine"].forEach(function(t,e){o.points=a[e],o.options=p(n[t].styles,s),o.graph=o["graph"+t],v.seriesTypes.sma.prototype.drawGraph.call(o),o["graph"+t]=o.graph}),o.points=e,o.options=n,o.graph=i,v.seriesTypes.sma.prototype.drawGraph.call(o)},s.prototype.getValues=function(t,e){var o,r,n,i,s,a=e.period,p=e.topBand,l=e.bottomBand,u=t.xData,c=t.yData,d=c?c.length:0,h=[],y=[],f=[];if(!(u.length<a)&&g(c[0])&&4===c[0].length){for(s=a;s<=d;s++)r=u.slice(s-a,s),n=c.slice(s-a,s),o=(i=v.seriesTypes.sma.prototype.getValues.call(this,{xData:r,yData:n},e)).xData[0],r=i.yData[0],h.push([o,n=r*(1+p),r,i=r*(1-l)]),y.push(o),f.push([n,r,i]);return{values:h,xData:y,yData:f}}},s.defaultOptions=p(n.defaultOptions,{marker:{enabled:!1},tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b><br/>Top: {point.top}<br/>Middle: {point.middle}<br/>Bottom: {point.bottom}<br/>'},params:{period:20,topBand:.1,bottomBand:.1},bottomLine:{styles:{lineWidth:1,lineColor:void 0}},topLine:{styles:{lineWidth:1}},dataGrouping:{approximation:"averages"}}),s);function s(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return i(n.prototype,{nameComponents:["period","topBand","bottomBand"],nameBase:"Price envelopes",pointArrayMap:["top","middle","bottom"],parallelArrays:["x","y","top","bottom"],pointValKey:"middle"}),v.registerSeriesType("priceenvelopes",n),n}),e(t,"Stock/Indicators/PSAR/PSARIndicator.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e){var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),n=t.seriesTypes.sma,i=e.merge,e=e.extend;function I(t,e){return parseFloat(t.toFixed(e))}var s,n=(o(a,s=n),a.prototype.getValues=function(t,e){var o,r,n,i,s,a,p,l,u,c,d,h,y,f,v=t.xData,g=t.yData,m=g[0][1],_=e.initialAccelerationFactor,x=e.maxAccelerationFactor,D=e.increment,S=e.initialAccelerationFactor,O=g[0][2],C=e.decimals,A=e.index,P=[],j=[],b=[],T=1;if(!(A>=g.length)){for(n=0;n<A;n++)m=Math.max(g[n][1],m),O=Math.min(g[n][2],I(O,C));for(o=g[n][1]>O?1:-1,r=(_=e.initialAccelerationFactor)*(m-O),P.push([v[A],O]),j.push(v[A]),b.push(I(O,C)),n=A+1;n<g.length;n++)f=g[n-1][2],y=g[n-2][2],p=g[n-1][1],a=g[n-2][1],s=g[n][1],i=g[n][2],null!==y&&null!==a&&null!==f&&null!==p&&null!==s&&null!==i&&(l=O,u=r,c=y,d=f,h=p,y=a,f=m,O=(p=o)===T?1===p?l+u<Math.min(c,d)?l+u:Math.min(c,d):l+u>Math.max(y,h)?l+u:Math.max(y,h):f,a=m,c=p=i,l=d=s,u=O,h=y=1===o?a<d?d:a:p<a?p:a,f=m,i=_,s=D,d=x,p=S,r=(_=(l=u=1===(a=T)&&u<c||-1===a&&u<l?1:-1)===o?1===l&&f<h||-1===l&&h<f?i===d?d:I(i+s,2):i:p)*(y-O),P.push([v[n],I(O,C)]),j.push(v[n]),b.push(I(O,C)),T=o,o=u,m=y);return{values:P,xData:j,yData:b}}},a.defaultOptions=i(n.defaultOptions,{lineWidth:0,marker:{enabled:!0},states:{hover:{lineWidthPlus:0}},params:{period:void 0,initialAccelerationFactor:.02,maxAccelerationFactor:.2,increment:.02,index:2,decimals:4}}),a);function a(){var t=null!==s&&s.apply(this,arguments)||this;return t.data=void 0,t.points=void 0,t.options=void 0,t}return e(n.prototype,{nameComponents:void 0}),t.registerSeriesType("psar",n),n}),e(t,"Stock/Indicators/ROC/ROCIndicator.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e){var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),n=t.seriesTypes.sma,v=e.isArray,i=e.merge,e=e.extend;var s,n=(o(a,s=n),a.prototype.getValues=function(t,e){var o,r,n,i,s,a,p=e.period,l=t.xData,u=t.yData,c=u?u.length:0,d=[],h=[],y=[],f=-1;if(!(l.length<=p)){for(v(u[0])&&(f=e.index),o=p;o<c;o++)r=u,n=o,i=p,a=void 0,a=(s=f)<0?(a=r[n-i])?(r[n]-a)/a*100:null:(a=r[n-i][s])?(r[n][s]-a)/a*100:null,a=[l[n],a],d.push(a),h.push(a[0]),y.push(a[1]);return{values:d,xData:h,yData:y}}},a.defaultOptions=i(n.defaultOptions,{params:{index:3,period:9}}),a);function a(){var t=null!==s&&s.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return e(n.prototype,{nameBase:"Rate of Change"}),t.registerSeriesType("roc",n),n}),e(t,"Stock/Indicators/RSI/RSIIndicator.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e){var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),n=t.seriesTypes.sma,_=e.isNumber,e=e.merge;function x(t,e){return parseFloat(t.toFixed(e))}var i,n=(o(s,i=n),s.prototype.getValues=function(t,e){var o,r,n,i,s,a,p=e.period,l=t.xData,t=t.yData,u=t?t.length:0,c=e.decimals,d=1,h=[],y=[],f=[],v=e.index,g=0,m=0;if(!(l.length<p)){for(a=_(t[0])?t:(v=Math.min(v,t[0].length-1),t.map(function(t){return t[v]}));d<p;)0<(r=x(a[d]-a[d-1],c))?g+=r:m+=Math.abs(r),d++;for(n=x(g/(p-1),c),i=x(m/(p-1),c),s=d;s<u;s++)m=0<(r=x(a[s]-a[s-1],c))?(g=r,0):(g=0,Math.abs(r)),n=x((n*(p-1)+g)/p,c),o=0===(i=x((i*(p-1)+m)/p,c))?100:0===n?0:x(100-100/(1+n/i),c),h.push([l[s],o]),y.push(l[s]),f.push(o);return{values:h,xData:y,yData:f}}},s.defaultOptions=e(n.defaultOptions,{params:{decimals:4,index:3}}),s);function s(){var t=null!==i&&i.apply(this,arguments)||this;return t.data=void 0,t.points=void 0,t.options=void 0,t}return t.registerSeriesType("rsi",n),n}),e(t,"Stock/Indicators/Stochastic/StochasticIndicator.js",[t["Stock/Indicators/ArrayUtilities.js"],t["Stock/Indicators/MultipleLinesComposition.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(y,t,f,e){var r,o,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=f.seriesTypes.sma,s=e.extend,v=e.isArray,a=e.merge,i=(n(p,o=i),p.prototype.init=function(){f.seriesTypes.sma.prototype.init.apply(this,arguments),this.options=a({smoothedLine:{styles:{lineColor:this.color}}},this.options)},p.prototype.getValues=function(t,e){var o,r,n,i=e.periods[0],s=e.periods[1],a=t.xData,p=t.yData,l=p?p.length:0,u=[],c=[],d=[],h=null;if(!(l<i)&&v(p[0])&&4===p[0].length){for(n=i-1;n<l;n++)o=p.slice(n-i+1,n+1),o=(r=y.getArrayExtremes(o,2,1))[0],o=(p[n][3]-o)/(r[1]-o)*100,c.push(a[n]),d.push([o,null]),i-1+(s-1)<=n&&(h=f.seriesTypes.sma.prototype.getValues.call(this,{xData:c.slice(-s),yData:d.slice(-s)},{period:s}).yData[0]),u.push([a[n],o,h]),d[d.length-1][1]=h;return{values:u,xData:c,yData:d}}},p.defaultOptions=a(i.defaultOptions,{params:{index:void 0,period:void 0,periods:[14,3]},marker:{enabled:!1},tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b><br/>%K: {point.y}<br/>%D: {point.smoothed}<br/>'},smoothedLine:{styles:{lineWidth:1,lineColor:void 0}},dataGrouping:{approximation:"averages"}}),p);function p(){var t=null!==o&&o.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return s(i.prototype,{areaLinesNames:[],nameComponents:["periods"],nameBase:"Stochastic",pointArrayMap:["y","smoothed"],parallelArrays:["x","y","smoothed"],pointValKey:"y",linesApiNames:["smoothedLine"]}),t.compose(i),f.registerSeriesType("stochastic",i),i}),e(t,"Stock/Indicators/SlowStochastic/SlowStochasticIndicator.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e){var r,o,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=t.seriesTypes.stochastic,p=t.seriesTypes,s=e.extend,e=e.merge,i=(n(a,o=i),a.prototype.getValues=function(t,e){var o=e.periods,e=p.stochastic.prototype.getValues.call(this,t,e),r={values:[],xData:[],yData:[]},n=0;if(e){r.xData=e.xData.slice(o[1]-1);var i=e.yData.slice(o[1]-1),s=p.sma.prototype.getValues.call(this,{xData:r.xData,yData:i},{index:1,period:o[2]});if(s){for(var a=r.xData.length;n<a;n++)r.yData[n]=[i[n][1],s.yData[n-o[2]+1]||null],r.values[n]=[r.xData[n],i[n][1],s.yData[n-o[2]+1]||null];return r}}},a.defaultOptions=e(i.defaultOptions,{params:{periods:[14,3,3]}}),a);function a(){var t=null!==o&&o.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return s(i.prototype,{nameBase:"Slow Stochastic"}),t.registerSeriesType("slowstochastic",i),i}),e(t,"Stock/Indicators/Supertrend/SupertrendIndicator.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"],t["Core/Chart/StockChart.js"]],function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=t.seriesTypes,S=i.atr,x=i.sma,s=e.addEvent,O=e.correctFloat,C=e.isArray,i=e.extend,D=e.merge,A=e.objectEach;function P(t,e,o){return{index:e,close:t.yData[e][o],x:t.xData[e]}}var a,o=(o(p,a=x),p.prototype.init=function(){var e;x.prototype.init.apply(this,arguments);var o=this,r=s(n,"afterLinkSeries",function(){var t;o.options&&(t=o.options,e=o.linkedParent.options,t.cropThreshold=e.cropThreshold-(t.params.period-1)),r()},{order:1})},p.prototype.drawGraph=function(){for(var t,e,o,r,n,i,s,a,p=this,l=p.options,u=p.linkedParent,c=u?u.points:[],d=p.points,h=p.graph,y=d.length,f=c.length-y,v=0<f?f:0,g={options:{gapSize:l.gapSize}},m={top:[],bottom:[],intersect:[]},_={top:{styles:{lineWidth:l.lineWidth,lineColor:l.fallingTrendColor||l.color,dashStyle:l.dashStyle}},bottom:{styles:{lineWidth:l.lineWidth,lineColor:l.risingTrendColor||l.color,dashStyle:l.dashStyle}},intersect:l.changeTrendLine};y--;)t=d[y],e=d[y-1],o=c[y-1+v],r=c[y-2+v],a=c[y+v],n=c[y+v+1],i=t.options.color,s={x:t.x,plotX:t.plotX,plotY:t.plotY,isNull:!1},!r&&o&&u.yData[o.index-1]&&(r=P(u,o.index-1,3)),!n&&a&&u.yData[a.index+1]&&(n=P(u,a.index+1,3)),!o&&r&&u.yData[r.index+1]?o=P(u,r.index+1,3):!o&&a&&u.yData[a.index-1]&&(o=P(u,a.index-1,3)),t&&o&&a&&r&&t.x!==o.x&&(t.x===a.x?(r=o,o=a):t.x===r.x?(o=r,r={close:u.yData[o.index-1][3],x:u.xData[o.index-1]}):n&&t.x===n.x&&(o=n,r=a)),e&&r&&o?(a={x:e.x,plotX:e.plotX,plotY:e.plotY,isNull:!1},t.y>=o.close&&e.y>=r.close?(t.color=i||l.fallingTrendColor||l.color,m.top.push(s)):t.y<o.close&&e.y<r.close?(t.color=i||l.risingTrendColor||l.color,m.bottom.push(s)):(m.intersect.push(s),m.intersect.push(a),m.intersect.push(D(a,{isNull:!0})),t.y>=o.close&&e.y<r.close?(t.color=i||l.fallingTrendColor||l.color,e.color=i||l.risingTrendColor||l.color,m.top.push(s),m.top.push(D(a,{isNull:!0}))):t.y<o.close&&e.y>=r.close&&(t.color=i||l.risingTrendColor||l.color,e.color=i||l.fallingTrendColor||l.color,m.bottom.push(s),m.bottom.push(D(a,{isNull:!0}))))):o&&(t.y>=o.close?(t.color=i||l.fallingTrendColor||l.color,m.top.push(s)):(t.color=i||l.risingTrendColor||l.color,m.bottom.push(s)));A(m,function(t,e){p.points=t,p.options=D(_[e].styles,g),p.graph=p["graph"+e+"Line"],x.prototype.drawGraph.call(p),p["graph"+e+"Line"]=p.graph}),p.points=d,p.options=l,p.graph=h},p.prototype.getValues=function(t,e){var o,r,n,i,s,a,p,l,u,c,d=e.period,h=e.multiplier,y=t.xData,f=t.yData,v=[],g=[],m=[],_=0===d?0:d-1,x=[],D=[];if(!(y.length<=d||!C(f[0])||4!==f[0].length||d<0)){for(o=S.prototype.getValues.call(this,t,{period:d}).yData,c=0;c<o.length;c++)u=f[_+c],l=f[_+c-1]||[],s=x[c-1],a=D[c-1],p=m[c-1],0===c&&(s=a=p=0),r=O((u[1]+u[2])/2+h*o[c]),n=O((u[1]+u[2])/2-h*o[c]),r<s||l[3]>s?x[c]=r:x[c]=s,a<n||l[3]<a?D[c]=n:D[c]=a,p===s&&u[3]<x[c]||p===a&&u[3]<D[c]?i=x[c]:(p===s&&u[3]>x[c]||p===a&&u[3]>D[c])&&(i=D[c]),v.push([y[_+c],i]),g.push(y[_+c]),m.push(i);return{values:v,xData:g,yData:m}}},p.defaultOptions=D(x.defaultOptions,{params:{index:void 0,multiplier:3,period:10},risingTrendColor:"#06b535",fallingTrendColor:"#f21313",changeTrendLine:{styles:{lineWidth:1,lineColor:"#333333",dashStyle:"LongDash"}}}),p);function p(){var t=null!==a&&a.apply(this,arguments)||this;return t.data=void 0,t.linkedParent=void 0,t.options=void 0,t.points=void 0,t}return i(o.prototype,{nameBase:"Supertrend",nameComponents:["multiplier","period"]}),t.registerSeriesType("supertrend",o),o}),e(t,"Stock/Indicators/VBP/VBPPoint.js",[t["Core/Series/Point.js"],t["Core/Series/SeriesRegistry.js"]],function(t,e){var r,o,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),e=e.seriesTypes.sma;function i(){return null!==o&&o.apply(this,arguments)||this}return o=e.prototype.pointClass,n(i,o),i.prototype.destroy=function(){return this.negativeGraphic&&(this.negativeGraphic=this.negativeGraphic.destroy()),t.prototype.destroy.apply(this,arguments)},i}),e(t,"Stock/Indicators/VBP/VBPIndicator.js",[t["Stock/Indicators/VBP/VBPPoint.js"],t["Core/Animation/AnimationUtilities.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"],t["Core/Chart/StockChart.js"]],function(t,e,i,o,r,s){var n,a=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),p=e.animObject,l=i.noop,e=o.seriesTypes.sma,u=r.addEvent,g=r.arrayMax,f=r.arrayMin,m=r.correctFloat,v=r.defined,c=r.error,d=r.extend,h=r.isArray,r=r.merge;var y,_=Math.abs,x=o.seriesTypes.column.prototype,e=(a(D,y=e),D.prototype.init=function(t){var e,o,r=this;i.seriesTypes.sma.prototype.init.apply(r,arguments);var n=u(s,"afterLinkSeries",function(){r.options&&(o=r.options.params,e=r.linkedParent,o=t.get(o.volumeSeriesID),r.addCustomEvents(e,o)),n()},{order:1});return r},D.prototype.addCustomEvents=function(t,e){var o=this;function r(){o.chart.redraw(),o.setData([]),o.zoneStarts=[],o.zoneLinesSVG&&(o.zoneLinesSVG=o.zoneLinesSVG.destroy())}return o.dataEventsToUnbind.push(u(t,"remove",function(){r()})),e&&o.dataEventsToUnbind.push(u(e,"remove",function(){r()})),o},D.prototype.animate=function(t){var o=this,e=o.chart.inverted,r=o.group,n={};!t&&r&&(t=e?o.yAxis.top:o.xAxis.left,e?(r["forceAnimate:translateY"]=!0,n.translateY=t):(r["forceAnimate:translateX"]=!0,n.translateX=t),r.animate(n,d(p(o.options.animation),{step:function(t,e){o.group.attr({scaleX:Math.max(.001,e.pos)})}})))},D.prototype.drawPoints=function(){var t=this;t.options.volumeDivision.enabled&&(t.posNegVolume(!0,!0),x.drawPoints.apply(t,arguments),t.posNegVolume(!1,!1)),x.drawPoints.apply(t,arguments)},D.prototype.posNegVolume=function(t,e){var o,r,n,i,s=this,a=e?["positive","negative"]:["negative","positive"],p=s.options.volumeDivision,l=s.points.length,u=[],c=[],d=0;for(t?(s.posWidths=u,s.negWidths=c):(u=s.posWidths,c=s.negWidths);d<l;d++)(i=s.points[d])[a[0]+"Graphic"]=i.graphic,i.graphic=i[a[1]+"Graphic"],t&&(o=i.shapeArgs.width,(n=(r=s.priceZones[d]).wholeVolumeData)?(u.push(o/n*r.positiveVolumeData),c.push(o/n*r.negativeVolumeData)):(u.push(0),c.push(0))),i.color=e?p.styles.positiveColor:p.styles.negativeColor,i.shapeArgs.width=(e?s.posWidths:s.negWidths)[d],i.shapeArgs.x=e?i.shapeArgs.x:s.posWidths[d]},D.prototype.translate=function(){var t,o,r,n,i,s,e,a,p,l=this,u=l.options,c=l.chart,d=l.yAxis,h=d.min,y=l.options.zoneLines,f=l.priceZones,v=0;x.translate.apply(l),(t=l.points).length&&(e=u.pointPadding<.5?u.pointPadding:.1,u=l.volumeDataArray,o=g(u),r=c.plotWidth/2,a=c.plotTop,n=_(d.toPixels(h)-d.toPixels(h+l.rangeStep)),i=_(d.toPixels(h)-d.toPixels(h+l.rangeStep)),e&&(e=_(n*(1-2*e)),v=_((n-e)/2),n=_(e)),t.forEach(function(t,e){t.barX=t.plotX=0,p=t.plotY=d.toPixels(f[e].start)-a-(d.reversed?n-i:n)-v,s=m(r*f[e].wholeVolumeData/o),t.pointWidth=s,t.shapeArgs=l.crispCol.apply(l,[0,p,s,n]),t.volumeNeg=f[e].negativeVolumeData,t.volumePos=f[e].positiveVolumeData,t.volumeAll=f[e].wholeVolumeData}),y.enabled&&l.drawZones(c,d,l.zoneStarts,y.styles))},D.prototype.getValues=function(t,e){var o,r,n=t.processedXData,i=t.processedYData,s=this.chart,a=e.ranges,p=[],l=[],u=[];if(t.chart)if(r=s.get(e.volumeSeriesID)){if(!(o=h(i[0]))||4===i[0].length)return(this.priceZones=this.specifyZones(o,n,i,a,r)).forEach(function(t,e){p.push([t.x,t.end]),l.push(p[e][0]),u.push(p[e][1])}),{values:p,xData:l,yData:u};c("Type of "+t.name+" series is different than line, OHLC or candlestick.",!0,s)}else c("Series "+e.volumeSeriesID+" not found! Check `volumeSeriesID`.",!0,s);else c("Base series not found! In case it has been removed, add a new one.",!0,s)},D.prototype.specifyZones=function(t,e,o,r,n){var i,s,a=this,p=!!t&&function(t){for(var e,o=t.length,r=t[0][3],n=r,i=1;i<o;i++)(e=t[i][3])<r&&(r=e),n<e&&(n=e);return{min:r,max:n}}(o),l=p?p.min:f(o),u=p?p.max:g(o),c=a.zoneStarts=[],d=[],h=0,y=1,p=a.linkedParent;if(!a.options.compareToMain&&p.dataModify&&(l=p.dataModify.modifyValue(l),u=p.dataModify.modifyValue(u)),!v(l)||!v(u))return this.points.length&&(this.setData([]),this.zoneStarts=[],this.zoneLinesSVG&&(this.zoneLinesSVG=this.zoneLinesSVG.destroy())),[];for(i=a.rangeStep=m(u-l)/r,c.push(l);h<r-1;h++)c.push(m(c[h]+i));for(c.push(u),s=c.length;y<s;y++)d.push({index:y-1,x:e[0],start:c[y-1],end:c[y]});return a.volumePerZone(t,d,n,e,o)},D.prototype.volumePerZone=function(o,t,e,r,n){var i,s,a,p,l,u=this,c=e.processedXData,d=e.processedYData,h=t.length-1,y=n.length,e=d.length;return _(y-e)&&(r[0]!==c[0]&&d.unshift(0),r[y-1]!==c[e-1]&&d.push(0)),u.volumeDataArray=[],t.forEach(function(t){for(t.wholeVolumeData=0,t.positiveVolumeData=0,t.negativeVolumeData=0,l=0;l<y;l++){a=s=!1,p=o?n[l][3]:n[l],i=l?o?n[l-1][3]:n[l-1]:p;var e=u.linkedParent;!u.options.compareToMain&&e.dataModify&&(p=e.dataModify.modifyValue(p),i=e.dataModify.modifyValue(i)),p<=t.start&&0===t.index&&(s=!0),p>=t.end&&t.index===h&&(a=!0),(p>t.start||s)&&(p<t.end||a)&&(t.wholeVolumeData+=d[l],p<i?t.negativeVolumeData+=d[l]:t.positiveVolumeData+=d[l])}u.volumeDataArray.push(t.wholeVolumeData)}),t},D.prototype.drawZones=function(e,o,t,r){var n,i=e.renderer,s=this.zoneLinesSVG,a=[],p=e.plotWidth,l=e.plotTop;t.forEach(function(t){n=o.toPixels(t)-l,a=a.concat(e.renderer.crispLine([["M",0,n],["L",p,n]],r.lineWidth))}),s?s.animate({d:a}):this.zoneLinesSVG=i.path(a).attr({"stroke-width":r.lineWidth,stroke:r.color,dashstyle:r.dashStyle,zIndex:this.group.zIndex+.1}).add(this.group)},D.defaultOptions=r(e.defaultOptions,{params:{index:void 0,period:void 0,ranges:12,volumeSeriesID:"volume"},zoneLines:{enabled:!0,styles:{color:"#0A9AC9",dashStyle:"LongDash",lineWidth:1}},volumeDivision:{enabled:!0,styles:{positiveColor:"rgba(144, 237, 125, 0.8)",negativeColor:"rgba(244, 91, 91, 0.8)"}},animationLimit:1e3,enableMouseTracking:!1,pointPadding:0,zIndex:-1,crisp:!0,dataGrouping:{enabled:!1},dataLabels:{allowOverlap:!0,enabled:!0,format:"P: {point.volumePos:.2f} | N: {point.volumeNeg:.2f}",padding:0,style:{fontSize:"7px"},verticalAlign:"top"}}),D);function D(){var t=null!==y&&y.apply(this,arguments)||this;return t.data=void 0,t.negWidths=void 0,t.options=void 0,t.points=void 0,t.posWidths=void 0,t.priceZones=void 0,t.rangeStep=void 0,t.volumeDataArray=void 0,t.zoneStarts=void 0,t.zoneLinesSVG=void 0,t}return d(e.prototype,{nameBase:"Volume by Price",nameComponents:["ranges"],calculateOn:{chart:"render",xAxis:"afterSetExtremes"},pointClass:t,markerAttribs:l,drawGraph:l,getColumnMetrics:x.getColumnMetrics,crispCol:x.crispCol}),o.registerSeriesType("vbp",e),e}),e(t,"Stock/Indicators/VWAP/VWAPIndicator.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e){var r,o,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=t.seriesTypes.sma,a=e.error,p=e.isArray,e=e.merge,i=(n(s,o=i),s.prototype.getValues=function(t,e){var o=t.chart,r=t.xData,n=t.yData,i=e.period,s=!0;if(t=o.get(e.volumeSeriesID))return p(n[0])||(s=!1),this.calculateVWAPValues(s,r,n,t,i);a("Series "+e.volumeSeriesID+" not found! Check `volumeSeriesID`.",!0,o)},s.prototype.calculateVWAPValues=function(t,e,o,r,n){for(var i,s,a=r.yData,p=r.xData.length,r=e.length,l=[],u=[],c=[],d=[],h=[],y=r<=p?r:p,f=0,v=0;f<y;f++)s=t?(o[f][1]+o[f][2]+o[f][3])/3:o[f],s*=a[f],i=v?l[f-1]+s:s,s=v?u[f-1]+a[f]:a[f],l.push(i),u.push(s),h.push([e[f],i/s]),c.push(h[f][0]),d.push(h[f][1]),++v===n&&(v=0);return{values:h,xData:c,yData:d}},s.defaultOptions=e(i.defaultOptions,{params:{index:void 0,period:30,volumeSeriesID:"volume"}}),s);function s(){var t=null!==o&&o.apply(this,arguments)||this;return t.data=void 0,t.points=void 0,t.options=void 0,t}return t.registerSeriesType("vwap",i),i}),e(t,"Stock/Indicators/WilliamsR/WilliamsRIndicator.js",[t["Stock/Indicators/ArrayUtilities.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(d,t,e){var r,o,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=t.seriesTypes.sma,s=e.extend,h=e.isArray,e=e.merge,i=(n(a,o=i),a.prototype.getValues=function(t,e){var o,r,n,i=e.period,s=t.xData,a=t.yData,p=a?a.length:0,l=[],u=[],c=[];if(!(s.length<i)&&h(a[0])&&4===a[0].length){for(n=i-1;n<p;n++)r=a.slice(n-i+1,n+1),r=(o=d.getArrayExtremes(r,2,1))[0],r=((o=o[1])-a[n][3])/(o-r)*-100,s[n]&&(l.push([s[n],r]),u.push(s[n]),c.push(r));return{values:l,xData:u,yData:c}}},a.defaultOptions=e(i.defaultOptions,{params:{index:void 0,period:14}}),a);function a(){var t=null!==o&&o.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return s(i.prototype,{nameBase:"Williams %R"}),t.registerSeriesType("williamsr",i),i}),e(t,"Stock/Indicators/WMA/WMAIndicator.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e){var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),n=t.seriesTypes.sma,f=e.isArray,e=e.merge;function v(t,e,o,r,n){e=e[r],n=n<0?o[r]:o[r][n];t.push([e,n])}function g(t,e,o,r){var n=t.length,n=(n=n,n*=(n+1)/2,t.reduce(function(t,e,o){return[null,t[1]+e[1]*(o+1)]})[1]/n),r=e[r-1];return t.shift(),[r,n]}var i,n=(o(s,i=n),s.prototype.getValues=function(t,e){var o,r,n,i=e.period,s=t.xData,a=t.yData,p=a?a.length:0,l=1,u=s[0],t=a[0],c=[],d=[],h=[],y=-1;if(!(s.length<i)){for(f(a[0])&&(y=e.index,t=a[0][y]),r=[[u,t]];l!==i;)v(r,s,a,l,y),l++;for(o=l;o<p;o++)n=g(r,s,0,o),c.push(n),d.push(n[0]),h.push(n[1]),v(r,s,a,o,y);return n=g(r,s,0,o),c.push(n),d.push(n[0]),h.push(n[1]),{values:c,xData:d,yData:h}}},s.defaultOptions=e(n.defaultOptions,{params:{index:3,period:9}}),s);function s(){var t=null!==i&&i.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return t.registerSeriesType("wma",n),n}),e(t,"Stock/Indicators/Zigzag/ZigzagIndicator.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e){var r,o,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=t.seriesTypes.sma,s=e.merge,e=e.extend,i=(n(a,o=i),a.prototype.getValues=function(t,e){var o,r,n,i,s,a,p=e.lowIndex,l=e.highIndex,e=e.deviation/100,u=1+e,c=1-e,d=t.xData,h=t.yData,y=h?h.length:0,f=[],v=[],g=[],m=!1,_=!1;if(!(!d||d.length<=1||y&&(void 0===h[0][p]||void 0===h[0][l]))){for(i=h[0][p],s=h[0][l],o=1;o<y;o++)h[o][p]<=s*c?(f.push([d[0],s]),n=[d[o],h[o][p]],m=a=!0):h[o][l]>=i*u&&(f.push([d[0],i]),m=!(a=!(n=[d[o],h[o][l]]))),m&&(v.push(f[0][0]),g.push(f[0][1]),r=o++,o=y);for(o=r;o<y;o++)a?(h[o][p]<=n[1]&&(n=[d[o],h[o][p]]),h[o][l]>=n[1]*u&&(_=l)):(h[o][l]>=n[1]&&(n=[d[o],h[o][l]]),h[o][p]<=n[1]*c&&(_=p)),!1!==_&&(f.push(n),v.push(n[0]),g.push(n[1]),a=!a,_=!(n=[d[o],h[o][_]]));return 0!==(t=f.length)&&f[t-1][0]<d[y-1]&&(f.push(n),v.push(n[0]),g.push(n[1])),{values:f,xData:v,yData:g}}},a.defaultOptions=s(i.defaultOptions,{params:{index:void 0,period:void 0,lowIndex:2,highIndex:1,deviation:1}}),a);function a(){var t=null!==o&&o.apply(this,arguments)||this;return t.data=void 0,t.points=void 0,t.options=void 0,t}return e(i.prototype,{nameComponents:["deviation"],nameSuffixes:["%"],nameBase:"Zig Zag"}),t.registerSeriesType("zigzag",i),i}),e(t,"Stock/Indicators/LinearRegression/LinearRegression.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e){var r,o,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=t.seriesTypes.sma,d=e.isArray,s=e.extend,e=e.merge,i=(n(a,o=i),a.prototype.getRegressionLineParameters=function(t,e){for(var o,r=this.options.params.index,n=function(t,e){return d(t)?t[e]:t},i=t.reduce(function(t,e){return e+t},0),s=e.reduce(function(t,e){return n(e,r)+t},0),a=i/t.length,p=s/e.length,l=0,u=0,c=0;c<t.length;c++)l+=(o=t[c]-a)*(n(e[c],r)-p),u+=Math.pow(o,2);return{slope:s=u?l/u:0,intercept:p-s*a}},a.prototype.getEndPointY=function(t,e){return t.slope*e+t.intercept},a.prototype.transformXData=function(t,e){var o=t[0];return t.map(function(t){return(t-o)/e})},a.prototype.findClosestDistance=function(t){for(var e,o,r=1;r<t.length-1;r++)0<(e=t[r]-t[r-1])&&(void 0===o||e<o)&&(o=e);return o},a.prototype.getValues=function(t,e){for(var o,r,n,i,s=t.xData,a=t.yData,p=e.period,l={xData:[],yData:[],values:[]},u=this.options.params.xAxisUnit||this.findClosestDistance(s),c=p-1;c<=s.length-1;c++)r=s[c],i=s.slice(o=c-p+1,n=c+1),n=a.slice(o,n),i=this.transformXData(i,u),n=this.getRegressionLineParameters(i,n),i=this.getEndPointY(n,i[i.length-1]),l.values.push({regressionLineParameters:n,x:r,y:i}),l.xData.push(r),l.yData.push(i);return l},a.defaultOptions=e(i.defaultOptions,{params:{xAxisUnit:null},tooltip:{valueDecimals:4}}),a);function a(){var t=null!==o&&o.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return s(i.prototype,{nameBase:"Linear Regression Indicator"}),t.registerSeriesType("linearRegression",i),i}),e(t,"Stock/Indicators/LinearRegressionSlopes/LinearRegressionSlopes.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e){var r,o,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=t.seriesTypes.linearRegression,s=e.extend,e=e.merge,i=(n(a,o=i),a.prototype.getEndPointY=function(t){return t.slope},a.defaultOptions=e(i.defaultOptions),a);function a(){var t=null!==o&&o.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return s(i.prototype,{nameBase:"Linear Regression Slope Indicator"}),t.registerSeriesType("linearRegressionSlope",i),i}),e(t,"Stock/Indicators/LinearRegressionIntercept/LinearRegressionIntercept.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e){var r,o,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=t.seriesTypes.linearRegression,s=e.extend,e=e.merge,i=(n(a,o=i),a.prototype.getEndPointY=function(t){return t.intercept},a.defaultOptions=e(i.defaultOptions),a);function a(){var t=null!==o&&o.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return s(i.prototype,{nameBase:"Linear Regression Intercept Indicator"}),t.registerSeriesType("linearRegressionIntercept",i),i}),e(t,"Stock/Indicators/LinearRegressionAngle/LinearRegressionAngle.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e){var r,o,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=t.seriesTypes.linearRegression,s=e.extend,e=e.merge,i=(n(a,o=i),a.prototype.slopeToAngle=function(t){return Math.atan(t)*(180/Math.PI)},a.prototype.getEndPointY=function(t){return this.slopeToAngle(t.slope)},a.defaultOptions=e(i.defaultOptions,{tooltip:{pointFormat:'<span style="color:{point.color}">●</span>{series.name}: <b>{point.y}°</b><br/>'}}),a);function a(){var t=null!==o&&o.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return s(i.prototype,{nameBase:"Linear Regression Angle Indicator"}),t.registerSeriesType("linearRegressionAngle",i),i}),e(t,"Stock/Indicators/ABands/ABandsIndicator.js",[t["Stock/Indicators/MultipleLinesComposition.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e,o){var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=e.seriesTypes.sma,m=o.correctFloat,s=o.extend,o=o.merge;var _,i=(n(a,_=i),a.prototype.getValues=function(t,e){var o,r,n,i,s,a=e.period,p=e.factor,l=e.index,u=t.xData,c=t.yData,d=c?c.length:0,h=[],y=[],f=[],v=[],g=[];if(!(d<a)){for(r=0;r<=d;r++)r<d&&(n=c[r][2],i=c[r][1],s=p,o=m(i-n)/(m(i+n)/2)*1e3*s,h.push(c[r][1]*m(1+2*o)),y.push(c[r][2]*m(1-2*o))),a<=r&&(i=u.slice(r-a,r),n=c.slice(r-a,r),s=_.prototype.getValues.call(this,{xData:i,yData:h.slice(r-a,r)},{period:a}),o=_.prototype.getValues.call(this,{xData:i,yData:y.slice(r-a,r)},{period:a}),n=(i=_.prototype.getValues.call(this,{xData:i,yData:n},{period:a,index:l})).xData[0],s=s.yData[0],o=o.yData[0],i=i.yData[0],f.push([n,s,i,o]),v.push(n),g.push([s,i,o]));return{values:f,xData:v,yData:g}}},a.defaultOptions=o(i.defaultOptions,{params:{period:20,factor:.001,index:3},lineWidth:1,topLine:{styles:{lineWidth:1}},bottomLine:{styles:{lineWidth:1}},dataGrouping:{approximation:"averages"}}),a);function a(){var t=null!==_&&_.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return s(i.prototype,{areaLinesNames:["top","bottom"],linesApiNames:["topLine","bottomLine"],nameBase:"Acceleration Bands",nameComponents:["period","factor"],pointArrayMap:["top","middle","bottom"],pointValKey:"middle"}),t.compose(i),e.registerSeriesType("abands",i),i}),e(t,"Stock/Indicators/TrendLine/TrendLineIndicator.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e){var r,o,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=t.seriesTypes.sma,s=e.extend,a=e.merge,m=e.isArray,i=(n(p,o=i),p.prototype.getValues=function(t,e){for(var o,r,n,i,s=t.xData,a=t.yData,p=[],l=[],u=[],c=0,d=0,h=0,y=0,f=s.length,v=e.index,g=0;g<f;g++)c+=n=s[g],d+=i=m(a[g])?a[g][v]:a[g],h+=n*i,y+=n*n;for(o=(f*h-c*d)/(f*y-c*c),r=(d-(o=isNaN(o)?0:o)*c)/f,g=0;g<f;g++)n=s[g],p[g]=[n,i=o*n+r],l[g]=n,u[g]=i;return{xData:l,yData:u,values:p}},p.defaultOptions=a(i.defaultOptions,{params:{period:void 0,index:3}}),p);function p(){var t=null!==o&&o.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return s(i.prototype,{nameBase:"Trendline",nameComponents:!1}),t.registerSeriesType("trendline",i),i}),e(t,"Stock/Indicators/DisparityIndex/DisparityIndexIndicator.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(o,t){var r,e,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=o.seriesTypes.sma,s=t.correctFloat,f=t.defined,a=t.extend,v=t.isArray,t=t.merge,t=(n(p,e=i),p.prototype.init=function(){var t=arguments,e=t[1].params,e=e&&e.average?e.average:void 0;this.averageIndicator=o.seriesTypes[e]||i,this.averageIndicator.prototype.init.apply(this,t)},p.prototype.calculateDisparityIndex=function(t,e){return s(t-e)/e*100},p.prototype.getValues=function(t,e){var o=e.index,r=t.xData,n=t.yData,i=n?n.length:0,s=[],a=[],p=[],l=this.averageIndicator,u=v(n[0]),e=l.prototype.getValues(t,e),c=e.yData,d=r.indexOf(e.xData[0]);if(c&&0!==c.length&&f(o)&&!(n.length<=d)){for(var h=d;h<i;h++){var y=this.calculateDisparityIndex(u?n[h][o]:n[h],c[h-d]);s.push([r[h],y]),a.push(r[h]),p.push(y)}return{values:s,xData:a,yData:p}}},p.defaultOptions=t(i.defaultOptions,{params:{average:"sma",index:3},marker:{enabled:!1},dataGrouping:{approximation:"averages"}}),p);function p(){var t=null!==e&&e.apply(this,arguments)||this;return t.averageIndicator=void 0,t.data=void 0,t.options=void 0,t.points=void 0,t}return a(t.prototype,{nameBase:"Disparity Index",nameComponents:["period","average"]}),o.registerSeriesType("disparityindex",t),t}),e(t,"masters/indicators/indicators-all.src.js",[],function(){})});