"use strict";!function(t){"object"==typeof module&&module.exports?module.exports=t.default=t:"function"==typeof define&&define.amd?define("highcharts/indicators/regressions",["highcharts","highcharts/modules/stock"],function(e){return t(e),t.Highcharts=e,t}):t("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(e){function t(e,t,n,r){e.hasOwnProperty(t)||(e[t]=r.apply(null,n))}t(e=e?e._modules:{},"Stock/Indicators/LinearRegression/LinearRegression.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){var r,n,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=e.seriesTypes.sma,c=t.isArray,s=t.extend,a=t.merge;function p(){var e=null!==n&&n.apply(this,arguments)||this;return e.data=void 0,e.options=void 0,e.points=void 0,e}return o(p,n=i),p.prototype.getRegressionLineParameters=function(e,t){function n(e,t){return c(e)?e[t]:e}var r=this.options.params.index,o=e.reduce(function(e,t){return t+e},0),i=t.reduce(function(e,t){return n(t,r)+e},0);o/=e.length,i/=t.length;for(var s=0,a=0,p=0;p<e.length;p++){var u=e[p]-o;s+=u*(n(t[p],r)-i),a+=Math.pow(u,2)}return{slope:e=a?s/a:0,intercept:i-e*o}},p.prototype.getEndPointY=function(e,t){return e.slope*t+e.intercept},p.prototype.transformXData=function(e,t){var n=e[0];return e.map(function(e){return(e-n)/t})},p.prototype.findClosestDistance=function(e){for(var t,n=1;n<e.length-1;n++){var r=e[n]-e[n-1];0<r&&(void 0===t||r<t)&&(t=r)}return t},p.prototype.getValues=function(e,t){var n=e.xData;e=e.yData,t=t.period;for(var r={xData:[],yData:[],values:[]},o=this.options.params.xAxisUnit||this.findClosestDistance(n),i=t-1;i<=n.length-1;i++){var s=n[i],a=n.slice(p=i-t+1,u=i+1),p=e.slice(p,u),u=this.transformXData(a,o),a=this.getRegressionLineParameters(u,p);p=this.getEndPointY(a,u[u.length-1]),r.values.push({regressionLineParameters:a,x:s,y:p}),r.xData.push(s),r.yData.push(p)}return r},p.defaultOptions=a(i.defaultOptions,{params:{xAxisUnit:null},tooltip:{valueDecimals:4}}),s((t=p).prototype,{nameBase:"Linear Regression Indicator"}),e.registerSeriesType("linearRegression",t),t}),t(e,"Stock/Indicators/LinearRegressionSlopes/LinearRegressionSlopes.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){var r,n,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=e.seriesTypes.linearRegression,s=t.extend,a=t.merge;function p(){var e=null!==n&&n.apply(this,arguments)||this;return e.data=void 0,e.options=void 0,e.points=void 0,e}return o(p,n=i),p.prototype.getEndPointY=function(e){return e.slope},p.defaultOptions=a(i.defaultOptions),s((t=p).prototype,{nameBase:"Linear Regression Slope Indicator"}),e.registerSeriesType("linearRegressionSlope",t),t}),t(e,"Stock/Indicators/LinearRegressionIntercept/LinearRegressionIntercept.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){var r,n,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=e.seriesTypes.linearRegression,s=t.extend,a=t.merge;function p(){var e=null!==n&&n.apply(this,arguments)||this;return e.data=void 0,e.options=void 0,e.points=void 0,e}return o(p,n=i),p.prototype.getEndPointY=function(e){return e.intercept},p.defaultOptions=a(i.defaultOptions),s((t=p).prototype,{nameBase:"Linear Regression Intercept Indicator"}),e.registerSeriesType("linearRegressionIntercept",t),t}),t(e,"Stock/Indicators/LinearRegressionAngle/LinearRegressionAngle.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){var r,n,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=e.seriesTypes.linearRegression,s=t.extend,a=t.merge;function p(){var e=null!==n&&n.apply(this,arguments)||this;return e.data=void 0,e.options=void 0,e.points=void 0,e}return o(p,n=i),p.prototype.slopeToAngle=function(e){return 180/Math.PI*Math.atan(e)},p.prototype.getEndPointY=function(e){return this.slopeToAngle(e.slope)},p.defaultOptions=a(i.defaultOptions,{tooltip:{pointFormat:'<span style="color:{point.color}">●</span>{series.name}: <b>{point.y}°</b><br/>'}}),s((t=p).prototype,{nameBase:"Linear Regression Angle Indicator"}),e.registerSeriesType("linearRegressionAngle",t),t}),t(e,"masters/indicators/regressions.src.js",[],function(){})});