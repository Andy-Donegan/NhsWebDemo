"use strict";!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/highcharts-3d",["highcharts"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){t=t?t._modules:{};function e(t,e,i,o){t.hasOwnProperty(e)||(t[e]=o.apply(null,i))}e(t,"Extensions/Math3D.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(t,e){var l=e.pick,p=t.deg2rad;function c(t,e,i){i=0<i&&i<Number.POSITIVE_INFINITY?i/(t.z+e.z+i):1;return{x:t.x*i,y:t.y*i}}function o(t,e,i,o){var s=e.options.chart.options3d,r=l(o,!!i&&e.inverted),a={x:e.plotWidth/2,y:e.plotHeight/2,z:s.depth/2,vd:l(s.depth,1)*l(s.viewDistance,0)},n=e.scale3d||1,o=p*s.beta*(r?-1:1),s=p*s.alpha*(r?-1:1),h={cosA:Math.cos(s),cosB:Math.cos(-o),sinA:Math.sin(s),sinB:Math.sin(-o)};return i||(a.x+=e.plotLeft,a.y+=e.plotTop),t.map(function(t){var e,i,i=(e=(r?t.y:t.x)-a.x,i=(r?t.x:t.y)-a.y,t=(t.z||0)-a.z,{x:h.cosB*e-h.sinB*t,y:-h.sinA*h.sinB*e+h.cosA*i-h.cosB*h.sinA*t,z:h.cosA*h.sinB*e+h.sinA*i+h.cosA*h.cosB*t}),t=c(i,a,a.vd);return t.x=t.x*n+a.x,t.y=t.y*n+a.y,t.z=i.z*n+a.z,{x:r?t.y:t.x,y:r?t.x:t.y,z:t.z}})}function i(t,e){var i=e.options.chart.options3d,o=e.plotWidth/2,e=e.plotHeight/2,i=l(i.depth,1)*l(i.viewDistance,0)+i.depth;return Math.sqrt(Math.pow(o-l(t.plotX,t.x),2)+Math.pow(e-l(t.plotY,t.y),2)+Math.pow(i-l(t.plotZ,t.z),2))}function s(t){for(var e,i=0,o=0;o<t.length;o++)e=(o+1)%t.length,i+=t[o].x*t[e].y-t[e].x*t[o].y;return i/2}function r(t,e,i){return s(o(t,e,i))}return t.perspective3D=c,{perspective:t.perspective=o,perspective3D:c,pointCameraDistance:t.pointCameraDistance=i,shapeArea:t.shapeArea=s,shapeArea3D:t.shapeArea3d=r}}),e(t,"Core/Renderer/SVG/SVGElement3D.js",[t["Core/Color/Color.js"],t["Core/Renderer/SVG/SVGElement.js"],t["Core/Utilities.js"]],function(t,r,e){var i=t.parse,a=e.defined,t=e.merge,h=e.objectEach,n=e.pick,l={base:{initArgs:function(t){var e=this,i=e.renderer,o=i[e.pathType+"Path"](t),s=o.zIndexes;e.parts.forEach(function(t){e[t]=i.path(o[t]).attr({class:"highcharts-3d-"+t,zIndex:s[t]||0}).add(e)}),e.attr({"stroke-linejoin":"round",zIndex:s.group}),e.originalDestroy=e.destroy,e.destroy=e.destroyParts,e.forcedSides=o.forcedSides},singleSetterForParts:function(i,t,o,e,s,r){var a={},r=[null,null,e||"attr",s,r],n=o&&o.zIndexes;return o?(n&&n.group&&this.attr({zIndex:n.group}),h(o,function(t,e){a[e]={},a[e][i]=t,n&&(a[e].zIndex=o.zIndexes[e]||0)}),r[1]=a):(a[i]=t,r[0]=a),this.processParts.apply(this,r)},processParts:function(e,i,o,s,r){var a=this;return a.parts.forEach(function(t){!1!==(e=i?n(i[t],!1):e)&&a[t][o](e,s,r)}),a},destroyParts:function(){return this.processParts(null,null,"destroy"),this.originalDestroy()}}};return l.cuboid=t(l.base,{parts:["front","top","side"],pathType:"cuboid",attr:function(t,e,i,o){var s;return"string"==typeof t&&void 0!==e&&(s=t,(t={})[s]=e),t.shapeArgs||a(t.x)?this.singleSetterForParts("d",null,this.renderer[this.pathType+"Path"](t.shapeArgs||t)):r.prototype.attr.call(this,t,void 0,i,o)},animate:function(t,e,i){var o,s;return a(t.x)&&a(t.y)?(s=(o=this.renderer[this.pathType+"Path"](t)).forcedSides,this.singleSetterForParts("d",null,o,"animate",e,i),this.attr({zIndex:o.zIndexes.group}),s!==this.forcedSides&&(this.forcedSides=s,l.cuboid.fillSetter.call(this,this.fill))):r.prototype.animate.call(this,t,e,i),this},fillSetter:function(t){var e=this;return e.forcedSides=e.forcedSides||[],e.singleSetterForParts("fill",null,{front:t,top:i(t).brighten(0<=e.forcedSides.indexOf("top")?0:.1).get(),side:i(t).brighten(0<=e.forcedSides.indexOf("side")?0:-.1).get()}),e.color=e.fill=t,e}}),l}),e(t,"Core/Renderer/SVG/SVGRenderer3D.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Color/Color.js"],t["Core/Globals.js"],t["Extensions/Math3D.js"],t["Core/Renderer/SVG/SVGElement.js"],t["Core/Renderer/SVG/SVGElement3D.js"],t["Core/Renderer/SVG/SVGRenderer.js"],t["Core/Utilities.js"]],function(t,e,p,i,c,o,s,r){var a,n,h=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),d=t.animObject,x=e.parse,b=p.charts,y=p.deg2rad,v=i.perspective,g=i.shapeArea,l=r.defined,f=r.extend,u=r.merge,z=r.pick,m=Math.cos,P=Math.sin,M=Math.PI,A=4*(Math.sqrt(2)-1)/3/(M/2);function S(){return null!==n&&n.apply(this,arguments)||this}return h(S,n=s),S.compose=function(t){var e=t.prototype,t=S.prototype;e.elements3d=o,e.arc3d=t.arc3d,e.arc3dPath=t.arc3dPath,e.cuboid=t.cuboid,e.cuboidPath=t.cuboidPath,e.element3d=t.element3d,e.face3d=t.face3d,e.polyhedron=t.polyhedron,e.toLinePath=t.toLinePath,e.toLineSegments=t.toLineSegments},S.curveTo=function(t,e,i,o,s,r,a,n){var h=[],l=r-s;return s<r&&r-s>Math.PI/2+1e-4?h=(h=h.concat(this.curveTo(t,e,i,o,s,s+Math.PI/2,a,n))).concat(this.curveTo(t,e,i,o,s+Math.PI/2,r,a,n)):r<s&&s-r>Math.PI/2+1e-4?h=(h=h.concat(this.curveTo(t,e,i,o,s,s-Math.PI/2,a,n))).concat(this.curveTo(t,e,i,o,s-Math.PI/2,r,a,n)):[["C",t+i*Math.cos(s)-i*A*l*Math.sin(s)+a,e+o*Math.sin(s)+o*A*l*Math.cos(s)+n,t+i*Math.cos(r)+i*A*l*Math.sin(r)+a,e+o*Math.sin(r)-o*A*l*Math.cos(r)+n,t+i*Math.cos(r)+a,e+o*Math.sin(r)+n]]},S.prototype.toLinePath=function(t,e){var i=[];return t.forEach(function(t){i.push(["L",t.x,t.y])}),t.length&&(i[0][0]="M",e&&i.push(["Z"])),i},S.prototype.toLineSegments=function(t){var e=[],i=!0;return t.forEach(function(t){e.push(i?["M",t.x,t.y]:["L",t.x,t.y]),i=!i}),e},S.prototype.face3d=function(t){var o=this,e=this.createElement("path");return e.vertexes=[],e.insidePlotArea=!1,e.enabled=!0,e.attr=function(t){var e,i;return"object"==typeof t&&(l(t.enabled)||l(t.vertexes)||l(t.insidePlotArea))&&(this.enabled=z(t.enabled,this.enabled),this.vertexes=z(t.vertexes,this.vertexes),this.insidePlotArea=z(t.insidePlotArea,this.insidePlotArea),delete t.enabled,delete t.vertexes,delete t.insidePlotArea,e=b[o.chartIndex],i=v(this.vertexes,e,this.insidePlotArea),e=o.toLinePath(i,!0),i=g(i),t.d=e,t.visibility=this.enabled&&0<i?"visible":"hidden"),c.prototype.attr.apply(this,arguments)},e.animate=function(t){var e,i;return"object"==typeof t&&(l(t.enabled)||l(t.vertexes)||l(t.insidePlotArea))&&(this.enabled=z(t.enabled,this.enabled),this.vertexes=z(t.vertexes,this.vertexes),this.insidePlotArea=z(t.insidePlotArea,this.insidePlotArea),delete t.enabled,delete t.vertexes,delete t.insidePlotArea,e=b[o.chartIndex],i=v(this.vertexes,e,this.insidePlotArea),e=o.toLinePath(i,!0),i=g(i),i=this.enabled&&0<i?"visible":"hidden",t.d=e,this.attr("visibility",i)),c.prototype.animate.apply(this,arguments)},e.attr(t)},S.prototype.polyhedron=function(t){var r=this,a=this.g(),e=a.destroy;return this.styledMode||a.attr({"stroke-linejoin":"round"}),a.faces=[],a.destroy=function(){for(var t=0;t<a.faces.length;t++)a.faces[t].destroy();return e.call(this)},a.attr=function(t,e,i,o){if("object"==typeof t&&l(t.faces)){for(;a.faces.length>t.faces.length;)a.faces.pop().destroy();for(;a.faces.length<t.faces.length;)a.faces.push(r.face3d().add(a));for(var s=0;s<t.faces.length;s++)r.styledMode&&delete t.faces[s].fill,a.faces[s].attr(t.faces[s],null,i,o);delete t.faces}return c.prototype.attr.apply(this,arguments)},a.animate=function(t,e,i){if(t&&t.faces){for(;a.faces.length>t.faces.length;)a.faces.pop().destroy();for(;a.faces.length<t.faces.length;)a.faces.push(r.face3d().add(a));for(var o=0;o<t.faces.length;o++)a.faces[o].animate(t.faces[o],e,i);delete t.faces}return c.prototype.animate.apply(this,arguments)},a.attr(t)},S.prototype.element3d=function(t,e){var i=this.g();return f(i,this.elements3d[t]),i.initArgs(e),i},S.prototype.cuboid=function(t){return this.element3d("cuboid",t)},S.prototype.cuboidPath=function(t){var e,i,o,s,r=t.x||0,a=t.y||0,n=t.z||0,h=t.height||0,l=t.width||0,p=t.depth||0,c=b[this.chartIndex],d=c.options.chart.options3d.alpha,x=0,y=[{x:r,y:a,z:n},{x:r+l,y:a,z:n},{x:r+l,y:a+h,z:n},{x:r,y:a+h,z:n},{x:r,y:a+h,z:n+p},{x:r+l,y:a+h,z:n+p},{x:r+l,y:a,z:n+p},{x:r,y:a,z:n+p}],f=[];function u(t){return 0===h&&1<t&&t<6?{x:y[t].x,y:y[t].y+10,z:y[t].z}:y[0].x===y[7].x&&4<=t?{x:y[t].x+10,y:y[t].y,z:y[t].z}:0===p&&t<2||5<t?{x:y[t].x,y:y[t].y,z:y[t].z+10}:y[t]}function z(t){return y[t]}return y=v(y,c,t.insidePlotArea),e=(o=(s=function(t,e,i){var o=[[],-1],s=t.map(z),r=e.map(z),t=t.map(u),e=e.map(u);return g(s)<0?o=[s,0]:g(r)<0?o=[r,1]:i&&(f.push(i),o=!(g(t)<0)&&g(e)<0?[r,1]:[s,0]),o})([3,2,1,0],[7,6,5,4],"front"))[0],i=o[1],l=(o=s([1,6,7,0],[4,5,2,3],"top"))[0],t=o[1],s=(o=s([1,2,5,6],[0,7,4,3],"side"))[0],1===(o=o[1])?x+=1e6*(c.plotWidth-r):o||(x+=1e6*r),x+=10*(!t||0<=d&&d<=180||d<360&&357.5<d?c.plotHeight-a:10+a),1===i?x+=100*n:i||(x+=100*(1e3-n)),{front:this.toLinePath(e,!0),top:this.toLinePath(l,!0),side:this.toLinePath(s,!0),zIndexes:{group:Math.round(x)},forcedSides:f,isFront:i,isTop:t}},S.prototype.arc3d=function(t){var h=this.g(),e=h.renderer,s=["x","y","r","innerR","start","end","depth"];function l(t){var e,i=!1,o={};for(e in t=u(t))-1!==s.indexOf(e)&&(o[e]=t[e],delete t[e],i=!0);return!!i&&[o,t]}return(t=u(t)).alpha=(t.alpha||0)*y,t.beta=(t.beta||0)*y,h.top=e.path(),h.side1=e.path(),h.side2=e.path(),h.inn=e.path(),h.out=e.path(),h.onAdd=function(){var e=h.parentGroup,i=h.attr("class");h.top.add(h),["out","inn","side1","side2"].forEach(function(t){h[t].attr({class:i+" highcharts-3d-side"}).add(e)})},["addClass","removeClass"].forEach(function(i){h[i]=function(){var e=arguments;["top","out","inn","side1","side2"].forEach(function(t){h[t][i].apply(h[t],e)})}}),h.setPaths=function(t){var e=h.renderer.arc3dPath(t),i=100*e.zTop;h.attribs=t,h.top.attr({d:e.top,zIndex:e.zTop}),h.inn.attr({d:e.inn,zIndex:e.zInn}),h.out.attr({d:e.out,zIndex:e.zOut}),h.side1.attr({d:e.side1,zIndex:e.zSide1}),h.side2.attr({d:e.side2,zIndex:e.zSide2}),h.zIndex=i,h.attr({zIndex:i}),t.center&&(h.top.setRadialReference(t.center),delete t.center)},h.setPaths(t),h.fillSetter=function(t){var e=x(t).brighten(-.1).get();return this.fill=t,this.side1.attr({fill:e}),this.side2.attr({fill:e}),this.inn.attr({fill:e}),this.out.attr({fill:e}),this.top.attr({fill:t}),this},["opacity","translateX","translateY","visibility"].forEach(function(t){h[t+"Setter"]=function(e,i){h[i]=e,["out","inn","side1","side2","top"].forEach(function(t){h[t].attr(i,e)})}}),h.attr=function(t){var e;return"object"==typeof t&&(e=l(t))&&(t=e[0],arguments[0]=e[1],f(h.attribs,t),h.setPaths(h.attribs)),c.prototype.attr.apply(h,arguments)},h.animate=function(t,e,i){var o,s,r,a=this.attribs,n="data-"+Math.random().toString(26).substring(2,9);return delete t.center,delete t.z,delete t.alpha,delete t.beta,(r=d(z(e,this.renderer.globalAnimation))).duration&&(o=l(t),h[n]=0,t[n]=1,h[n+"Setter"]=p.noop,o&&(s=o[0],r.step=function(t,e){function i(t){return a[t]+(z(s[t],a[t])-a[t])*e.pos}e.prop===n&&e.elem.setPaths(u(a,{x:i("x"),y:i("y"),r:i("r"),innerR:i("innerR"),start:i("start"),end:i("end"),depth:i("depth")}))}),e=r),c.prototype.animate.call(this,t,e,i)},h.destroy=function(){return this.top.destroy(),this.out.destroy(),this.inn.destroy(),this.side1.destroy(),this.side2.destroy(),c.prototype.destroy.call(this)},h.hide=function(){this.top.hide(),this.out.hide(),this.inn.hide(),this.side1.hide(),this.side2.hide()},h.show=function(t){this.top.show(t),this.out.show(t),this.inn.show(t),this.side1.show(t),this.side2.show(t)},h},S.prototype.arc3dPath=function(t){var e=t.x||0,i=t.y||0,o=t.start||0,s=(t.end||0)-1e-5,r=t.r||0,a=t.innerR||0,n=t.depth||0,h=t.alpha||0,l=t.beta||0,p=Math.cos(o),c=Math.sin(o),d=Math.cos(s),x=Math.sin(s),y=r*Math.cos(l),f=r*Math.cos(h),u=a*Math.cos(l),z=a*Math.cos(h),b=n*Math.sin(l),v=n*Math.sin(h),t=[["M",e+y*p,i+f*c]];(t=t.concat(S.curveTo(e,i,y,f,o,s,0,0))).push(["L",e+u*d,i+z*x]),(t=t.concat(S.curveTo(e,i,u,z,s,o,0,0))).push(["Z"]);r=0<l?Math.PI/2:0,a=0<h?0:Math.PI/2,n=!(-r<o)&&-r<s?-r:o,l=!(s<M-a)&&o<M-a?M-a:s,h=2*M-a,r=(r=[["M",e+y*m(n),i+f*P(n)]]).concat(S.curveTo(e,i,y,f,n,l,0,0));h<s&&o<h?(r.push(["L",e+y*m(l)+b,i+f*P(l)+v]),(r=r.concat(S.curveTo(e,i,y,f,l,h,b,v))).push(["L",e+y*m(h),i+f*P(h)]),(r=r.concat(S.curveTo(e,i,y,f,h,s,0,0))).push(["L",e+y*m(s)+b,i+f*P(s)+v]),(r=r.concat(S.curveTo(e,i,y,f,s,h,b,v))).push(["L",e+y*m(h),i+f*P(h)]),r=r.concat(S.curveTo(e,i,y,f,h,l,0,0))):M-a<s&&o<M-a&&(r.push(["L",e+y*Math.cos(l)+b,i+f*Math.sin(l)+v]),(r=r.concat(S.curveTo(e,i,y,f,l,s,b,v))).push(["L",e+y*Math.cos(s),i+f*Math.sin(s)]),r=r.concat(S.curveTo(e,i,y,f,s,l,0,0))),r.push(["L",e+y*Math.cos(l)+b,i+f*Math.sin(l)+v]),(r=r.concat(S.curveTo(e,i,y,f,l,n,b,v))).push(["Z"]);n=[["M",e+u*p,i+z*c]];(n=n.concat(S.curveTo(e,i,u,z,o,s,0,0))).push(["L",e+u*Math.cos(s)+b,i+z*Math.sin(s)+v]),(n=n.concat(S.curveTo(e,i,u,z,s,o,b,v))).push(["Z"]);c=[["M",e+y*p,i+f*c],["L",e+y*p+b,i+f*c+v],["L",e+u*p+b,i+z*c+v],["L",e+u*p,i+z*c],["Z"]],z=[["M",e+y*d,i+f*x],["L",e+y*d+b,i+f*x+v],["L",e+u*d+b,i+z*x+v],["L",e+u*d,i+z*x],["Z"]],x=Math.atan2(v,-b),v=Math.abs(s+x),b=Math.abs(o+x),x=Math.abs((o+s)/2+x);function g(t){return t=(t%=2*Math.PI)>Math.PI?2*Math.PI-t:t}v=g(v),b=g(b),x=1e5*(x=g(x)),b*=1e5,v*=1e5;return{top:t,zTop:1e5*Math.PI+1,out:r,zOut:Math.max(x,b,v),inn:n,zInn:Math.max(x,b,v),side1:c,zSide1:.99*v,side2:z,zSide2:.99*b}},S}),e(t,"Core/Chart/Chart3D.js",[t["Core/Color/Color.js"],t["Extensions/Math3D.js"],t["Core/DefaultOptions.js"],t["Core/Utilities.js"]],function(t,e,i,o){var s,r,a,f=t.parse,v=e.perspective,g=e.shapeArea3D,n=i.defaultOptions,h=o.addEvent,l=o.isArray,p=o.merge,m=o.pick,c=o.wrap;function d(t){this.frame3d=void 0,this.chart=t}function x(t){this.is3d()&&"scatter"===t.options.type&&(t.options.type="scatter3d")}function y(){var t,e,i,o,s,r,a,n,h,l,p,c,d,x,y;this.chart3d&&this.is3d()&&(e=(t=this).renderer,y=t.options.chart.options3d,i=t.chart3d.get3dFrame(),o=t.plotLeft,s=t.plotLeft+t.plotWidth,r=t.plotTop,a=t.plotTop+t.plotHeight,n=y.depth,h=o-(i.left.visible?i.left.size:0),l=s+(i.right.visible?i.right.size:0),p=r-(i.top.visible?i.top.size:0),c=a+(i.bottom.visible?i.bottom.size:0),d=0-(i.front.visible?i.front.size:0),x=n+(i.back.visible?i.back.size:0),y=t.hasRendered?"animate":"attr",t.chart3d.frame3d=i,t.frameShapes||(t.frameShapes={bottom:e.polyhedron().add(),top:e.polyhedron().add(),left:e.polyhedron().add(),right:e.polyhedron().add(),back:e.polyhedron().add(),front:e.polyhedron().add()}),t.frameShapes.bottom[y]({class:"highcharts-3d-frame highcharts-3d-frame-bottom",zIndex:i.bottom.frontFacing?-1e3:1e3,faces:[{fill:f(i.bottom.color).brighten(.1).get(),vertexes:[{x:h,y:c,z:d},{x:l,y:c,z:d},{x:l,y:c,z:x},{x:h,y:c,z:x}],enabled:i.bottom.visible},{fill:f(i.bottom.color).brighten(.1).get(),vertexes:[{x:o,y:a,z:n},{x:s,y:a,z:n},{x:s,y:a,z:0},{x:o,y:a,z:0}],enabled:i.bottom.visible},{fill:f(i.bottom.color).brighten(-.1).get(),vertexes:[{x:h,y:c,z:d},{x:h,y:c,z:x},{x:o,y:a,z:n},{x:o,y:a,z:0}],enabled:i.bottom.visible&&!i.left.visible},{fill:f(i.bottom.color).brighten(-.1).get(),vertexes:[{x:l,y:c,z:x},{x:l,y:c,z:d},{x:s,y:a,z:0},{x:s,y:a,z:n}],enabled:i.bottom.visible&&!i.right.visible},{fill:f(i.bottom.color).get(),vertexes:[{x:l,y:c,z:d},{x:h,y:c,z:d},{x:o,y:a,z:0},{x:s,y:a,z:0}],enabled:i.bottom.visible&&!i.front.visible},{fill:f(i.bottom.color).get(),vertexes:[{x:h,y:c,z:x},{x:l,y:c,z:x},{x:s,y:a,z:n},{x:o,y:a,z:n}],enabled:i.bottom.visible&&!i.back.visible}]}),t.frameShapes.top[y]({class:"highcharts-3d-frame highcharts-3d-frame-top",zIndex:i.top.frontFacing?-1e3:1e3,faces:[{fill:f(i.top.color).brighten(.1).get(),vertexes:[{x:h,y:p,z:x},{x:l,y:p,z:x},{x:l,y:p,z:d},{x:h,y:p,z:d}],enabled:i.top.visible},{fill:f(i.top.color).brighten(.1).get(),vertexes:[{x:o,y:r,z:0},{x:s,y:r,z:0},{x:s,y:r,z:n},{x:o,y:r,z:n}],enabled:i.top.visible},{fill:f(i.top.color).brighten(-.1).get(),vertexes:[{x:h,y:p,z:x},{x:h,y:p,z:d},{x:o,y:r,z:0},{x:o,y:r,z:n}],enabled:i.top.visible&&!i.left.visible},{fill:f(i.top.color).brighten(-.1).get(),vertexes:[{x:l,y:p,z:d},{x:l,y:p,z:x},{x:s,y:r,z:n},{x:s,y:r,z:0}],enabled:i.top.visible&&!i.right.visible},{fill:f(i.top.color).get(),vertexes:[{x:h,y:p,z:d},{x:l,y:p,z:d},{x:s,y:r,z:0},{x:o,y:r,z:0}],enabled:i.top.visible&&!i.front.visible},{fill:f(i.top.color).get(),vertexes:[{x:l,y:p,z:x},{x:h,y:p,z:x},{x:o,y:r,z:n},{x:s,y:r,z:n}],enabled:i.top.visible&&!i.back.visible}]}),t.frameShapes.left[y]({class:"highcharts-3d-frame highcharts-3d-frame-left",zIndex:i.left.frontFacing?-1e3:1e3,faces:[{fill:f(i.left.color).brighten(.1).get(),vertexes:[{x:h,y:c,z:d},{x:o,y:a,z:0},{x:o,y:a,z:n},{x:h,y:c,z:x}],enabled:i.left.visible&&!i.bottom.visible},{fill:f(i.left.color).brighten(.1).get(),vertexes:[{x:h,y:p,z:x},{x:o,y:r,z:n},{x:o,y:r,z:0},{x:h,y:p,z:d}],enabled:i.left.visible&&!i.top.visible},{fill:f(i.left.color).brighten(-.1).get(),vertexes:[{x:h,y:c,z:x},{x:h,y:p,z:x},{x:h,y:p,z:d},{x:h,y:c,z:d}],enabled:i.left.visible},{fill:f(i.left.color).brighten(-.1).get(),vertexes:[{x:o,y:r,z:n},{x:o,y:a,z:n},{x:o,y:a,z:0},{x:o,y:r,z:0}],enabled:i.left.visible},{fill:f(i.left.color).get(),vertexes:[{x:h,y:c,z:d},{x:h,y:p,z:d},{x:o,y:r,z:0},{x:o,y:a,z:0}],enabled:i.left.visible&&!i.front.visible},{fill:f(i.left.color).get(),vertexes:[{x:h,y:p,z:x},{x:h,y:c,z:x},{x:o,y:a,z:n},{x:o,y:r,z:n}],enabled:i.left.visible&&!i.back.visible}]}),t.frameShapes.right[y]({class:"highcharts-3d-frame highcharts-3d-frame-right",zIndex:i.right.frontFacing?-1e3:1e3,faces:[{fill:f(i.right.color).brighten(.1).get(),vertexes:[{x:l,y:c,z:x},{x:s,y:a,z:n},{x:s,y:a,z:0},{x:l,y:c,z:d}],enabled:i.right.visible&&!i.bottom.visible},{fill:f(i.right.color).brighten(.1).get(),vertexes:[{x:l,y:p,z:d},{x:s,y:r,z:0},{x:s,y:r,z:n},{x:l,y:p,z:x}],enabled:i.right.visible&&!i.top.visible},{fill:f(i.right.color).brighten(-.1).get(),vertexes:[{x:s,y:r,z:0},{x:s,y:a,z:0},{x:s,y:a,z:n},{x:s,y:r,z:n}],enabled:i.right.visible},{fill:f(i.right.color).brighten(-.1).get(),vertexes:[{x:l,y:c,z:d},{x:l,y:p,z:d},{x:l,y:p,z:x},{x:l,y:c,z:x}],enabled:i.right.visible},{fill:f(i.right.color).get(),vertexes:[{x:l,y:p,z:d},{x:l,y:c,z:d},{x:s,y:a,z:0},{x:s,y:r,z:0}],enabled:i.right.visible&&!i.front.visible},{fill:f(i.right.color).get(),vertexes:[{x:l,y:c,z:x},{x:l,y:p,z:x},{x:s,y:r,z:n},{x:s,y:a,z:n}],enabled:i.right.visible&&!i.back.visible}]}),t.frameShapes.back[y]({class:"highcharts-3d-frame highcharts-3d-frame-back",zIndex:i.back.frontFacing?-1e3:1e3,faces:[{fill:f(i.back.color).brighten(.1).get(),vertexes:[{x:l,y:c,z:x},{x:h,y:c,z:x},{x:o,y:a,z:n},{x:s,y:a,z:n}],enabled:i.back.visible&&!i.bottom.visible},{fill:f(i.back.color).brighten(.1).get(),vertexes:[{x:h,y:p,z:x},{x:l,y:p,z:x},{x:s,y:r,z:n},{x:o,y:r,z:n}],enabled:i.back.visible&&!i.top.visible},{fill:f(i.back.color).brighten(-.1).get(),vertexes:[{x:h,y:c,z:x},{x:h,y:p,z:x},{x:o,y:r,z:n},{x:o,y:a,z:n}],enabled:i.back.visible&&!i.left.visible},{fill:f(i.back.color).brighten(-.1).get(),vertexes:[{x:l,y:p,z:x},{x:l,y:c,z:x},{x:s,y:a,z:n},{x:s,y:r,z:n}],enabled:i.back.visible&&!i.right.visible},{fill:f(i.back.color).get(),vertexes:[{x:o,y:r,z:n},{x:s,y:r,z:n},{x:s,y:a,z:n},{x:o,y:a,z:n}],enabled:i.back.visible},{fill:f(i.back.color).get(),vertexes:[{x:h,y:c,z:x},{x:l,y:c,z:x},{x:l,y:p,z:x},{x:h,y:p,z:x}],enabled:i.back.visible}]}),t.frameShapes.front[y]({class:"highcharts-3d-frame highcharts-3d-frame-front",zIndex:i.front.frontFacing?-1e3:1e3,faces:[{fill:f(i.front.color).brighten(.1).get(),vertexes:[{x:h,y:c,z:d},{x:l,y:c,z:d},{x:s,y:a,z:0},{x:o,y:a,z:0}],enabled:i.front.visible&&!i.bottom.visible},{fill:f(i.front.color).brighten(.1).get(),vertexes:[{x:l,y:p,z:d},{x:h,y:p,z:d},{x:o,y:r,z:0},{x:s,y:r,z:0}],enabled:i.front.visible&&!i.top.visible},{fill:f(i.front.color).brighten(-.1).get(),vertexes:[{x:h,y:p,z:d},{x:h,y:c,z:d},{x:o,y:a,z:0},{x:o,y:r,z:0}],enabled:i.front.visible&&!i.left.visible},{fill:f(i.front.color).brighten(-.1).get(),vertexes:[{x:l,y:c,z:d},{x:l,y:p,z:d},{x:s,y:r,z:0},{x:s,y:a,z:0}],enabled:i.front.visible&&!i.right.visible},{fill:f(i.front.color).get(),vertexes:[{x:s,y:r,z:0},{x:o,y:r,z:0},{x:o,y:a,z:0},{x:s,y:a,z:0}],enabled:i.front.visible},{fill:f(i.front.color).get(),vertexes:[{x:l,y:c,z:d},{x:h,y:c,z:d},{x:h,y:p,z:d},{x:l,y:p,z:d}],enabled:i.front.visible}]}))}function u(){this.styledMode&&(this.renderer.definition({tagName:"style",textContent:".highcharts-3d-top{filter: url(#highcharts-brighter)}\n.highcharts-3d-side{filter: url(#highcharts-darker)}\n"}),[{name:"darker",slope:.6},{name:"brighter",slope:1.4}].forEach(function(t){this.renderer.definition({tagName:"filter",attributes:{id:"highcharts-"+t.name},children:[{tagName:"feComponentTransfer",children:[{tagName:"feFuncR",attributes:{type:"linear",slope:t.slope}},{tagName:"feFuncG",attributes:{type:"linear",slope:t.slope}},{tagName:"feFuncB",attributes:{type:"linear",slope:t.slope}}]}]})},this))}function z(){var e=this.options;this.is3d()&&(e.series||[]).forEach(function(t){"scatter"===(t.type||e.chart.type||e.chart.defaultSeriesType)&&(t.type="scatter3d")})}function b(){var t,e,i,o,s,r,a=this,n=a.options.chart.options3d;a.chart3d&&a.is3d()&&(n&&(n.alpha=n.alpha%360+(0<=n.alpha?0:360),n.beta=n.beta%360+(0<=n.beta?0:360)),t=a.inverted,e=a.clipBox,i=a.margin,o=t?"x":"y",s=t?"height":"width",r=t?"width":"height",e[t?"y":"x"]=-(i[3]||0),e[o]=-(i[0]||0),e[s]=a.chartWidth+(i[3]||0)+(i[1]||0),e[r]=a.chartHeight+(i[0]||0)+(i[2]||0),a.scale3d=1,!0===n.fitToPlot&&(a.scale3d=a.chart3d.getScale(n.depth)),a.chart3d.frame3d=a.chart3d.get3dFrame())}function P(){this.is3d()&&(this.isDirtyBox=!0)}function M(){this.chart3d&&this.is3d()&&(this.chart3d.frame3d=this.chart3d.get3dFrame())}function A(){this.chart3d||(this.chart3d=new a(this))}function S(t){return this.is3d()||t.apply(this,[].slice.call(arguments,1))}function j(t){var e,i=this.series.length;if(this.is3d())for(;i--;)(e=this.series[i]).translate(),e.render();else t.call(this)}function D(t){t.apply(this,[].slice.call(arguments,1)),this.is3d()&&(this.container.className+=" highcharts-3d-chart")}return r=s=s||{},d.prototype.get3dFrame=function(){var a=this.chart,t=a.options.chart.options3d,e=t.frame,i=a.plotLeft,o=a.plotLeft+a.plotWidth,s=a.plotTop,r=a.plotTop+a.plotHeight,n=t.depth,h=function(t){t=g(t,a);return.5<t?1:t<-.5?-1:0},l=h([{x:i,y:r,z:n},{x:o,y:r,z:n},{x:o,y:r,z:0},{x:i,y:r,z:0}]),p=h([{x:i,y:s,z:0},{x:o,y:s,z:0},{x:o,y:s,z:n},{x:i,y:s,z:n}]),c=h([{x:i,y:s,z:0},{x:i,y:s,z:n},{x:i,y:r,z:n},{x:i,y:r,z:0}]),d=h([{x:o,y:s,z:n},{x:o,y:s,z:0},{x:o,y:r,z:0},{x:o,y:r,z:n}]),x=h([{x:i,y:r,z:0},{x:o,y:r,z:0},{x:o,y:s,z:0},{x:i,y:s,z:0}]),y=h([{x:i,y:s,z:n},{x:o,y:s,z:n},{x:o,y:r,z:n},{x:i,y:r,z:n}]),f=!1,u=!1,z=!1,b=!1;[].concat(a.xAxis,a.yAxis,a.zAxis).forEach(function(t){t&&(t.horiz?t.opposite?u=!0:f=!0:t.opposite?b=!0:z=!0)});h=function(t,e,i){for(var o=["size","color","visible"],s={},r=0;r<o.length;r++)for(var a=o[r],n=0;n<t.length;n++)if("object"==typeof t[n]){var h=t[n][a];if(null!=h){s[a]=h;break}}return!0===s.visible||!1===s.visible?i=s.visible:"auto"===s.visible&&(i=0<e),{size:m(s.size,1),color:m(s.color,"none"),frontFacing:0<e,visible:i}},c={axes:{},bottom:h([e.bottom,e.top,e],l,f),top:h([e.top,e.bottom,e],p,u),left:h([e.left,e.right,e.side,e],c,z),right:h([e.right,e.left,e.side,e],d,b),back:h([e.back,e.front,e],y,!0),front:h([e.front,e.back,e],x,!1)};return"auto"===t.axisLabelPosition?(d=[],(y=function(t,e){return t.visible!==e.visible||t.visible&&e.visible&&t.frontFacing!==e.frontFacing})(c.left,c.front)&&d.push({y:(s+r)/2,x:i,z:0,xDir:{x:1,y:0,z:0}}),y(c.left,c.back)&&d.push({y:(s+r)/2,x:i,z:n,xDir:{x:0,y:0,z:-1}}),y(c.right,c.front)&&d.push({y:(s+r)/2,x:o,z:0,xDir:{x:0,y:0,z:1}}),y(c.right,c.back)&&d.push({y:(s+r)/2,x:o,z:n,xDir:{x:-1,y:0,z:0}}),h=[],y(c.bottom,c.front)&&h.push({x:(i+o)/2,y:r,z:0,xDir:{x:1,y:0,z:0}}),y(c.bottom,c.back)&&h.push({x:(i+o)/2,y:r,z:n,xDir:{x:-1,y:0,z:0}}),e=[],y(c.top,c.front)&&e.push({x:(i+o)/2,y:s,z:0,xDir:{x:1,y:0,z:0}}),y(c.top,c.back)&&e.push({x:(i+o)/2,y:s,z:n,xDir:{x:-1,y:0,z:0}}),x=[],y(c.bottom,c.left)&&x.push({z:(0+n)/2,y:r,x:i,xDir:{x:0,y:0,z:-1}}),y(c.bottom,c.right)&&x.push({z:(0+n)/2,y:r,x:o,xDir:{x:0,y:0,z:1}}),t=[],y(c.top,c.left)&&t.push({z:(0+n)/2,y:s,x:i,xDir:{x:0,y:0,z:-1}}),y(c.top,c.right)&&t.push({z:(0+n)/2,y:s,x:o,xDir:{x:0,y:0,z:1}}),n=function(t,e,i){if(0===t.length)return null;if(1===t.length)return t[0];for(var o=v(t,a,!1),s=0,r=1;r<o.length;r++)(i*o[r][e]>i*o[s][e]||i*o[r][e]==i*o[s][e]&&o[r].z<o[s].z)&&(s=r);return t[s]},c.axes={y:{left:n(d,"x",-1),right:n(d,"x",1)},x:{top:n(e,"y",-1),bottom:n(h,"y",1)},z:{top:n(t,"y",-1),bottom:n(x,"y",1)}}):c.axes={y:{left:{x:i,z:0,xDir:{x:1,y:0,z:0}},right:{x:o,z:0,xDir:{x:0,y:0,z:1}}},x:{top:{y:s,z:0,xDir:{x:1,y:0,z:0}},bottom:{y:r,z:0,xDir:{x:1,y:0,z:0}}},z:{top:{x:z?o:i,y:s,xDir:z?{x:0,y:0,z:1}:{x:0,y:0,z:-1}},bottom:{x:z?o:i,y:r,xDir:z?{x:0,y:0,z:1}:{x:0,y:0,z:-1}}}},c},d.prototype.getScale=function(t){var e=this.chart,i=e.plotLeft,o=e.plotWidth+i,s=e.plotTop,r=e.plotHeight+s,a=i+e.plotWidth/2,n=s+e.plotHeight/2,h={minX:Number.MAX_VALUE,maxX:-Number.MAX_VALUE,minY:Number.MAX_VALUE,maxY:-Number.MAX_VALUE},l=1,p=[{x:i,y:s,z:0},{x:i,y:s,z:t}];return[0,1].forEach(function(t){p.push({x:o,y:p[t].y,z:p[t].z})}),[0,1,2,3].forEach(function(t){p.push({x:p[t].x,y:r,z:p[t].z})}),(p=v(p,e,!1)).forEach(function(t){h.minX=Math.min(h.minX,t.x),h.maxX=Math.max(h.maxX,t.x),h.minY=Math.min(h.minY,t.y),h.maxY=Math.max(h.maxY,t.y)}),i>h.minX&&(l=Math.min(l,1-Math.abs((i+a)/(h.minX+a))%1)),o<h.maxX&&(l=Math.min(l,(o-a)/(h.maxX-a))),s>h.minY&&(l=h.minY<0?Math.min(l,(s+n)/(-h.minY+s+n)):Math.min(l,1-(s+n)/(h.minY+n)%1)),l=r<h.maxY?Math.min(l,Math.abs((r-n)/(h.maxY-n))):l},a=d,r.Composition=a,r.defaultOptions={chart:{options3d:{enabled:!1,alpha:0,beta:0,depth:100,fitToPlot:!0,viewDistance:25,axisLabelPosition:null,frame:{visible:"default",size:1,bottom:{},top:{},left:{},right:{},back:{},front:{}}}}},r.compose=function(t,e){var i=t.prototype,e=e.prototype;i.is3d=function(){return Boolean(this.options.chart.options3d&&this.options.chart.options3d.enabled)},i.propsRequireDirtyBox.push("chart.options3d"),i.propsRequireUpdateSeries.push("chart.options3d"),e.matrixSetter=function(){if(this.pos<1&&(l(this.start)||l(this.end)))for(var t=this.start||[1,0,0,1,0,0],e=this.end||[1,0,0,1,0,0],i=[],o=0;o<6;o++)i.push(this.pos*e[o]+(1-this.pos)*t[o]);else i=this.end;this.elem.attr(this.prop,i,null,!0)},p(!0,n,r.defaultOptions),h(t,"init",A),h(t,"addSeries",x),h(t,"afterDrawChartBox",y),h(t,"afterGetContainer",u),h(t,"afterInit",z),h(t,"afterSetChartSize",b),h(t,"beforeRedraw",P),h(t,"beforeRender",M),c(i,"isInsidePlot",S),c(t,"renderSeries",j),c(t,"setClassName",D)},s}),e(t,"Core/Axis/ZAxis.js",[t["Core/Axis/Axis.js"],t["Core/Utilities.js"]],function(t,e){var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=e.addEvent,r=e.merge,a=e.pick,n=e.splat,e=(h.compose=function(t){s(t,"afterGetAxes",h.onAfterGetAxes);t=t.prototype;t.addZAxis=h.wrapAddZAxis,t.collectionsWithInit.zAxis=[t.addZAxis],t.collectionsWithUpdate.push("zAxis")},h.onAfterGetAxes=function(){var i=this,t=this.options,t=t.zAxis=n(t.zAxis||{});i.is3d()&&(i.zAxis=[],t.forEach(function(t,e){t.index=e,t.isX=!0,i.addZAxis(t).setScale()}))},h.wrapAddZAxis=function(t){return new p(this,t)},h);function h(){}var l,p=(i(c,l=t),c.prototype.getSeriesExtremes=function(){var o=this,s=o.chart;o.hasVisibleSeries=!1,o.dataMin=o.dataMax=o.ignoreMinPadding=o.ignoreMaxPadding=void 0,o.stacking&&o.stacking.buildStacks(),o.series.forEach(function(t){var e,i;!t.visible&&s.options.chart.ignoreHiddenSeries||(i=t.options.threshold,o.hasVisibleSeries=!(e=void 0),o.positiveValuesOnly&&i<=0&&(i=void 0),(e=t.zData).length&&(o.dataMin=Math.min(a(o.dataMin,e[0]),Math.min.apply(null,e)),o.dataMax=Math.max(a(o.dataMax,e[0]),Math.max.apply(null,e))))})},c.prototype.setAxisSize=function(){var t=this,e=t.chart;l.prototype.setAxisSize.call(this),t.width=t.len=e.options.chart.options3d&&e.options.chart.options3d.depth||0,t.right=e.chartWidth-t.width-t.left},c.prototype.setOptions=function(t){t=r({offset:0,lineWidth:0},t),this.isZAxis=!0,l.prototype.setOptions.call(this,t),this.coll="zAxis"},c.ZChartComposition=e,c);function c(t,e){e=l.call(this,t,e)||this;return e.isZAxis=!0,e}return p}),e(t,"Core/Axis/Tick3D.js",[t["Core/Utilities.js"]],function(t){var e=t.addEvent,i=t.extend,o=t.wrap;function s(){}return s.compose=function(t){e(t,"afterGetLabelPosition",s.onAfterGetLabelPosition);t=t.prototype;o(t,"getMarkPath",s.wrapGetMarkPath)},s.onAfterGetLabelPosition=function(t){var e=this.axis.axis3D;e&&i(t.pos,e.fix3dPosition(t.pos))},s.wrapGetMarkPath=function(t){this.axis.chart;var e=this.axis.axis3D,i=t.apply(this,[].slice.call(arguments,1));if(e){var o=i[0],t=i[1];if("M"===o[0]&&"L"===t[0]){t=[e.fix3dPosition({x:o[1],y:o[2],z:0}),e.fix3dPosition({x:t[1],y:t[2],z:0})];return this.axis.chart.renderer.toLineSegments(t)}}return i},s}),e(t,"Core/Axis/Axis3D.js",[t["Core/Globals.js"],t["Extensions/Math3D.js"],t["Core/Axis/Tick.js"],t["Core/Axis/Tick3D.js"],t["Core/Utilities.js"]],function(t,e,i,o,s){var b=t.deg2rad,v=e.perspective,d=e.perspective3D,g=e.shapeArea,r=s.addEvent,a=s.merge,m=s.pick,n=s.wrap,h=(l.prototype.fix3dPosition=function(t,e){var i=this.axis,o=i.chart;if("colorAxis"===i.coll||!o.chart3d||!o.is3d())return t;var s,r,a,n=b*o.options.chart.options3d.alpha,h=b*o.options.chart.options3d.beta,l=m(e&&i.options.title.position3d,i.options.labels.position3d),p=m(e&&i.options.title.skew3d,i.options.labels.skew3d),c=o.chart3d.frame3d,d=o.plotLeft,x=o.plotWidth+d,y=o.plotTop,f=o.plotHeight+y,u=0,z=0,e={x:0,y:1,z:0},o=!1;if(t=i.axis3D.swapZ({x:t.x,y:t.y,z:0}),i.isZAxis)if(i.opposite){if(null===c.axes.z.top)return{};z=t.y-y,t.x=c.axes.z.top.x,t.y=c.axes.z.top.y,s=c.axes.z.top.xDir,o=!c.top.frontFacing}else{if(null===c.axes.z.bottom)return{};z=t.y-f,t.x=c.axes.z.bottom.x,t.y=c.axes.z.bottom.y,s=c.axes.z.bottom.xDir,o=!c.bottom.frontFacing}else if(i.horiz)if(i.opposite){if(null===c.axes.x.top)return{};z=t.y-y,t.y=c.axes.x.top.y,t.z=c.axes.x.top.z,s=c.axes.x.top.xDir,o=!c.top.frontFacing}else{if(null===c.axes.x.bottom)return{};z=t.y-f,t.y=c.axes.x.bottom.y,t.z=c.axes.x.bottom.z,s=c.axes.x.bottom.xDir,o=!c.bottom.frontFacing}else if(i.opposite){if(null===c.axes.y.right)return{};u=t.x-x,t.x=c.axes.y.right.x,t.z=c.axes.y.right.z,s={x:(s=c.axes.y.right.xDir).z,y:s.y,z:-s.x}}else{if(null===c.axes.y.left)return{};u=t.x-d,t.x=c.axes.y.left.x,t.z=c.axes.y.left.z,s=c.axes.y.left.xDir}"chart"===l||("flap"===l?i.horiz?(a=Math.sin(n),r=Math.cos(n),i.opposite&&(a=-a),e={x:s.z*(a=o?-a:a),y:r,z:-s.x*a}):s={x:Math.cos(h),y:0,z:Math.sin(h)}:"ortho"===l?i.horiz?(r=Math.sin(n),a=Math.cos(n),l=Math.sin(h)*a,r=-r,a=-a*Math.cos(h),e={x:s.y*a-s.z*r,y:s.z*l-s.x*a,z:s.x*r-s.y*l},l=1/Math.sqrt(e.x*e.x+e.y*e.y+e.z*e.z),e={x:(l=o?-l:l)*e.x,y:l*e.y,z:l*e.z}):s={x:Math.cos(h),y:0,z:Math.sin(h)}:i.horiz?e={x:Math.sin(h)*Math.sin(n),y:Math.cos(n),z:-Math.cos(h)*Math.sin(n)}:s={x:Math.cos(h),y:0,z:Math.sin(h)}),t.x+=u*s.x+z*e.x,t.y+=u*s.y+z*e.y,t.z+=u*s.z+z*e.z;z=v([t],i.chart)[0];return p&&(g(v([t,{x:t.x+s.x,y:t.y+s.y,z:t.z+s.z},{x:t.x+e.x,y:t.y+e.y,z:t.z+e.z}],i.chart))<0&&(s={x:-s.x,y:-s.y,z:-s.z}),i=v([{x:t.x,y:t.y,z:t.z},{x:t.x+s.x,y:t.y+s.y,z:t.z+s.z},{x:t.x+e.x,y:t.y+e.y,z:t.z+e.z}],i.chart),z.matrix=[i[1].x-i[0].x,i[1].y-i[0].y,i[2].x-i[0].x,i[2].y-i[0].y,z.x,z.y],z.matrix[4]-=z.x*z.matrix[0]+z.y*z.matrix[2],z.matrix[5]-=z.x*z.matrix[1]+z.y*z.matrix[3]),z},l.prototype.swapZ=function(t,e){var i=this.axis;if(i.isZAxis){i=e?0:i.chart.plotLeft;return{x:i+t.z,y:t.y,z:t.x-i}}return t},l);function l(t){this.axis=t}function p(){}return p.compose=function(t){a(!0,t.defaultOptions,p.defaultOptions),t.keepProps.push("axis3D"),r(t,"init",p.onInit),r(t,"afterSetOptions",p.onAfterSetOptions),r(t,"drawCrosshair",p.onDrawCrosshair);t=t.prototype;n(t,"getLinePath",p.wrapGetLinePath),n(t,"getPlotBandPath",p.wrapGetPlotBandPath),n(t,"getPlotLinePath",p.wrapGetPlotLinePath),n(t,"getSlotWidth",p.wrapGetSlotWidth),n(t,"getTitlePosition",p.wrapGetTitlePosition),o.compose(i)},p.onAfterSetOptions=function(){var t=this.chart,e=this.options;t.is3d&&t.is3d()&&"colorAxis"!==this.coll&&(e.tickWidth=m(e.tickWidth,0),e.gridLineWidth=m(e.gridLineWidth,1))},p.onDrawCrosshair=function(t){this.chart.is3d()&&"colorAxis"!==this.coll&&t.point&&(t.point.crosshairPos=this.isXAxis?t.point.axisXpos:this.len-t.point.axisYpos)},p.onInit=function(){this.axis3D||(this.axis3D=new h(this))},p.wrapGetLinePath=function(t){return this.chart.is3d()&&"colorAxis"!==this.coll?[]:t.apply(this,[].slice.call(arguments,1))},p.wrapGetPlotBandPath=function(t){if(!this.chart.is3d()||"colorAxis"===this.coll)return t.apply(this,[].slice.call(arguments,1));var e=arguments,t=e[2],i=[],o=this.getPlotLinePath({value:e[1]}),s=this.getPlotLinePath({value:t});if(o&&s)for(var r=0;r<o.length;r+=2){var a=o[r],n=o[r+1],h=s[r],l=s[r+1];"M"===a[0]&&"L"===n[0]&&"M"===h[0]&&"L"===l[0]&&i.push(a,n,l,["L",h[1],h[2]],["Z"])}return i},p.wrapGetPlotLinePath=function(t){var e=this,i=e.axis3D,o=e.chart,s=t.apply(e,[].slice.call(arguments,1));if("colorAxis"===e.coll||!o.chart3d||!o.is3d())return s;if(null===s)return s;var r=o.options.chart.options3d,a=e.isZAxis?o.plotWidth:r.depth,t=o.chart3d.frame3d,e=s[0],r=s[1],s=[];return"M"===e[0]&&"L"===r[0]&&(a=[i.swapZ({x:e[1],y:e[2],z:0}),i.swapZ({x:e[1],y:e[2],z:a}),i.swapZ({x:r[1],y:r[2],z:0}),i.swapZ({x:r[1],y:r[2],z:a})],this.horiz?(this.isZAxis?(t.left.visible&&s.push(a[0],a[2]),t.right.visible&&s.push(a[1],a[3])):(t.front.visible&&s.push(a[0],a[2]),t.back.visible&&s.push(a[1],a[3])),t.top.visible&&s.push(a[0],a[1]),t.bottom.visible&&s.push(a[2],a[3])):(t.front.visible&&s.push(a[0],a[2]),t.back.visible&&s.push(a[1],a[3]),t.left.visible&&s.push(a[0],a[1]),t.right.visible&&s.push(a[2],a[3])),s=v(s,this.chart,!1)),o.renderer.toLineSegments(s)},p.wrapGetSlotWidth=function(t,e){var i=this,o=i.chart,s=i.ticks,r=i.gridGroup;if(i.categories&&o.frameShapes&&o.is3d()&&r&&e&&e.label){var a=r.element.childNodes[0].getBBox(),n=o.frameShapes.left.getBBox(),h=o.options.chart.options3d,l={x:o.plotWidth/2,y:o.plotHeight/2,z:h.depth/2,vd:m(h.depth,1)*m(h.viewDistance,0)},p=e.pos,c=s[p-1],r=s[p+1],o=void 0,h=void 0,s=void 0;return 0!==p&&c&&c.label&&c.label.xy&&(h=d({x:c.label.xy.x,y:c.label.xy.y,z:null},l,l.vd)),r&&r.label&&r.label.xy&&(s=d({x:r.label.xy.x,y:r.label.xy.y,z:null},l,l.vd)),o={x:e.label.xy.x,y:e.label.xy.y,z:null},o=d(o,l,l.vd),Math.abs(h?o.x-h.x:s?s.x-o.x:a.x-n.x)}return t.apply(i,[].slice.call(arguments,1))},p.wrapGetTitlePosition=function(t){t=t.apply(this,[].slice.call(arguments,1));return this.axis3D?this.axis3D.fix3dPosition(t,!0):t},p.defaultOptions={labels:{position3d:"offset",skew3d:!1},title:{position3d:null,skew3d:null}},p}),e(t,"Core/Series/Series3D.js",[t["Extensions/Math3D.js"],t["Core/Series/Series.js"],t["Core/Utilities.js"]],function(t,e,i){var o,s,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),d=t.perspective,a=i.addEvent,n=i.extend,t=i.merge,x=i.pick,y=i.isNumber,t=(r(h,s=e),h.prototype.translate=function(){s.prototype.translate.apply(this,arguments),this.chart.is3d()&&this.translate3dPoints()},h.prototype.translate3dPoints=function(){var t,e,i,o,s,r=this,a=r.options,n=r.chart,h=x(r.zAxis,n.options.zAxis[0]),l=[],p=[],c=a.stacking?y(a.stack)?a.stack:0:r.index||0;for(r.zPadding=c*(a.depth||0+(a.groupZPadding||1)),s=0;s<r.data.length;s++)t=r.data[s],h&&h.translate?(o=h.logarithmic&&h.val2lin?h.val2lin(t.z):t.z,t.plotZ=h.translate(o),t.isInside=!!t.isInside&&(o>=h.min&&o<=h.max)):t.plotZ=r.zPadding,t.axisXpos=t.plotX,t.axisYpos=t.plotY,t.axisZpos=t.plotZ,l.push({x:t.plotX,y:t.plotY,z:t.plotZ}),p.push(t.plotX||0);for(r.rawPointsX=p,e=d(l,n,!0),s=0;s<r.data.length;s++)t=r.data[s],i=e[s],t.plotX=i.x,t.plotY=i.y,t.plotZ=i.z},h.defaultOptions=t(e.defaultOptions),h);function h(){return null!==s&&s.apply(this,arguments)||this}return a(e,"afterTranslate",function(){this.chart.is3d()&&this.translate3dPoints()}),n(e.prototype,{translate3dPoints:t.prototype.translate3dPoints}),t}),e(t,"Series/Column3D/Column3DComposition.js",[t["Series/Column/ColumnSeries.js"],t["Core/Globals.js"],t["Core/Series/Series.js"],t["Extensions/Math3D.js"],t["Core/Series/SeriesRegistry.js"],t["Extensions/Stacking.js"],t["Core/Utilities.js"]],function(t,e,i,o,l,s,r){var a=t.prototype,n=e.svg,p=o.perspective,o=r.addEvent,x=r.pick,r=r.wrap;function h(t){t=t.apply(this,[].slice.call(arguments,1));return this.chart.is3d&&this.chart.is3d()&&(t.stroke=this.options.edgeColor||t.fill,t["stroke-width"]=x(this.options.edgeWidth,1)),t}function c(t,e,i){var o=this.chart.is3d&&this.chart.is3d();o&&(this.options.inactiveOtherPoints=!0),t.call(this,e,i),o&&(this.options.inactiveOtherPoints=!1)}function d(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];return this.series.chart.is3d()?this.graphic&&"g"!==this.graphic.element.nodeName:t.apply(this,e)}return r(a,"translate",function(t){t.apply(this,[].slice.call(arguments,1)),this.chart.is3d()&&this.translate3dShapes()}),r(i.prototype,"justifyDataLabel",function(t){return!arguments[2].outside3dPlot&&t.apply(this,[].slice.call(arguments,1))}),a.translate3dPoints=function(){},a.translate3dShapes=function(){var e,r=this,a=r.chart,t=r.options,n=t.depth,h=(t.stacking?t.stack||0:r.index)*(n+(t.groupZPadding||1)),l=r.borderWidth%2?.5:0;a.inverted&&!r.yAxis.reversed&&(l*=-1),!1!==t.grouping&&(h=0),h+=t.groupZPadding||1,r.data.forEach(function(i){var o,t,s;(i.outside3dPlot=null)!==i.y&&(o=i.shapeArgs,t=i.tooltipPos,[["x","width"],["y","height"]].forEach(function(t){if((s=o[t[0]]-l)<0&&(o[t[1]]+=o[t[0]]+l,o[t[0]]=-l,s=0),s+o[t[1]]>r[t[0]+"Axis"].len&&0!==o[t[1]]&&(o[t[1]]=r[t[0]+"Axis"].len-o[t[0]]),0!==o[t[1]]&&(o[t[0]]>=r[t[0]+"Axis"].len||o[t[0]]+o[t[1]]<=l)){for(var e in o)o[e]="y"===e?-9999:0;i.outside3dPlot=!0}}),"rect"===i.shapeType&&(i.shapeType="cuboid"),o.z=h,o.depth=n,o.insidePlotArea=!0,e={x:o.x+o.width/2,y:o.y,z:h+n/2},a.inverted&&(e.x=o.height,e.y=i.clientX),i.plot3d=p([e],a,!0,!1)[0],t=p([{x:t[0],y:t[1],z:h+n/2}],a,!0,!1)[0],i.tooltipPos=[t.x,t.y])}),r.z=h},r(a,"animate",function(t){var e,i,o;this.chart.is3d()?(e=this.yAxis,o=(i=this).yAxis.reversed,n&&(arguments[1]?i.data.forEach(function(t){null!==t.y&&(t.height=t.shapeArgs.height,t.shapey=t.shapeArgs.y,t.shapeArgs.height=1,o||(t.stackY?t.shapeArgs.y=t.plotY+e.translate(t.stackY):t.shapeArgs.y=t.plotY+(t.negative?-t.height:t.height)))}):(i.data.forEach(function(t){null!==t.y&&(t.shapeArgs.height=t.height,t.shapeArgs.y=t.shapey,t.graphic&&t.graphic[t.outside3dPlot?"attr":"animate"](t.shapeArgs,i.options.animation))}),this.drawDataLabels()))):t.apply(this,[].slice.call(arguments,1))}),r(a,"plotGroup",function(t,e,i,o,s,r){return"dataLabelsGroup"!==e&&this.chart.is3d()&&(this[e]&&delete this[e],r&&(this.chart.columnGroup||(this.chart.columnGroup=this.chart.renderer.g("columnGroup").add(r)),this[e]=this.chart.columnGroup,this.chart.columnGroup.attr(this.getPlotBox()),this[e].survive=!0,"group"!==e&&"markerGroup"!==e||(arguments[3]="visible"))),t.apply(this,Array.prototype.slice.call(arguments,1))}),r(a,"setVisible",function(t,e){var i=this;i.chart.is3d()&&i.data.forEach(function(t){t.visible=t.options.visible=e=void 0===e?!x(i.visible,t.visible):e,i.options.data[i.data.indexOf(t)]=t.options,t.graphic&&t.graphic.attr({visibility:e?"visible":"hidden"})}),t.apply(this,Array.prototype.slice.call(arguments,1))}),o(t,"afterInit",function(){if(this.chart.is3d()){var t=this.options,e=t.grouping,i=t.stacking,o=this.yAxis.options.reversedStacks,s=0;if(void 0===e||e){for(var r=(e=this.chart,h=i,p=e.series,c={totalStacks:0},d=1,p.forEach(function(t){l=x(t.options.stack,h?0:p.length-1-t.index),c[l]?c[l].series.push(t):(c[l]={series:[t],position:d},d++)}),c.totalStacks=d+1,c),a=t.stack||0,n=void 0,n=0;n<r[a].series.length&&r[a].series[n]!==this;n++);s=10*(r.totalStacks-r[a].position)+(o?n:-n),this.xAxis.reversed||(s=10*r.totalStacks-s)}t.depth=t.depth||25,this.z=this.z||0,t.zIndex=s}var h,l,p,c,d}),r(a,"pointAttribs",h),r(a,"setState",c),r(a.pointClass.prototype,"hasNewShapeType",d),l.seriesTypes.columnRange&&(r(o=l.seriesTypes.columnrange.prototype,"pointAttribs",h),r(o,"setState",c),r(o.pointClass.prototype,"hasNewShapeType",d),o.plotGroup=a.plotGroup,o.setVisible=a.setVisible),r(i.prototype,"alignDataLabel",function(t,e,i,o,s){var r,a,n,h=this.chart;o.outside3dPlot=e.outside3dPlot,h.is3d()&&this.is("column")&&(n=this.options,r=x(o.inside,!!this.options.stacking),a=h.options.chart.options3d,o=e.pointWidth/2||0,n={x:s.x+o,y:s.y,z:this.z+n.depth/2},h.inverted&&(r&&(s.width=0,n.x+=e.shapeArgs.height/2),90<=a.alpha&&a.alpha<=270&&(n.y+=e.shapeArgs.width)),n=p([n],h,!0,!1)[0],s.x=n.x-o,s.y=e.outside3dPlot?-9e9:n.y),t.apply(this,[].slice.call(arguments,1))}),r(s.prototype,"getStackBox",function(t,e,i,o,s,r,a,n){var h=t.apply(this,[].slice.call(arguments,1));return e.is3d()&&i.base&&(t=+i.base.split(",")[0],i=e.series[t],t=e.options.chart.options3d,i&&i instanceof l.seriesTypes.column&&(i={x:h.x+(e.inverted?a:r/2),y:h.y,z:i.options.depth/2},e.inverted&&(h.width=0,90<=t.alpha&&t.alpha<=270&&(i.y+=r)),i=p([i],e,!0,!1)[0],h.x=i.x-r/2,h.y=i.y)),h}),t}),e(t,"Series/Pie3D/Pie3DPoint.js",[t["Core/Series/SeriesRegistry.js"]],function(t){var o,e,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),t=t.seriesTypes.pie.prototype.pointClass,s=t.prototype.haloPath;function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.series=void 0,t}return i(r,e=t),r.prototype.haloPath=function(){return this.series.chart.is3d()?[]:s.apply(this,arguments)},r}),e(t,"Series/Pie3D/Pie3DSeries.js",[t["Core/Globals.js"],t["Series/Pie3D/Pie3DPoint.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e,i,o){var s,l,r=this&&this.__extends||(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),p=t.deg2rad,a=t.svg,t=i.seriesTypes.pie,i=o.extend,n=o.pick,t=(r(h,l=t),h.prototype.addPoint=function(){l.prototype.addPoint.apply(this,arguments),this.chart.is3d()&&this.update(this.userOptions,!0)},h.prototype.animate=function(t){var e,i,o,s,r;this.chart.is3d()?(e=this.options.animation,i=void 0,o=this.center,s=this.group,r=this.markerGroup,a&&(!0===e&&(e={}),t?(s.oldtranslateX=n(s.oldtranslateX,s.translateX),s.oldtranslateY=n(s.oldtranslateY,s.translateY),i={translateX:o[0],translateY:o[1],scaleX:.001,scaleY:.001},s.attr(i),r&&(r.attrSetters=s.attrSetters,r.attr(i))):(i={translateX:s.oldtranslateX,translateY:s.oldtranslateY,scaleX:1,scaleY:1},s.animate(i,e),r&&r.animate(i,e)))):l.prototype.animate.apply(this,arguments)},h.prototype.drawDataLabels=function(){var h;this.chart.is3d()&&(h=this.chart.options.chart.options3d,this.data.forEach(function(t){var e=t.shapeArgs,i=e.r,o=(e.alpha||h.alpha)*p,s=(e.beta||h.beta)*p,r=(e.start+e.end)/2,e=t.labelPosition,t=e.connectorPosition,a=-i*(1-Math.cos(o))*Math.sin(r),n=i*(Math.cos(s)-1)*Math.cos(r);[e.natural,t.breakAt,t.touchingSliceAt].forEach(function(t){t.x+=n,t.y+=a})})),l.prototype.drawDataLabels.apply(this,arguments)},h.prototype.pointAttribs=function(t){var e=l.prototype.pointAttribs.apply(this,arguments),i=this.options;return this.chart.is3d()&&!this.chart.styledMode&&(e.stroke=i.edgeColor||t.color||this.color,e["stroke-width"]=n(i.edgeWidth,1)),e},h.prototype.translate=function(){var i,o,s,t,r,a,n;l.prototype.translate.apply(this,arguments),this.chart.is3d()&&(o=(i=this).options,s=o.depth||0,t=i.chart.options.chart.options3d,r=t.alpha,a=t.beta,n=o.stacking?(o.stack||0)*s:i._i*s,n+=s/2,!1!==o.grouping&&(n=0),i.data.forEach(function(t){var e=t.shapeArgs;t.shapeType="arc3d",e.z=n,e.depth=.75*s,e.alpha=r,e.beta=a,e.center=i.center,e=(e.end+e.start)/2,t.slicedTranslation={translateX:Math.round(Math.cos(e)*o.slicedOffset*Math.cos(r*p)),translateY:Math.round(Math.sin(e)*o.slicedOffset*Math.cos(r*p))}}))},h);function h(){return null!==l&&l.apply(this,arguments)||this}return i(t.prototype,{pointClass:e}),t}),e(t,"Series/Pie3D/Pie3DComposition.js",[t["Series/Pie3D/Pie3DPoint.js"],t["Series/Pie3D/Pie3DSeries.js"],t["Core/Series/SeriesRegistry.js"]],function(t,e,i){i.seriesTypes.pie.prototype.pointClass.prototype.haloPath=t.prototype.haloPath,i.seriesTypes.pie=e}),e(t,"Series/Scatter3D/Scatter3DPoint.js",[t["Series/Scatter/ScatterSeries.js"],t["Core/Utilities.js"]],function(t,e){var o,i,s=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=e.defined;function a(){var t=null!==i&&i.apply(this,arguments)||this;return t.options=void 0,t.series=void 0,t}return i=t.prototype.pointClass,s(a,i),a.prototype.applyOptions=function(){return i.prototype.applyOptions.apply(this,arguments),r(this.z)||(this.z=0),this},a}),e(t,"Series/Scatter3D/Scatter3DSeries.js",[t["Extensions/Math3D.js"],t["Series/Scatter3D/Scatter3DPoint.js"],t["Series/Scatter/ScatterSeries.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e,i,o,s){var r,a,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),h=t.pointCameraDistance,t=s.extend,s=s.merge,i=(n(l,a=i),l.prototype.pointAttribs=function(t){var e=a.prototype.pointAttribs.apply(this,arguments);return this.chart.is3d()&&t&&(e.zIndex=h(t,this.chart)),e},l.defaultOptions=s(i.defaultOptions,{tooltip:{pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>z: <b>{point.z}</b><br/>"}}),l);function l(){var t=null!==a&&a.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return t(i.prototype,{axisTypes:["xAxis","yAxis","zAxis"],directTouch:!0,parallelArrays:["x","y","z"],pointArrayMap:["x","y","z"],pointClass:e}),o.registerSeriesType("scatter3d",i),i}),e(t,"Series/Area3DSeries.js",[t["Extensions/Math3D.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e,i){var l=t.perspective,t=e.seriesTypes,e=t.area,p=t.line,c=i.pick;(0,i.wrap)(e.prototype,"getGraphPath",function(t){var e=this,i=t.apply(e,[].slice.call(arguments,1));if(!e.chart.is3d())return i;var o=p.prototype.getGraphPath,s=e.options,r=s.stacking,a=[],t=c(s.connectNulls,"percent"===r),n=Math.round(e.yAxis.getThreshold(s.threshold));if(e.rawPointsX)for(var h=0;h<e.points.length;h++)a.push({x:e.rawPointsX[h],y:s.stacking?e.points[h].yBottom:n,z:e.zPadding});return r=e.chart.options.chart.options3d,a=l(a,e.chart,!0).map(function(t){return{plotX:t.x,plotY:t.y,plotZ:t.z}}),e.group&&r&&r.depth&&r.beta&&(e.markerGroup&&(e.markerGroup.add(e.group),e.markerGroup.attr({translateX:0,translateY:0})),e.group.attr({zIndex:Math.max(1,270<r.beta||r.beta<90?r.depth-Math.round(e.zPadding||0):Math.round(e.zPadding||0))})),a.reversed=!0,(r=o.call(e,a,!0,!0))[0]&&"M"===r[0][0]&&(r[0]=["L",r[0][1],r[0][2]]),e.areaPath&&((r=e.areaPath.splice(0,e.areaPath.length/2).concat(r)).xMap=e.areaPath.xMap,e.areaPath=r,o.call(e,[],!1,t)),i})}),e(t,"masters/highcharts-3d.src.js",[t["Core/Globals.js"],t["Core/Renderer/SVG/SVGRenderer3D.js"],t["Core/Chart/Chart3D.js"],t["Core/Axis/ZAxis.js"],t["Core/Axis/Axis3D.js"]],function(t,e,i,o,s){e.compose(t.SVGRenderer),i.compose(t.Chart,t.Fx),o.ZChartComposition.compose(t.Chart),s.compose(t.Axis)})});